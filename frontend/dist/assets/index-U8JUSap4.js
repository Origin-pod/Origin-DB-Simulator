var sx=Object.defineProperty;var ox=(t,r,s)=>r in t?sx(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var Pp=(t,r,s)=>ox(t,typeof r!="symbol"?r+"":r,s);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function tm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gu={exports:{}},ho={},Qu={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function ix(){if(zp)return Ce;zp=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(j,L,J){this.props=j,this.context=L,this.refs=E,this.updater=J||k}C.prototype.isReactComponent={},C.prototype.setState=function(j,L){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,L,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=C.prototype;function D(j,L,J){this.props=j,this.context=L,this.refs=E,this.updater=J||k}var N=D.prototype=new b;N.constructor=D,S(N,C.prototype),N.isPureReactComponent=!0;var _=Array.isArray,A=Object.prototype.hasOwnProperty,R={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function G(j,L,J){var ee,ae={},le=null,ue=null;if(L!=null)for(ee in L.ref!==void 0&&(ue=L.ref),L.key!==void 0&&(le=""+L.key),L)A.call(L,ee)&&!$.hasOwnProperty(ee)&&(ae[ee]=L[ee]);var te=arguments.length-2;if(te===1)ae.children=J;else if(1<te){for(var ce=Array(te),ke=0;ke<te;ke++)ce[ke]=arguments[ke+2];ae.children=ce}if(j&&j.defaultProps)for(ee in te=j.defaultProps,te)ae[ee]===void 0&&(ae[ee]=te[ee]);return{$$typeof:t,type:j,key:le,ref:ue,props:ae,_owner:R.current}}function Q(j,L){return{$$typeof:t,type:j.type,key:L,ref:j.ref,props:j.props,_owner:j._owner}}function re(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function U(j){var L={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(J){return L[J]})}var Y=/\/+/g;function Z(j,L){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):L.toString(36)}function P(j,L,J,ee,ae){var le=typeof j;(le==="undefined"||le==="boolean")&&(j=null);var ue=!1;if(j===null)ue=!0;else switch(le){case"string":case"number":ue=!0;break;case"object":switch(j.$$typeof){case t:case r:ue=!0}}if(ue)return ue=j,ae=ae(ue),j=ee===""?"."+Z(ue,0):ee,_(ae)?(J="",j!=null&&(J=j.replace(Y,"$&/")+"/"),P(ae,L,J,"",function(ke){return ke})):ae!=null&&(re(ae)&&(ae=Q(ae,J+(!ae.key||ue&&ue.key===ae.key?"":(""+ae.key).replace(Y,"$&/")+"/")+j)),L.push(ae)),1;if(ue=0,ee=ee===""?".":ee+":",_(j))for(var te=0;te<j.length;te++){le=j[te];var ce=ee+Z(le,te);ue+=P(le,L,J,ce,ae)}else if(ce=x(j),typeof ce=="function")for(j=ce.call(j),te=0;!(le=j.next()).done;)le=le.value,ce=ee+Z(le,te++),ue+=P(le,L,J,ce,ae);else if(le==="object")throw L=String(j),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ue}function q(j,L,J){if(j==null)return j;var ee=[],ae=0;return P(j,ee,"","",function(le){return L.call(J,le,ae++)}),ee}function B(j){if(j._status===-1){var L=j._result;L=L(),L.then(function(J){(j._status===0||j._status===-1)&&(j._status=1,j._result=J)},function(J){(j._status===0||j._status===-1)&&(j._status=2,j._result=J)}),j._status===-1&&(j._status=0,j._result=L)}if(j._status===1)return j._result.default;throw j._result}var H={current:null},T={transition:null},z={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:T,ReactCurrentOwner:R};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:q,forEach:function(j,L,J){q(j,function(){L.apply(this,arguments)},J)},count:function(j){var L=0;return q(j,function(){L++}),L},toArray:function(j){return q(j,function(L){return L})||[]},only:function(j){if(!re(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ce.Component=C,Ce.Fragment=s,Ce.Profiler=a,Ce.PureComponent=D,Ce.StrictMode=i,Ce.Suspense=h,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Ce.act=V,Ce.cloneElement=function(j,L,J){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ee=S({},j.props),ae=j.key,le=j.ref,ue=j._owner;if(L!=null){if(L.ref!==void 0&&(le=L.ref,ue=R.current),L.key!==void 0&&(ae=""+L.key),j.type&&j.type.defaultProps)var te=j.type.defaultProps;for(ce in L)A.call(L,ce)&&!$.hasOwnProperty(ce)&&(ee[ce]=L[ce]===void 0&&te!==void 0?te[ce]:L[ce])}var ce=arguments.length-2;if(ce===1)ee.children=J;else if(1<ce){te=Array(ce);for(var ke=0;ke<ce;ke++)te[ke]=arguments[ke+2];ee.children=te}return{$$typeof:t,type:j.type,key:ae,ref:le,props:ee,_owner:ue}},Ce.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},Ce.createElement=G,Ce.createFactory=function(j){var L=G.bind(null,j);return L.type=j,L},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(j){return{$$typeof:p,render:j}},Ce.isValidElement=re,Ce.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:B}},Ce.memo=function(j,L){return{$$typeof:g,type:j,compare:L===void 0?null:L}},Ce.startTransition=function(j){var L=T.transition;T.transition={};try{j()}finally{T.transition=L}},Ce.unstable_act=V,Ce.useCallback=function(j,L){return H.current.useCallback(j,L)},Ce.useContext=function(j){return H.current.useContext(j)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(j){return H.current.useDeferredValue(j)},Ce.useEffect=function(j,L){return H.current.useEffect(j,L)},Ce.useId=function(){return H.current.useId()},Ce.useImperativeHandle=function(j,L,J){return H.current.useImperativeHandle(j,L,J)},Ce.useInsertionEffect=function(j,L){return H.current.useInsertionEffect(j,L)},Ce.useLayoutEffect=function(j,L){return H.current.useLayoutEffect(j,L)},Ce.useMemo=function(j,L){return H.current.useMemo(j,L)},Ce.useReducer=function(j,L,J){return H.current.useReducer(j,L,J)},Ce.useRef=function(j){return H.current.useRef(j)},Ce.useState=function(j){return H.current.useState(j)},Ce.useSyncExternalStore=function(j,L,J){return H.current.useSyncExternalStore(j,L,J)},Ce.useTransition=function(){return H.current.useTransition()},Ce.version="18.3.1",Ce}var Ip;function Ao(){return Ip||(Ip=1,Qu.exports=ix()),Qu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function ax(){if(Rp)return ho;Rp=1;var t=Ao(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(p,h,g){var v,y={},x=null,k=null;g!==void 0&&(x=""+g),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(k=h.ref);for(v in h)i.call(h,v)&&!u.hasOwnProperty(v)&&(y[v]=h[v]);if(p&&p.defaultProps)for(v in h=p.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:r,type:p,key:x,ref:k,props:y,_owner:a.current}}return ho.Fragment=s,ho.jsx=c,ho.jsxs=c,ho}var Lp;function lx(){return Lp||(Lp=1,Gu.exports=ax()),Gu.exports}var d=lx(),F=Ao();const vo=tm(F);var ca={},Ku={exports:{}},yt={},Zu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function ux(){return Ap||(Ap=1,(function(t){function r(T,z){var V=T.length;T.push(z);e:for(;0<V;){var j=V-1>>>1,L=T[j];if(0<a(L,z))T[j]=z,T[V]=L,V=j;else break e}}function s(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var z=T[0],V=T.pop();if(V!==z){T[0]=V;e:for(var j=0,L=T.length,J=L>>>1;j<J;){var ee=2*(j+1)-1,ae=T[ee],le=ee+1,ue=T[le];if(0>a(ae,V))le<L&&0>a(ue,ae)?(T[j]=ue,T[le]=V,j=le):(T[j]=ae,T[ee]=V,j=ee);else if(le<L&&0>a(ue,V))T[j]=ue,T[le]=V,j=le;else break e}}return z}function a(T,z){var V=T.sortIndex-z.sortIndex;return V!==0?V:T.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var h=[],g=[],v=1,y=null,x=3,k=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(T){for(var z=s(g);z!==null;){if(z.callback===null)i(g);else if(z.startTime<=T)i(g),z.sortIndex=z.expirationTime,r(h,z);else break;z=s(g)}}function _(T){if(E=!1,N(T),!S)if(s(h)!==null)S=!0,B(A);else{var z=s(g);z!==null&&H(_,z.startTime-T)}}function A(T,z){S=!1,E&&(E=!1,b(G),G=-1),k=!0;var V=x;try{for(N(z),y=s(h);y!==null&&(!(y.expirationTime>z)||T&&!U());){var j=y.callback;if(typeof j=="function"){y.callback=null,x=y.priorityLevel;var L=j(y.expirationTime<=z);z=t.unstable_now(),typeof L=="function"?y.callback=L:y===s(h)&&i(h),N(z)}else i(h);y=s(h)}if(y!==null)var J=!0;else{var ee=s(g);ee!==null&&H(_,ee.startTime-z),J=!1}return J}finally{y=null,x=V,k=!1}}var R=!1,$=null,G=-1,Q=5,re=-1;function U(){return!(t.unstable_now()-re<Q)}function Y(){if($!==null){var T=t.unstable_now();re=T;var z=!0;try{z=$(!0,T)}finally{z?Z():(R=!1,$=null)}}else R=!1}var Z;if(typeof D=="function")Z=function(){D(Y)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,q=P.port2;P.port1.onmessage=Y,Z=function(){q.postMessage(null)}}else Z=function(){C(Y,0)};function B(T){$=T,R||(R=!0,Z())}function H(T,z){G=C(function(){T(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){S||k||(S=!0,B(A))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return s(h)},t.unstable_next=function(T){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var V=x;x=z;try{return T()}finally{x=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=x;x=T;try{return z()}finally{x=V}},t.unstable_scheduleCallback=function(T,z,V){var j=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?j+V:j):V=j,T){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,T={id:v++,callback:z,priorityLevel:T,startTime:V,expirationTime:L,sortIndex:-1},V>j?(T.sortIndex=V,r(g,T),s(h)===null&&T===s(g)&&(E?(b(G),G=-1):E=!0,H(_,V-j))):(T.sortIndex=L,r(h,T),S||k||(S=!0,B(A))),T},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(T){var z=x;return function(){var V=x;x=z;try{return T.apply(this,arguments)}finally{x=V}}}})(Ju)),Ju}var $p;function cx(){return $p||($p=1,Zu.exports=ux()),Zu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function dx(){if(Op)return yt;Op=1;var t=Ao(),r=cx();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function u(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(a[e]=n,e=0;e<n.length;e++)i.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function x(e){return h.call(y,e)?!0:h.call(v,e)?!1:g.test(e)?y[e]=!0:(v[e]=!0,!1)}function k(e,n,o,l){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,n,o,l){if(n===null||typeof n>"u"||k(e,n,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function E(e,n,o,l,f,m,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=m,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new E(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(b,D);C[n]=new E(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(b,D);C[n]=new E(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(b,D);C[n]=new E(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function N(e,n,o,l){var f=C.hasOwnProperty(n)?C[n]:null;(f!==null?f.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(S(n,o,f,l)&&(o=null),l||f===null?x(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):f.mustUseProperty?e[f.propertyName]=o===null?f.type===3?!1:"":o:(n=f.attributeName,l=f.attributeNamespace,o===null?e.removeAttribute(n):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,l?e.setAttributeNS(l,n,o):e.setAttribute(n,o))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),R=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),U=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),T=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=T&&e[T]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,j;function L(e){if(j===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+e}var J=!1;function ee(e,n){if(!e||J)return"";J=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(K){var l=K}Reflect.construct(e,[],n)}else{try{n.call()}catch(K){l=K}e.call(n.prototype)}else{try{throw Error()}catch(K){l=K}e()}}catch(K){if(K&&l&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),m=l.stack.split(`
`),w=f.length-1,M=m.length-1;1<=w&&0<=M&&f[w]!==m[M];)M--;for(;1<=w&&0<=M;w--,M--)if(f[w]!==m[M]){if(w!==1||M!==1)do if(w--,M--,0>M||f[w]!==m[M]){var I=`
`+f[w].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=w&&0<=M);break}}}finally{J=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?L(e):""}function ae(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case R:return"Portal";case Q:return"Profiler";case G:return"StrictMode";case Z:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case re:return(e._context.displayName||"Context")+".Provider";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case B:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}function ue(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(n);case 8:return n===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ke(e){var n=ce(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ne(e){e._valueTracker||(e._valueTracker=ke(e))}function Se(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return e&&(l=ce(e)?e.checked?"true":"false":e.value),e=l,e!==o?(n.setValue(e),!0):!1}function xe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _e(e,n){var o=n.checked;return V({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Pe(e,n){var o=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;o=te(n.value!=null?n.value:o),e._wrapperState={initialChecked:l,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function be(e,n){n=n.checked,n!=null&&N(e,"checked",n,!1)}function qe(e,n){be(e,n);var o=te(n.value),l=n.type;if(o!=null)l==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?kt(e,n.type,o):n.hasOwnProperty("defaultValue")&&kt(e,n.type,te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ot(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function kt(e,n,o){(n!=="number"||xe(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var St=Array.isArray;function Dt(e,n,o,l){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&l&&(e[o].defaultSelected=!0)}else{for(o=""+te(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function cn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return V({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jn(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(s(92));if(St(o)){if(1<o.length)throw Error(s(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:te(o)}}function Mr(e,n){var o=te(n.value),l=te(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),l!=null&&(e.defaultValue=""+l)}function er(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function dn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fn(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?dn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tr,qo=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,l,f){MSApp.execUnsafeLocalFunction(function(){return e(n,o,l,f)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function pn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rl=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(e){rl.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),nr[n]=nr[e]})});function Yo(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||nr.hasOwnProperty(e)&&nr[e]?(""+n).trim():n+"px"}function Xo(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var l=o.indexOf("--")===0,f=Yo(o,n[o],l);o==="float"&&(o="cssFloat"),l?e.setProperty(o,f):e[o]=f}}var sl=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ns(e,n){if(n){if(sl[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function Es(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function _s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bs=null,Mn=null,Tn=null;function Go(e){if(e=Zs(e)){if(typeof bs!="function")throw Error(s(280));var n=e.stateNode;n&&(n=Ci(n),bs(e.stateNode,e.type,n))}}function Qo(e){Mn?Tn?Tn.push(e):Tn=[e]:Mn=e}function Ko(){if(Mn){var e=Mn,n=Tn;if(Tn=Mn=null,Go(e),n)for(e=0;e<n.length;e++)Go(n[e])}}function Zo(e,n){return e(n)}function Jo(){}var js=!1;function ei(e,n,o){if(js)return e(n,o);js=!0;try{return Zo(e,n,o)}finally{js=!1,(Mn!==null||Tn!==null)&&(Jo(),Ko())}}function rr(e,n){var o=e.stateNode;if(o===null)return null;var l=Ci(o);if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Ms=!1;if(p)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Ms=!1}function ol(e,n,o,l,f,m,w,M,I){var K=Array.prototype.slice.call(arguments,3);try{n.apply(o,K)}catch(se){this.onError(se)}}var or=!1,Tr=null,Dr=!1,Ts=null,il={onError:function(e){or=!0,Tr=e}};function al(e,n,o,l,f,m,w,M,I){or=!1,Tr=null,ol.apply(il,arguments)}function ll(e,n,o,l,f,m,w,M,I){if(al.apply(this,arguments),or){if(or){var K=Tr;or=!1,Tr=null}else throw Error(s(198));Dr||(Dr=!0,Ts=K)}}function Kt(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function Ds(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ps(e){if(Kt(e)!==e)throw Error(s(188))}function ul(e){var n=e.alternate;if(!n){if(n=Kt(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,l=n;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return Ps(f),e;if(m===l)return Ps(f),n;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=m;else{for(var w=!1,M=f.child;M;){if(M===o){w=!0,o=f,l=m;break}if(M===l){w=!0,l=f,o=m;break}M=M.sibling}if(!w){for(M=m.child;M;){if(M===o){w=!0,o=m,l=f;break}if(M===l){w=!0,l=m,o=f;break}M=M.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function ti(e){return e=ul(e),e!==null?ni(e):null}function ni(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ni(e);if(n!==null)return n;e=e.sibling}return null}var ri=r.unstable_scheduleCallback,si=r.unstable_cancelCallback,cl=r.unstable_shouldYield,oi=r.unstable_requestPaint,Be=r.unstable_now,dl=r.unstable_getCurrentPriorityLevel,zs=r.unstable_ImmediatePriority,ii=r.unstable_UserBlockingPriority,Pr=r.unstable_NormalPriority,fl=r.unstable_LowPriority,ai=r.unstable_IdlePriority,ir=null,Pt=null;function pl(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(ir,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:gl,hl=Math.log,ml=Math.LN2;function gl(e){return e>>>=0,e===0?32:31-(hl(e)/ml|0)|0}var zr=64,Ir=4194304;function Zt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rr(e,n){var o=e.pendingLanes;if(o===0)return 0;var l=0,f=e.suspendedLanes,m=e.pingedLanes,w=o&268435455;if(w!==0){var M=w&~f;M!==0?l=Zt(M):(m&=w,m!==0&&(l=Zt(m)))}else w=o&~f,w!==0?l=Zt(w):m!==0&&(l=Zt(m));if(l===0)return 0;if(n!==0&&n!==l&&(n&f)===0&&(f=l&-l,m=n&-n,f>=m||f===16&&(m&4194240)!==0))return n;if((l&4)!==0&&(l|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)o=31-Nt(n),f=1<<o,l|=e[o],n&=~f;return l}function li(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(e,n){for(var o=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes;0<m;){var w=31-Nt(m),M=1<<w,I=f[w];I===-1?((M&o)===0||(M&l)!==0)&&(f[w]=li(M,n)):I<=n&&(e.expiredLanes|=M),m&=~M}}function Is(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lr(){var e=zr;return zr<<=1,(zr&4194240)===0&&(zr=64),e}function Rs(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function ar(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Nt(n),e[n]=o}function ui(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<o;){var f=31-Nt(o),m=1<<f;n[f]=0,l[f]=-1,e[f]=-1,o&=~m}}function xl(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var l=31-Nt(o),f=1<<l;f&n|e[l]&n&&(e[l]|=n),o&=~f}}var De=0;function ud(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cd,vl,dd,fd,pd,wl=!1,ci=[],Dn=null,Pn=null,zn=null,Ls=new Map,As=new Map,In=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hd(e,n){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ls.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(n.pointerId)}}function $s(e,n,o,l,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Zs(n),n!==null&&vl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function b0(e,n,o,l,f){switch(n){case"focusin":return Dn=$s(Dn,e,n,o,l,f),!0;case"dragenter":return Pn=$s(Pn,e,n,o,l,f),!0;case"mouseover":return zn=$s(zn,e,n,o,l,f),!0;case"pointerover":var m=f.pointerId;return Ls.set(m,$s(Ls.get(m)||null,e,n,o,l,f)),!0;case"gotpointercapture":return m=f.pointerId,As.set(m,$s(As.get(m)||null,e,n,o,l,f)),!0}return!1}function md(e){var n=lr(e.target);if(n!==null){var o=Kt(n);if(o!==null){if(n=o.tag,n===13){if(n=Ds(o),n!==null){e.blockedOn=n,pd(e.priority,function(){dd(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function di(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Sl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var l=new o.constructor(o.type,o);Cs=l,o.target.dispatchEvent(l),Cs=null}else return n=Zs(o),n!==null&&vl(n),e.blockedOn=o,!1;n.shift()}return!0}function gd(e,n,o){di(e)&&o.delete(n)}function j0(){wl=!1,Dn!==null&&di(Dn)&&(Dn=null),Pn!==null&&di(Pn)&&(Pn=null),zn!==null&&di(zn)&&(zn=null),Ls.forEach(gd),As.forEach(gd)}function Os(e,n){e.blockedOn===n&&(e.blockedOn=null,wl||(wl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,j0)))}function Bs(e){function n(f){return Os(f,e)}if(0<ci.length){Os(ci[0],e);for(var o=1;o<ci.length;o++){var l=ci[o];l.blockedOn===e&&(l.blockedOn=null)}}for(Dn!==null&&Os(Dn,e),Pn!==null&&Os(Pn,e),zn!==null&&Os(zn,e),Ls.forEach(n),As.forEach(n),o=0;o<In.length;o++)l=In[o],l.blockedOn===e&&(l.blockedOn=null);for(;0<In.length&&(o=In[0],o.blockedOn===null);)md(o),o.blockedOn===null&&In.shift()}var Ar=_.ReactCurrentBatchConfig,fi=!0;function M0(e,n,o,l){var f=De,m=Ar.transition;Ar.transition=null;try{De=1,kl(e,n,o,l)}finally{De=f,Ar.transition=m}}function T0(e,n,o,l){var f=De,m=Ar.transition;Ar.transition=null;try{De=4,kl(e,n,o,l)}finally{De=f,Ar.transition=m}}function kl(e,n,o,l){if(fi){var f=Sl(e,n,o,l);if(f===null)Ol(e,n,l,pi,o),hd(e,l);else if(b0(f,e,n,o,l))l.stopPropagation();else if(hd(e,l),n&4&&-1<_0.indexOf(e)){for(;f!==null;){var m=Zs(f);if(m!==null&&cd(m),m=Sl(e,n,o,l),m===null&&Ol(e,n,l,pi,o),m===f)break;f=m}f!==null&&l.stopPropagation()}else Ol(e,n,l,null,o)}}var pi=null;function Sl(e,n,o,l){if(pi=null,e=_s(l),e=lr(e),e!==null)if(n=Kt(e),n===null)e=null;else if(o=n.tag,o===13){if(e=Ds(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return pi=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dl()){case zs:return 1;case ii:return 4;case Pr:case fl:return 16;case ai:return 536870912;default:return 16}default:return 16}}var Rn=null,Nl=null,hi=null;function xd(){if(hi)return hi;var e,n=Nl,o=n.length,l,f="value"in Rn?Rn.value:Rn.textContent,m=f.length;for(e=0;e<o&&n[e]===f[e];e++);var w=o-e;for(l=1;l<=w&&n[o-l]===f[m-l];l++);return hi=f.slice(e,1<l?1-l:void 0)}function mi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function vd(){return!1}function Et(e){function n(o,l,f,m,w){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(o=e[M],this[M]=o?o(m):m[M]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?gi:vd,this.isPropagationStopped=vd,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),n}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Et($r),Fs=V({},$r,{view:0,detail:0}),D0=Et(Fs),Cl,_l,Hs,yi=V({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(Cl=e.screenX-Hs.screenX,_l=e.screenY-Hs.screenY):_l=Cl=0,Hs=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),wd=Et(yi),P0=V({},yi,{dataTransfer:0}),z0=Et(P0),I0=V({},Fs,{relatedTarget:0}),bl=Et(I0),R0=V({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=Et(R0),A0=V({},$r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$0=Et(A0),O0=V({},$r,{data:0}),kd=Et(O0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=H0[e])?!!n[e]:!1}function jl(){return V0}var U0=V({},Fs,{key:function(e){if(e.key){var n=B0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(e){return e.type==="keypress"?mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W0=Et(U0),q0=V({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=Et(q0),Y0=V({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),X0=Et(Y0),G0=V({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=Et(G0),K0=V({},yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=Et(K0),J0=[9,13,27,32],Ml=p&&"CompositionEvent"in window,Vs=null;p&&"documentMode"in document&&(Vs=document.documentMode);var ey=p&&"TextEvent"in window&&!Vs,Nd=p&&(!Ml||Vs&&8<Vs&&11>=Vs),Ed=" ",Cd=!1;function _d(e,n){switch(e){case"keyup":return J0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function ty(e,n){switch(e){case"compositionend":return bd(n);case"keypress":return n.which!==32?null:(Cd=!0,Ed);case"textInput":return e=n.data,e===Ed&&Cd?null:e;default:return null}}function ny(e,n){if(Or)return e==="compositionend"||!Ml&&_d(e,n)?(e=xd(),hi=Nl=Rn=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Nd&&n.locale!=="ko"?null:n.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ry[e.type]:n==="textarea"}function Md(e,n,o,l){Qo(l),n=Si(n,"onChange"),0<n.length&&(o=new El("onChange","change",null,o,l),e.push({event:o,listeners:n}))}var Us=null,Ws=null;function sy(e){Yd(e,0)}function xi(e){var n=Ur(e);if(Se(n))return e}function oy(e,n){if(e==="change")return n}var Td=!1;if(p){var Tl;if(p){var Dl="oninput"in document;if(!Dl){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Dl=typeof Dd.oninput=="function"}Tl=Dl}else Tl=!1;Td=Tl&&(!document.documentMode||9<document.documentMode)}function Pd(){Us&&(Us.detachEvent("onpropertychange",zd),Ws=Us=null)}function zd(e){if(e.propertyName==="value"&&xi(Ws)){var n=[];Md(n,Ws,e,_s(e)),ei(sy,n)}}function iy(e,n,o){e==="focusin"?(Pd(),Us=n,Ws=o,Us.attachEvent("onpropertychange",zd)):e==="focusout"&&Pd()}function ay(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(Ws)}function ly(e,n){if(e==="click")return xi(n)}function uy(e,n){if(e==="input"||e==="change")return xi(n)}function cy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bt=typeof Object.is=="function"?Object.is:cy;function qs(e,n){if(Bt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!h.call(n,f)||!Bt(e[f],n[f]))return!1}return!0}function Id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,n){var o=Id(e);e=0;for(var l;o;){if(o.nodeType===3){if(l=e+o.textContent.length,e<=n&&l>=n)return{node:o,offset:n-e};e=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Id(o)}}function Ld(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ld(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ad(){for(var e=window,n=xe();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=xe(e.document)}return n}function Pl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function dy(e){var n=Ad(),o=e.focusedElem,l=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&Ld(o.ownerDocument.documentElement,o)){if(l!==null&&Pl(o)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var f=o.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!e.extend&&m>l&&(f=l,l=m,m=f),f=Rd(o,m);var w=Rd(o,l);f&&w&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),e.removeAllRanges(),m>l?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fy=p&&"documentMode"in document&&11>=document.documentMode,Br=null,zl=null,Ys=null,Il=!1;function $d(e,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Il||Br==null||Br!==xe(l)||(l=Br,"selectionStart"in l&&Pl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&qs(Ys,l)||(Ys=l,l=Si(zl,"onSelect"),0<l.length&&(n=new El("onSelect","select",null,n,o),e.push({event:n,listeners:l}),n.target=Br)))}function vi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Fr={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionend:vi("Transition","TransitionEnd")},Rl={},Od={};p&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function wi(e){if(Rl[e])return Rl[e];if(!Fr[e])return e;var n=Fr[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Od)return Rl[e]=n[o];return e}var Bd=wi("animationend"),Fd=wi("animationiteration"),Hd=wi("animationstart"),Vd=wi("transitionend"),Ud=new Map,Wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,n){Ud.set(e,n),u(n,[e])}for(var Ll=0;Ll<Wd.length;Ll++){var Al=Wd[Ll],py=Al.toLowerCase(),hy=Al[0].toUpperCase()+Al.slice(1);Ln(py,"on"+hy)}Ln(Bd,"onAnimationEnd"),Ln(Fd,"onAnimationIteration"),Ln(Hd,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Vd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),my=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function qd(e,n,o){var l=e.type||"unknown-event";e.currentTarget=o,ll(l,n,void 0,e),e.currentTarget=null}function Yd(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var l=e[o],f=l.event;l=l.listeners;e:{var m=void 0;if(n)for(var w=l.length-1;0<=w;w--){var M=l[w],I=M.instance,K=M.currentTarget;if(M=M.listener,I!==m&&f.isPropagationStopped())break e;qd(f,M,K),m=I}else for(w=0;w<l.length;w++){if(M=l[w],I=M.instance,K=M.currentTarget,M=M.listener,I!==m&&f.isPropagationStopped())break e;qd(f,M,K),m=I}}}if(Dr)throw e=Ts,Dr=!1,Ts=null,e}function Re(e,n){var o=n[Wl];o===void 0&&(o=n[Wl]=new Set);var l=e+"__bubble";o.has(l)||(Xd(n,e,2,!1),o.add(l))}function $l(e,n,o){var l=0;n&&(l|=4),Xd(o,e,l,n)}var ki="_reactListening"+Math.random().toString(36).slice(2);function Gs(e){if(!e[ki]){e[ki]=!0,i.forEach(function(o){o!=="selectionchange"&&(my.has(o)||$l(o,!1,e),$l(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ki]||(n[ki]=!0,$l("selectionchange",!1,n))}}function Xd(e,n,o,l){switch(yd(n)){case 1:var f=M0;break;case 4:f=T0;break;default:f=kl}o=f.bind(null,n,o,e),f=void 0,!Ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function Ol(e,n,o,l,f){var m=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var M=l.stateNode.containerInfo;if(M===f||M.nodeType===8&&M.parentNode===f)break;if(w===4)for(w=l.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;w=w.return}for(;M!==null;){if(w=lr(M),w===null)return;if(I=w.tag,I===5||I===6){l=m=w;continue e}M=M.parentNode}}l=l.return}ei(function(){var K=m,se=_s(o),oe=[];e:{var ne=Ud.get(e);if(ne!==void 0){var de=El,pe=e;switch(e){case"keypress":if(mi(o)===0)break e;case"keydown":case"keyup":de=W0;break;case"focusin":pe="focus",de=bl;break;case"focusout":pe="blur",de=bl;break;case"beforeblur":case"afterblur":de=bl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=X0;break;case Bd:case Fd:case Hd:de=L0;break;case Vd:de=Q0;break;case"scroll":de=D0;break;case"wheel":de=Z0;break;case"copy":case"cut":case"paste":de=$0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Sd}var he=(n&4)!==0,Ue=!he&&e==="scroll",W=he?ne!==null?ne+"Capture":null:ne;he=[];for(var O=K,X;O!==null;){X=O;var ie=X.stateNode;if(X.tag===5&&ie!==null&&(X=ie,W!==null&&(ie=rr(O,W),ie!=null&&he.push(Qs(O,ie,X)))),Ue)break;O=O.return}0<he.length&&(ne=new de(ne,pe,null,o,se),oe.push({event:ne,listeners:he}))}}if((n&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",ne&&o!==Cs&&(pe=o.relatedTarget||o.fromElement)&&(lr(pe)||pe[hn]))break e;if((de||ne)&&(ne=se.window===se?se:(ne=se.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(pe=o.relatedTarget||o.toElement,de=K,pe=pe?lr(pe):null,pe!==null&&(Ue=Kt(pe),pe!==Ue||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=K),de!==pe)){if(he=wd,ie="onMouseLeave",W="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(he=Sd,ie="onPointerLeave",W="onPointerEnter",O="pointer"),Ue=de==null?ne:Ur(de),X=pe==null?ne:Ur(pe),ne=new he(ie,O+"leave",de,o,se),ne.target=Ue,ne.relatedTarget=X,ie=null,lr(se)===K&&(he=new he(W,O+"enter",pe,o,se),he.target=X,he.relatedTarget=Ue,ie=he),Ue=ie,de&&pe)t:{for(he=de,W=pe,O=0,X=he;X;X=Hr(X))O++;for(X=0,ie=W;ie;ie=Hr(ie))X++;for(;0<O-X;)he=Hr(he),O--;for(;0<X-O;)W=Hr(W),X--;for(;O--;){if(he===W||W!==null&&he===W.alternate)break t;he=Hr(he),W=Hr(W)}he=null}else he=null;de!==null&&Gd(oe,ne,de,he,!1),pe!==null&&Ue!==null&&Gd(oe,Ue,pe,he,!0)}}e:{if(ne=K?Ur(K):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var me=oy;else if(jd(ne))if(Td)me=uy;else{me=ay;var ve=iy}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(me=ly);if(me&&(me=me(e,K))){Md(oe,me,o,se);break e}ve&&ve(e,ne,K),e==="focusout"&&(ve=ne._wrapperState)&&ve.controlled&&ne.type==="number"&&kt(ne,"number",ne.value)}switch(ve=K?Ur(K):window,e){case"focusin":(jd(ve)||ve.contentEditable==="true")&&(Br=ve,zl=K,Ys=null);break;case"focusout":Ys=zl=Br=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,$d(oe,o,se);break;case"selectionchange":if(fy)break;case"keydown":case"keyup":$d(oe,o,se)}var we;if(Ml)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Or?_d(e,o)&&(Ee="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(Nd&&o.locale!=="ko"&&(Or||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Or&&(we=xd()):(Rn=se,Nl="value"in Rn?Rn.value:Rn.textContent,Or=!0)),ve=Si(K,Ee),0<ve.length&&(Ee=new kd(Ee,e,null,o,se),oe.push({event:Ee,listeners:ve}),we?Ee.data=we:(we=bd(o),we!==null&&(Ee.data=we)))),(we=ey?ty(e,o):ny(e,o))&&(K=Si(K,"onBeforeInput"),0<K.length&&(se=new kd("onBeforeInput","beforeinput",null,o,se),oe.push({event:se,listeners:K}),se.data=we))}Yd(oe,n)})}function Qs(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Si(e,n){for(var o=n+"Capture",l=[];e!==null;){var f=e,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=rr(e,o),m!=null&&l.unshift(Qs(e,m,f)),m=rr(e,n),m!=null&&l.push(Qs(e,m,f))),e=e.return}return l}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gd(e,n,o,l,f){for(var m=n._reactName,w=[];o!==null&&o!==l;){var M=o,I=M.alternate,K=M.stateNode;if(I!==null&&I===l)break;M.tag===5&&K!==null&&(M=K,f?(I=rr(o,m),I!=null&&w.unshift(Qs(o,I,M))):f||(I=rr(o,m),I!=null&&w.push(Qs(o,I,M)))),o=o.return}w.length!==0&&e.push({event:n,listeners:w})}var gy=/\r\n?/g,yy=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(yy,"")}function Ni(e,n,o){if(n=Qd(n),Qd(e)!==n&&o)throw Error(s(425))}function Ei(){}var Bl=null,Fl=null;function Hl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vl=typeof setTimeout=="function"?setTimeout:void 0,xy=typeof clearTimeout=="function"?clearTimeout:void 0,Kd=typeof Promise=="function"?Promise:void 0,vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Kd<"u"?function(e){return Kd.resolve(null).then(e).catch(wy)}:Vl;function wy(e){setTimeout(function(){throw e})}function Ul(e,n){var o=n,l=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(l===0){e.removeChild(f),Bs(n);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=f}while(o);Bs(n)}function An(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Zd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Vr,Ks="__reactProps$"+Vr,hn="__reactContainer$"+Vr,Wl="__reactEvents$"+Vr,ky="__reactListeners$"+Vr,Sy="__reactHandles$"+Vr;function lr(e){var n=e[Jt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[hn]||o[Jt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Zd(e);e!==null;){if(o=e[Jt])return o;e=Zd(e)}return n}e=o,o=e.parentNode}return null}function Zs(e){return e=e[Jt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ci(e){return e[Ks]||null}var ql=[],Wr=-1;function $n(e){return{current:e}}function Le(e){0>Wr||(e.current=ql[Wr],ql[Wr]=null,Wr--)}function ze(e,n){Wr++,ql[Wr]=e.current,e.current=n}var On={},it=$n(On),ft=$n(!1),ur=On;function qr(e,n){var o=e.type.contextTypes;if(!o)return On;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=n[m];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=f),f}function pt(e){return e=e.childContextTypes,e!=null}function _i(){Le(ft),Le(it)}function Jd(e,n,o){if(it.current!==On)throw Error(s(168));ze(it,n),ze(ft,o)}function ef(e,n,o){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var f in l)if(!(f in n))throw Error(s(108,ue(e)||"Unknown",f));return V({},o,l)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,ur=it.current,ze(it,e),ze(ft,ft.current),!0}function tf(e,n,o){var l=e.stateNode;if(!l)throw Error(s(169));o?(e=ef(e,n,ur),l.__reactInternalMemoizedMergedChildContext=e,Le(ft),Le(it),ze(it,e)):Le(ft),ze(ft,o)}var mn=null,ji=!1,Yl=!1;function nf(e){mn===null?mn=[e]:mn.push(e)}function Ny(e){ji=!0,nf(e)}function Bn(){if(!Yl&&mn!==null){Yl=!0;var e=0,n=De;try{var o=mn;for(De=1;e<o.length;e++){var l=o[e];do l=l(!0);while(l!==null)}mn=null,ji=!1}catch(f){throw mn!==null&&(mn=mn.slice(e+1)),ri(zs,Bn),f}finally{De=n,Yl=!1}}return null}var Yr=[],Xr=0,Mi=null,Ti=0,zt=[],It=0,cr=null,gn=1,yn="";function dr(e,n){Yr[Xr++]=Ti,Yr[Xr++]=Mi,Mi=e,Ti=n}function rf(e,n,o){zt[It++]=gn,zt[It++]=yn,zt[It++]=cr,cr=e;var l=gn;e=yn;var f=32-Nt(l)-1;l&=~(1<<f),o+=1;var m=32-Nt(n)+f;if(30<m){var w=f-f%5;m=(l&(1<<w)-1).toString(32),l>>=w,f-=w,gn=1<<32-Nt(n)+f|o<<f|l,yn=m+e}else gn=1<<m|o<<f|l,yn=e}function Xl(e){e.return!==null&&(dr(e,1),rf(e,1,0))}function Gl(e){for(;e===Mi;)Mi=Yr[--Xr],Yr[Xr]=null,Ti=Yr[--Xr],Yr[Xr]=null;for(;e===cr;)cr=zt[--It],zt[It]=null,yn=zt[--It],zt[It]=null,gn=zt[--It],zt[It]=null}var Ct=null,_t=null,Ae=!1,Ft=null;function sf(e,n){var o=$t(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function of(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ct=e,_t=An(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ct=e,_t=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=cr!==null?{id:gn,overflow:yn}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=$t(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Ct=e,_t=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(Ae){var n=_t;if(n){var o=n;if(!of(e,n)){if(Ql(e))throw Error(s(418));n=An(o.nextSibling);var l=Ct;n&&of(e,n)?sf(l,o):(e.flags=e.flags&-4097|2,Ae=!1,Ct=e)}}else{if(Ql(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ae=!1,Ct=e}}}function af(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Di(e){if(e!==Ct)return!1;if(!Ae)return af(e),Ae=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Hl(e.type,e.memoizedProps)),n&&(n=_t)){if(Ql(e))throw lf(),Error(s(418));for(;n;)sf(e,n),n=An(n.nextSibling)}if(af(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){_t=An(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}_t=null}}else _t=Ct?An(e.stateNode.nextSibling):null;return!0}function lf(){for(var e=_t;e;)e=An(e.nextSibling)}function Gr(){_t=Ct=null,Ae=!1}function Zl(e){Ft===null?Ft=[e]:Ft.push(e)}var Ey=_.ReactCurrentBatchConfig;function Js(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var l=o.stateNode}if(!l)throw Error(s(147,e));var f=l,m=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(w){var M=f.refs;w===null?delete M[m]:M[m]=w},n._stringRef=m,n)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function Pi(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function uf(e){var n=e._init;return n(e._payload)}function cf(e){function n(W,O){if(e){var X=W.deletions;X===null?(W.deletions=[O],W.flags|=16):X.push(O)}}function o(W,O){if(!e)return null;for(;O!==null;)n(W,O),O=O.sibling;return null}function l(W,O){for(W=new Map;O!==null;)O.key!==null?W.set(O.key,O):W.set(O.index,O),O=O.sibling;return W}function f(W,O){return W=Xn(W,O),W.index=0,W.sibling=null,W}function m(W,O,X){return W.index=X,e?(X=W.alternate,X!==null?(X=X.index,X<O?(W.flags|=2,O):X):(W.flags|=2,O)):(W.flags|=1048576,O)}function w(W){return e&&W.alternate===null&&(W.flags|=2),W}function M(W,O,X,ie){return O===null||O.tag!==6?(O=Vu(X,W.mode,ie),O.return=W,O):(O=f(O,X),O.return=W,O)}function I(W,O,X,ie){var me=X.type;return me===$?se(W,O,X.props.children,ie,X.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===B&&uf(me)===O.type)?(ie=f(O,X.props),ie.ref=Js(W,O,X),ie.return=W,ie):(ie=na(X.type,X.key,X.props,null,W.mode,ie),ie.ref=Js(W,O,X),ie.return=W,ie)}function K(W,O,X,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==X.containerInfo||O.stateNode.implementation!==X.implementation?(O=Uu(X,W.mode,ie),O.return=W,O):(O=f(O,X.children||[]),O.return=W,O)}function se(W,O,X,ie,me){return O===null||O.tag!==7?(O=vr(X,W.mode,ie,me),O.return=W,O):(O=f(O,X),O.return=W,O)}function oe(W,O,X){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Vu(""+O,W.mode,X),O.return=W,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return X=na(O.type,O.key,O.props,null,W.mode,X),X.ref=Js(W,null,O),X.return=W,X;case R:return O=Uu(O,W.mode,X),O.return=W,O;case B:var ie=O._init;return oe(W,ie(O._payload),X)}if(St(O)||z(O))return O=vr(O,W.mode,X,null),O.return=W,O;Pi(W,O)}return null}function ne(W,O,X,ie){var me=O!==null?O.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return me!==null?null:M(W,O,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===me?I(W,O,X,ie):null;case R:return X.key===me?K(W,O,X,ie):null;case B:return me=X._init,ne(W,O,me(X._payload),ie)}if(St(X)||z(X))return me!==null?null:se(W,O,X,ie,null);Pi(W,X)}return null}function de(W,O,X,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(X)||null,M(O,W,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return W=W.get(ie.key===null?X:ie.key)||null,I(O,W,ie,me);case R:return W=W.get(ie.key===null?X:ie.key)||null,K(O,W,ie,me);case B:var ve=ie._init;return de(W,O,X,ve(ie._payload),me)}if(St(ie)||z(ie))return W=W.get(X)||null,se(O,W,ie,me,null);Pi(O,ie)}return null}function pe(W,O,X,ie){for(var me=null,ve=null,we=O,Ee=O=0,tt=null;we!==null&&Ee<X.length;Ee++){we.index>Ee?(tt=we,we=null):tt=we.sibling;var Te=ne(W,we,X[Ee],ie);if(Te===null){we===null&&(we=tt);break}e&&we&&Te.alternate===null&&n(W,we),O=m(Te,O,Ee),ve===null?me=Te:ve.sibling=Te,ve=Te,we=tt}if(Ee===X.length)return o(W,we),Ae&&dr(W,Ee),me;if(we===null){for(;Ee<X.length;Ee++)we=oe(W,X[Ee],ie),we!==null&&(O=m(we,O,Ee),ve===null?me=we:ve.sibling=we,ve=we);return Ae&&dr(W,Ee),me}for(we=l(W,we);Ee<X.length;Ee++)tt=de(we,W,Ee,X[Ee],ie),tt!==null&&(e&&tt.alternate!==null&&we.delete(tt.key===null?Ee:tt.key),O=m(tt,O,Ee),ve===null?me=tt:ve.sibling=tt,ve=tt);return e&&we.forEach(function(Gn){return n(W,Gn)}),Ae&&dr(W,Ee),me}function he(W,O,X,ie){var me=z(X);if(typeof me!="function")throw Error(s(150));if(X=me.call(X),X==null)throw Error(s(151));for(var ve=me=null,we=O,Ee=O=0,tt=null,Te=X.next();we!==null&&!Te.done;Ee++,Te=X.next()){we.index>Ee?(tt=we,we=null):tt=we.sibling;var Gn=ne(W,we,Te.value,ie);if(Gn===null){we===null&&(we=tt);break}e&&we&&Gn.alternate===null&&n(W,we),O=m(Gn,O,Ee),ve===null?me=Gn:ve.sibling=Gn,ve=Gn,we=tt}if(Te.done)return o(W,we),Ae&&dr(W,Ee),me;if(we===null){for(;!Te.done;Ee++,Te=X.next())Te=oe(W,Te.value,ie),Te!==null&&(O=m(Te,O,Ee),ve===null?me=Te:ve.sibling=Te,ve=Te);return Ae&&dr(W,Ee),me}for(we=l(W,we);!Te.done;Ee++,Te=X.next())Te=de(we,W,Ee,Te.value,ie),Te!==null&&(e&&Te.alternate!==null&&we.delete(Te.key===null?Ee:Te.key),O=m(Te,O,Ee),ve===null?me=Te:ve.sibling=Te,ve=Te);return e&&we.forEach(function(rx){return n(W,rx)}),Ae&&dr(W,Ee),me}function Ue(W,O,X,ie){if(typeof X=="object"&&X!==null&&X.type===$&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var me=X.key,ve=O;ve!==null;){if(ve.key===me){if(me=X.type,me===$){if(ve.tag===7){o(W,ve.sibling),O=f(ve,X.props.children),O.return=W,W=O;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===B&&uf(me)===ve.type){o(W,ve.sibling),O=f(ve,X.props),O.ref=Js(W,ve,X),O.return=W,W=O;break e}o(W,ve);break}else n(W,ve);ve=ve.sibling}X.type===$?(O=vr(X.props.children,W.mode,ie,X.key),O.return=W,W=O):(ie=na(X.type,X.key,X.props,null,W.mode,ie),ie.ref=Js(W,O,X),ie.return=W,W=ie)}return w(W);case R:e:{for(ve=X.key;O!==null;){if(O.key===ve)if(O.tag===4&&O.stateNode.containerInfo===X.containerInfo&&O.stateNode.implementation===X.implementation){o(W,O.sibling),O=f(O,X.children||[]),O.return=W,W=O;break e}else{o(W,O);break}else n(W,O);O=O.sibling}O=Uu(X,W.mode,ie),O.return=W,W=O}return w(W);case B:return ve=X._init,Ue(W,O,ve(X._payload),ie)}if(St(X))return pe(W,O,X,ie);if(z(X))return he(W,O,X,ie);Pi(W,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,O!==null&&O.tag===6?(o(W,O.sibling),O=f(O,X),O.return=W,W=O):(o(W,O),O=Vu(X,W.mode,ie),O.return=W,W=O),w(W)):o(W,O)}return Ue}var Qr=cf(!0),df=cf(!1),zi=$n(null),Ii=null,Kr=null,Jl=null;function eu(){Jl=Kr=Ii=null}function tu(e){var n=zi.current;Le(zi),e._currentValue=n}function nu(e,n,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===o)break;e=e.return}}function Zr(e,n){Ii=e,Jl=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(ht=!0),e.firstContext=null)}function Rt(e){var n=e._currentValue;if(Jl!==e)if(e={context:e,memoizedValue:n,next:null},Kr===null){if(Ii===null)throw Error(s(308));Kr=e,Ii.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return n}var fr=null;function ru(e){fr===null?fr=[e]:fr.push(e)}function ff(e,n,o,l){var f=n.interleaved;return f===null?(o.next=o,ru(n)):(o.next=f.next,f.next=o),n.interleaved=o,xn(e,l)}function xn(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Fn=!1;function su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Hn(e,n,o){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,xn(e,o)}return f=l.interleaved,f===null?(n.next=n,ru(l)):(n.next=f.next,f.next=n),l.interleaved=n,xn(e,o)}function Ri(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,xl(e,o)}}function hf(e,n){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?f=m=n:m=m.next=n}else f=m=n;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,effects:l.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function Li(e,n,o,l){var f=e.updateQueue;Fn=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var I=M,K=I.next;I.next=null,w===null?m=K:w.next=K,w=I;var se=e.alternate;se!==null&&(se=se.updateQueue,M=se.lastBaseUpdate,M!==w&&(M===null?se.firstBaseUpdate=K:M.next=K,se.lastBaseUpdate=I))}if(m!==null){var oe=f.baseState;w=0,se=K=I=null,M=m;do{var ne=M.lane,de=M.eventTime;if((l&ne)===ne){se!==null&&(se=se.next={eventTime:de,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var pe=e,he=M;switch(ne=n,de=o,he.tag){case 1:if(pe=he.payload,typeof pe=="function"){oe=pe.call(de,oe,ne);break e}oe=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=he.payload,ne=typeof pe=="function"?pe.call(de,oe,ne):pe,ne==null)break e;oe=V({},oe,ne);break e;case 2:Fn=!0}}M.callback!==null&&M.lane!==0&&(e.flags|=64,ne=f.effects,ne===null?f.effects=[M]:ne.push(M))}else de={eventTime:de,lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},se===null?(K=se=de,I=oe):se=se.next=de,w|=ne;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ne=M,M=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);if(se===null&&(I=oe),f.baseState=I,f.firstBaseUpdate=K,f.lastBaseUpdate=se,n=f.shared.interleaved,n!==null){f=n;do w|=f.lane,f=f.next;while(f!==n)}else m===null&&(f.shared.lanes=0);mr|=w,e.lanes=w,e.memoizedState=oe}}function mf(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],f=l.callback;if(f!==null){if(l.callback=null,l=o,typeof f!="function")throw Error(s(191,f));f.call(l)}}}var eo={},en=$n(eo),to=$n(eo),no=$n(eo);function pr(e){if(e===eo)throw Error(s(174));return e}function ou(e,n){switch(ze(no,n),ze(to,e),ze(en,eo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:fn(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=fn(n,e)}Le(en),ze(en,n)}function Jr(){Le(en),Le(to),Le(no)}function gf(e){pr(no.current);var n=pr(en.current),o=fn(n,e.type);n!==o&&(ze(to,e),ze(en,o))}function iu(e){to.current===e&&(Le(en),Le(to))}var Fe=$n(0);function Ai(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var au=[];function lu(){for(var e=0;e<au.length;e++)au[e]._workInProgressVersionPrimary=null;au.length=0}var $i=_.ReactCurrentDispatcher,uu=_.ReactCurrentBatchConfig,hr=0,He=null,Qe=null,Je=null,Oi=!1,ro=!1,so=0,Cy=0;function at(){throw Error(s(321))}function cu(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Bt(e[o],n[o]))return!1;return!0}function du(e,n,o,l,f,m){if(hr=m,He=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$i.current=e===null||e.memoizedState===null?My:Ty,e=o(l,f),ro){m=0;do{if(ro=!1,so=0,25<=m)throw Error(s(301));m+=1,Je=Qe=null,n.updateQueue=null,$i.current=Dy,e=o(l,f)}while(ro)}if($i.current=Hi,n=Qe!==null&&Qe.next!==null,hr=0,Je=Qe=He=null,Oi=!1,n)throw Error(s(300));return e}function fu(){var e=so!==0;return so=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?He.memoizedState=Je=e:Je=Je.next=e,Je}function Lt(){if(Qe===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var n=Je===null?He.memoizedState:Je.next;if(n!==null)Je=n,Qe=e;else{if(e===null)throw Error(s(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Je===null?He.memoizedState=Je=e:Je=Je.next=e}return Je}function oo(e,n){return typeof n=="function"?n(e):n}function pu(e){var n=Lt(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=Qe,f=l.baseQueue,m=o.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}l.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,l=l.baseState;var M=w=null,I=null,K=m;do{var se=K.lane;if((hr&se)===se)I!==null&&(I=I.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),l=K.hasEagerState?K.eagerState:e(l,K.action);else{var oe={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};I===null?(M=I=oe,w=l):I=I.next=oe,He.lanes|=se,mr|=se}K=K.next}while(K!==null&&K!==m);I===null?w=l:I.next=M,Bt(l,n.memoizedState)||(ht=!0),n.memoizedState=l,n.baseState=w,n.baseQueue=I,o.lastRenderedState=l}if(e=o.interleaved,e!==null){f=e;do m=f.lane,He.lanes|=m,mr|=m,f=f.next;while(f!==e)}else f===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function hu(e){var n=Lt(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var l=o.dispatch,f=o.pending,m=n.memoizedState;if(f!==null){o.pending=null;var w=f=f.next;do m=e(m,w.action),w=w.next;while(w!==f);Bt(m,n.memoizedState)||(ht=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,l]}function yf(){}function xf(e,n){var o=He,l=Lt(),f=n(),m=!Bt(l.memoizedState,f);if(m&&(l.memoizedState=f,ht=!0),l=l.queue,mu(kf.bind(null,o,l,e),[e]),l.getSnapshot!==n||m||Je!==null&&Je.memoizedState.tag&1){if(o.flags|=2048,io(9,wf.bind(null,o,l,f,n),void 0,null),et===null)throw Error(s(349));(hr&30)!==0||vf(o,n,f)}return f}function vf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=He.updateQueue,n===null?(n={lastEffect:null,stores:null},He.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function wf(e,n,o,l){n.value=o,n.getSnapshot=l,Sf(n)&&Nf(e)}function kf(e,n,o){return o(function(){Sf(n)&&Nf(e)})}function Sf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Bt(e,o)}catch{return!0}}function Nf(e){var n=xn(e,1);n!==null&&Wt(n,e,1,-1)}function Ef(e){var n=tn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},n.queue=e,e=e.dispatch=jy.bind(null,He,e),[n.memoizedState,e]}function io(e,n,o,l){return e={tag:e,create:n,destroy:o,deps:l,next:null},n=He.updateQueue,n===null?(n={lastEffect:null,stores:null},He.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,n.lastEffect=e)),e}function Cf(){return Lt().memoizedState}function Bi(e,n,o,l){var f=tn();He.flags|=e,f.memoizedState=io(1|n,o,void 0,l===void 0?null:l)}function Fi(e,n,o,l){var f=Lt();l=l===void 0?null:l;var m=void 0;if(Qe!==null){var w=Qe.memoizedState;if(m=w.destroy,l!==null&&cu(l,w.deps)){f.memoizedState=io(n,o,m,l);return}}He.flags|=e,f.memoizedState=io(1|n,o,m,l)}function _f(e,n){return Bi(8390656,8,e,n)}function mu(e,n){return Fi(2048,8,e,n)}function bf(e,n){return Fi(4,2,e,n)}function jf(e,n){return Fi(4,4,e,n)}function Mf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tf(e,n,o){return o=o!=null?o.concat([e]):null,Fi(4,4,Mf.bind(null,n,e),o)}function gu(){}function Df(e,n){var o=Lt();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&cu(n,l[1])?l[0]:(o.memoizedState=[e,n],e)}function Pf(e,n){var o=Lt();n=n===void 0?null:n;var l=o.memoizedState;return l!==null&&n!==null&&cu(n,l[1])?l[0]:(e=e(),o.memoizedState=[e,n],e)}function zf(e,n,o){return(hr&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=o):(Bt(o,n)||(o=Lr(),He.lanes|=o,mr|=o,e.baseState=!0),n)}function _y(e,n){var o=De;De=o!==0&&4>o?o:4,e(!0);var l=uu.transition;uu.transition={};try{e(!1),n()}finally{De=o,uu.transition=l}}function If(){return Lt().memoizedState}function by(e,n,o){var l=qn(e);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},Rf(e))Lf(n,o);else if(o=ff(e,n,o,l),o!==null){var f=dt();Wt(o,e,l,f),Af(o,n,l)}}function jy(e,n,o){var l=qn(e),f={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rf(e))Lf(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var w=n.lastRenderedState,M=m(w,o);if(f.hasEagerState=!0,f.eagerState=M,Bt(M,w)){var I=n.interleaved;I===null?(f.next=f,ru(n)):(f.next=I.next,I.next=f),n.interleaved=f;return}}catch{}finally{}o=ff(e,n,f,l),o!==null&&(f=dt(),Wt(o,e,l,f),Af(o,n,l))}}function Rf(e){var n=e.alternate;return e===He||n!==null&&n===He}function Lf(e,n){ro=Oi=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Af(e,n,o){if((o&4194240)!==0){var l=n.lanes;l&=e.pendingLanes,o|=l,n.lanes=o,xl(e,o)}}var Hi={readContext:Rt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},My={readContext:Rt,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Rt,useEffect:_f,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Bi(4194308,4,Mf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Bi(4194308,4,e,n)},useInsertionEffect:function(e,n){return Bi(4,2,e,n)},useMemo:function(e,n){var o=tn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var l=tn();return n=o!==void 0?o(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=by.bind(null,He,e),[l.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:Ef,useDebugValue:gu,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=Ef(!1),n=e[0];return e=_y.bind(null,e[1]),tn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var l=He,f=tn();if(Ae){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),et===null)throw Error(s(349));(hr&30)!==0||vf(l,n,o)}f.memoizedState=o;var m={value:o,getSnapshot:n};return f.queue=m,_f(kf.bind(null,l,m,e),[e]),l.flags|=2048,io(9,wf.bind(null,l,m,o,n),void 0,null),o},useId:function(){var e=tn(),n=et.identifierPrefix;if(Ae){var o=yn,l=gn;o=(l&~(1<<32-Nt(l)-1)).toString(32)+o,n=":"+n+"R"+o,o=so++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Cy++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ty={readContext:Rt,useCallback:Df,useContext:Rt,useEffect:mu,useImperativeHandle:Tf,useInsertionEffect:bf,useLayoutEffect:jf,useMemo:Pf,useReducer:pu,useRef:Cf,useState:function(){return pu(oo)},useDebugValue:gu,useDeferredValue:function(e){var n=Lt();return zf(n,Qe.memoizedState,e)},useTransition:function(){var e=pu(oo)[0],n=Lt().memoizedState;return[e,n]},useMutableSource:yf,useSyncExternalStore:xf,useId:If,unstable_isNewReconciler:!1},Dy={readContext:Rt,useCallback:Df,useContext:Rt,useEffect:mu,useImperativeHandle:Tf,useInsertionEffect:bf,useLayoutEffect:jf,useMemo:Pf,useReducer:hu,useRef:Cf,useState:function(){return hu(oo)},useDebugValue:gu,useDeferredValue:function(e){var n=Lt();return Qe===null?n.memoizedState=e:zf(n,Qe.memoizedState,e)},useTransition:function(){var e=hu(oo)[0],n=Lt().memoizedState;return[e,n]},useMutableSource:yf,useSyncExternalStore:xf,useId:If,unstable_isNewReconciler:!1};function Ht(e,n){if(e&&e.defaultProps){n=V({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function yu(e,n,o,l){n=e.memoizedState,o=o(l,n),o=o==null?n:V({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Vi={isMounted:function(e){return(e=e._reactInternals)?Kt(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var l=dt(),f=qn(e),m=vn(l,f);m.payload=n,o!=null&&(m.callback=o),n=Hn(e,m,f),n!==null&&(Wt(n,e,f,l),Ri(n,e,f))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var l=dt(),f=qn(e),m=vn(l,f);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=Hn(e,m,f),n!==null&&(Wt(n,e,f,l),Ri(n,e,f))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=dt(),l=qn(e),f=vn(o,l);f.tag=2,n!=null&&(f.callback=n),n=Hn(e,f,l),n!==null&&(Wt(n,e,l,o),Ri(n,e,l))}};function $f(e,n,o,l,f,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,w):n.prototype&&n.prototype.isPureReactComponent?!qs(o,l)||!qs(f,m):!0}function Of(e,n,o){var l=!1,f=On,m=n.contextType;return typeof m=="object"&&m!==null?m=Rt(m):(f=pt(n)?ur:it.current,l=n.contextTypes,m=(l=l!=null)?qr(e,f):On),n=new n(o,m),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vi,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=m),n}function Bf(e,n,o,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==e&&Vi.enqueueReplaceState(n,n.state,null)}function xu(e,n,o,l){var f=e.stateNode;f.props=o,f.state=e.memoizedState,f.refs={},su(e);var m=n.contextType;typeof m=="object"&&m!==null?f.context=Rt(m):(m=pt(n)?ur:it.current,f.context=qr(e,m)),f.state=e.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(yu(e,n,m,o),f.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&Vi.enqueueReplaceState(f,f.state,null),Li(e,o,f,l),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,n){try{var o="",l=n;do o+=ae(l),l=l.return;while(l);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:n,stack:f,digest:null}}function vu(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function wu(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Py=typeof WeakMap=="function"?WeakMap:Map;function Ff(e,n,o){o=vn(-1,o),o.tag=3,o.payload={element:null};var l=n.value;return o.callback=function(){Qi||(Qi=!0,Ru=l),wu(e,n)},o}function Hf(e,n,o){o=vn(-1,o),o.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var f=n.value;o.payload=function(){return l(f)},o.callback=function(){wu(e,n)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){wu(e,n),typeof l!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),o}function Vf(e,n,o){var l=e.pingCache;if(l===null){l=e.pingCache=new Py;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(o)||(f.add(o),e=qy.bind(null,e,n,o),n.then(e,e))}function Uf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Wf(e,n,o,l,f){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=vn(-1,1),n.tag=2,Hn(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=f,e)}var zy=_.ReactCurrentOwner,ht=!1;function ct(e,n,o,l){n.child=e===null?df(n,null,o,l):Qr(n,e.child,o,l)}function qf(e,n,o,l,f){o=o.render;var m=n.ref;return Zr(n,f),l=du(e,n,o,l,m,f),o=fu(),e!==null&&!ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,wn(e,n,f)):(Ae&&o&&Xl(n),n.flags|=1,ct(e,n,l,f),n.child)}function Yf(e,n,o,l,f){if(e===null){var m=o.type;return typeof m=="function"&&!Hu(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=m,Xf(e,n,m,l,f)):(e=na(o.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,(e.lanes&f)===0){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:qs,o(w,l)&&e.ref===n.ref)return wn(e,n,f)}return n.flags|=1,e=Xn(m,l),e.ref=n.ref,e.return=n,n.child=e}function Xf(e,n,o,l,f){if(e!==null){var m=e.memoizedProps;if(qs(m,l)&&e.ref===n.ref)if(ht=!1,n.pendingProps=l=m,(e.lanes&f)!==0)(e.flags&131072)!==0&&(ht=!0);else return n.lanes=e.lanes,wn(e,n,f)}return ku(e,n,o,l,f)}function Gf(e,n,o){var l=n.pendingProps,f=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ns,bt),bt|=o;else{if((o&1073741824)===0)return e=m!==null?m.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ze(ns,bt),bt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=m!==null?m.baseLanes:o,ze(ns,bt),bt|=l}else m!==null?(l=m.baseLanes|o,n.memoizedState=null):l=o,ze(ns,bt),bt|=l;return ct(e,n,f,o),n.child}function Qf(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function ku(e,n,o,l,f){var m=pt(o)?ur:it.current;return m=qr(n,m),Zr(n,f),o=du(e,n,o,l,m,f),l=fu(),e!==null&&!ht?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,wn(e,n,f)):(Ae&&l&&Xl(n),n.flags|=1,ct(e,n,o,f),n.child)}function Kf(e,n,o,l,f){if(pt(o)){var m=!0;bi(n)}else m=!1;if(Zr(n,f),n.stateNode===null)Wi(e,n),Of(n,o,l),xu(n,o,l,f),l=!0;else if(e===null){var w=n.stateNode,M=n.memoizedProps;w.props=M;var I=w.context,K=o.contextType;typeof K=="object"&&K!==null?K=Rt(K):(K=pt(o)?ur:it.current,K=qr(n,K));var se=o.getDerivedStateFromProps,oe=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function";oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==l||I!==K)&&Bf(n,w,l,K),Fn=!1;var ne=n.memoizedState;w.state=ne,Li(n,l,w,f),I=n.memoizedState,M!==l||ne!==I||ft.current||Fn?(typeof se=="function"&&(yu(n,o,se,l),I=n.memoizedState),(M=Fn||$f(n,o,M,l,ne,I,K))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),w.props=l,w.state=I,w.context=K,l=M):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,pf(e,n),M=n.memoizedProps,K=n.type===n.elementType?M:Ht(n.type,M),w.props=K,oe=n.pendingProps,ne=w.context,I=o.contextType,typeof I=="object"&&I!==null?I=Rt(I):(I=pt(o)?ur:it.current,I=qr(n,I));var de=o.getDerivedStateFromProps;(se=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==oe||ne!==I)&&Bf(n,w,l,I),Fn=!1,ne=n.memoizedState,w.state=ne,Li(n,l,w,f);var pe=n.memoizedState;M!==oe||ne!==pe||ft.current||Fn?(typeof de=="function"&&(yu(n,o,de,l),pe=n.memoizedState),(K=Fn||$f(n,o,K,l,ne,pe,I)||!1)?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,pe,I),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,pe,I)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=pe),w.props=l,w.state=pe,w.context=I,l=K):(typeof w.componentDidUpdate!="function"||M===e.memoizedProps&&ne===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ne===e.memoizedState||(n.flags|=1024),l=!1)}return Su(e,n,o,l,m,f)}function Su(e,n,o,l,f,m){Qf(e,n);var w=(n.flags&128)!==0;if(!l&&!w)return f&&tf(n,o,!1),wn(e,n,m);l=n.stateNode,zy.current=n;var M=w&&typeof o.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&w?(n.child=Qr(n,e.child,null,m),n.child=Qr(n,null,M,m)):ct(e,n,M,m),n.memoizedState=l.state,f&&tf(n,o,!0),n.child}function Zf(e){var n=e.stateNode;n.pendingContext?Jd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Jd(e,n.context,!1),ou(e,n.containerInfo)}function Jf(e,n,o,l,f){return Gr(),Zl(f),n.flags|=256,ct(e,n,o,l),n.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ep(e,n,o){var l=n.pendingProps,f=Fe.current,m=!1,w=(n.flags&128)!==0,M;if((M=w)||(M=e!==null&&e.memoizedState===null?!1:(f&2)!==0),M?(m=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),ze(Fe,f&1),e===null)return Kl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=l.children,e=l.fallback,m?(l=n.mode,m=n.child,w={mode:"hidden",children:w},(l&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=ra(w,l,0,null),e=vr(e,l,o,null),m.return=n,e.return=n,m.sibling=e,n.child=m,n.child.memoizedState=Eu(o),n.memoizedState=Nu,e):Cu(n,w));if(f=e.memoizedState,f!==null&&(M=f.dehydrated,M!==null))return Iy(e,n,w,l,M,f,o);if(m){m=l.fallback,w=n.mode,f=e.child,M=f.sibling;var I={mode:"hidden",children:l.children};return(w&1)===0&&n.child!==f?(l=n.child,l.childLanes=0,l.pendingProps=I,n.deletions=null):(l=Xn(f,I),l.subtreeFlags=f.subtreeFlags&14680064),M!==null?m=Xn(M,m):(m=vr(m,w,o,null),m.flags|=2),m.return=n,l.return=n,l.sibling=m,n.child=l,l=m,m=n.child,w=e.child.memoizedState,w=w===null?Eu(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=e.childLanes&~o,n.memoizedState=Nu,l}return m=e.child,e=m.sibling,l=Xn(m,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=o),l.return=n,l.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=l,n.memoizedState=null,l}function Cu(e,n){return n=ra({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ui(e,n,o,l){return l!==null&&Zl(l),Qr(n,e.child,null,o),e=Cu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Iy(e,n,o,l,f,m,w){if(o)return n.flags&256?(n.flags&=-257,l=vu(Error(s(422))),Ui(e,n,w,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(m=l.fallback,f=n.mode,l=ra({mode:"visible",children:l.children},f,0,null),m=vr(m,f,w,null),m.flags|=2,l.return=n,m.return=n,l.sibling=m,n.child=l,(n.mode&1)!==0&&Qr(n,e.child,null,w),n.child.memoizedState=Eu(w),n.memoizedState=Nu,m);if((n.mode&1)===0)return Ui(e,n,w,null);if(f.data==="$!"){if(l=f.nextSibling&&f.nextSibling.dataset,l)var M=l.dgst;return l=M,m=Error(s(419)),l=vu(m,l,void 0),Ui(e,n,w,l)}if(M=(w&e.childLanes)!==0,ht||M){if(l=et,l!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(l.suspendedLanes|w))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,xn(e,f),Wt(l,e,f,-1))}return Fu(),l=vu(Error(s(421))),Ui(e,n,w,l)}return f.data==="$?"?(n.flags|=128,n.child=e.child,n=Yy.bind(null,e),f._reactRetry=n,null):(e=m.treeContext,_t=An(f.nextSibling),Ct=n,Ae=!0,Ft=null,e!==null&&(zt[It++]=gn,zt[It++]=yn,zt[It++]=cr,gn=e.id,yn=e.overflow,cr=n),n=Cu(n,l.children),n.flags|=4096,n)}function tp(e,n,o){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),nu(e.return,n,o)}function _u(e,n,o,l,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=f)}function np(e,n,o){var l=n.pendingProps,f=l.revealOrder,m=l.tail;if(ct(e,n,l.children,o),l=Fe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,o,n);else if(e.tag===19)tp(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ze(Fe,l),(n.mode&1)===0)n.memoizedState=null;else switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&Ai(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),_u(n,!1,f,o,m);break;case"backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Ai(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}_u(n,!0,o,null,m);break;case"together":_u(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Wi(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function wn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),mr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Xn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Xn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Ry(e,n,o){switch(n.tag){case 3:Zf(n),Gr();break;case 5:gf(n);break;case 1:pt(n.type)&&bi(n);break;case 4:ou(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,f=n.memoizedProps.value;ze(zi,l._currentValue),l._currentValue=f;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ze(Fe,Fe.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?ep(e,n,o):(ze(Fe,Fe.current&1),e=wn(e,n,o),e!==null?e.sibling:null);ze(Fe,Fe.current&1);break;case 19:if(l=(o&n.childLanes)!==0,(e.flags&128)!==0){if(l)return np(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ze(Fe,Fe.current),l)break;return null;case 22:case 23:return n.lanes=0,Gf(e,n,o)}return wn(e,n,o)}var rp,bu,sp,op;rp=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},bu=function(){},sp=function(e,n,o,l){var f=e.memoizedProps;if(f!==l){e=n.stateNode,pr(en.current);var m=null;switch(o){case"input":f=_e(e,f),l=_e(e,l),m=[];break;case"select":f=V({},f,{value:void 0}),l=V({},l,{value:void 0}),m=[];break;case"textarea":f=cn(e,f),l=cn(e,l),m=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ei)}Ns(o,l);var w;o=null;for(K in f)if(!l.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var M=f[K];for(w in M)M.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?m||(m=[]):(m=m||[]).push(K,null));for(K in l){var I=l[K];if(M=f!=null?f[K]:void 0,l.hasOwnProperty(K)&&I!==M&&(I!=null||M!=null))if(K==="style")if(M){for(w in M)!M.hasOwnProperty(w)||I&&I.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in I)I.hasOwnProperty(w)&&M[w]!==I[w]&&(o||(o={}),o[w]=I[w])}else o||(m||(m=[]),m.push(K,o)),o=I;else K==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,M=M?M.__html:void 0,I!=null&&M!==I&&(m=m||[]).push(K,I)):K==="children"?typeof I!="string"&&typeof I!="number"||(m=m||[]).push(K,""+I):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(a.hasOwnProperty(K)?(I!=null&&K==="onScroll"&&Re("scroll",e),m||M===I||(m=[])):(m=m||[]).push(K,I))}o&&(m=m||[]).push("style",o);var K=m;(n.updateQueue=K)&&(n.flags|=4)}},op=function(e,n,o,l){o!==l&&(n.flags|=4)};function ao(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=o,n}function Ly(e,n,o){var l=n.pendingProps;switch(Gl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return pt(n.type)&&_i(),lt(n),null;case 3:return l=n.stateNode,Jr(),Le(ft),Le(it),lu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Di(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ft!==null&&($u(Ft),Ft=null))),bu(e,n),lt(n),null;case 5:iu(n);var f=pr(no.current);if(o=n.type,e!==null&&n.stateNode!=null)sp(e,n,o,l,f),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(s(166));return lt(n),null}if(e=pr(en.current),Di(n)){l=n.stateNode,o=n.type;var m=n.memoizedProps;switch(l[Jt]=n,l[Ks]=m,e=(n.mode&1)!==0,o){case"dialog":Re("cancel",l),Re("close",l);break;case"iframe":case"object":case"embed":Re("load",l);break;case"video":case"audio":for(f=0;f<Xs.length;f++)Re(Xs[f],l);break;case"source":Re("error",l);break;case"img":case"image":case"link":Re("error",l),Re("load",l);break;case"details":Re("toggle",l);break;case"input":Pe(l,m),Re("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!m.multiple},Re("invalid",l);break;case"textarea":jn(l,m),Re("invalid",l)}Ns(o,m),f=null;for(var w in m)if(m.hasOwnProperty(w)){var M=m[w];w==="children"?typeof M=="string"?l.textContent!==M&&(m.suppressHydrationWarning!==!0&&Ni(l.textContent,M,e),f=["children",M]):typeof M=="number"&&l.textContent!==""+M&&(m.suppressHydrationWarning!==!0&&Ni(l.textContent,M,e),f=["children",""+M]):a.hasOwnProperty(w)&&M!=null&&w==="onScroll"&&Re("scroll",l)}switch(o){case"input":Ne(l),Ot(l,m,!0);break;case"textarea":Ne(l),er(l);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(l.onclick=Ei)}l=f,n.updateQueue=l,l!==null&&(n.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dn(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=w.createElement(o,{is:l.is}):(e=w.createElement(o),o==="select"&&(w=e,l.multiple?w.multiple=!0:l.size&&(w.size=l.size))):e=w.createElementNS(e,o),e[Jt]=n,e[Ks]=l,rp(e,n,!1,!1),n.stateNode=e;e:{switch(w=Es(o,l),o){case"dialog":Re("cancel",e),Re("close",e),f=l;break;case"iframe":case"object":case"embed":Re("load",e),f=l;break;case"video":case"audio":for(f=0;f<Xs.length;f++)Re(Xs[f],e);f=l;break;case"source":Re("error",e),f=l;break;case"img":case"image":case"link":Re("error",e),Re("load",e),f=l;break;case"details":Re("toggle",e),f=l;break;case"input":Pe(e,l),f=_e(e,l),Re("invalid",e);break;case"option":f=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},f=V({},l,{value:void 0}),Re("invalid",e);break;case"textarea":jn(e,l),f=cn(e,l),Re("invalid",e);break;default:f=l}Ns(o,f),M=f;for(m in M)if(M.hasOwnProperty(m)){var I=M[m];m==="style"?Xo(e,I):m==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&qo(e,I)):m==="children"?typeof I=="string"?(o!=="textarea"||I!=="")&&pn(e,I):typeof I=="number"&&pn(e,""+I):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?I!=null&&m==="onScroll"&&Re("scroll",e):I!=null&&N(e,m,I,w))}switch(o){case"input":Ne(e),Ot(e,l,!1);break;case"textarea":Ne(e),er(e);break;case"option":l.value!=null&&e.setAttribute("value",""+te(l.value));break;case"select":e.multiple=!!l.multiple,m=l.value,m!=null?Dt(e,!!l.multiple,m,!1):l.defaultValue!=null&&Dt(e,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=Ei)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return lt(n),null;case 6:if(e&&n.stateNode!=null)op(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(o=pr(no.current),pr(en.current),Di(n)){if(l=n.stateNode,o=n.memoizedProps,l[Jt]=n,(m=l.nodeValue!==o)&&(e=Ct,e!==null))switch(e.tag){case 3:Ni(l.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ni(l.nodeValue,o,(e.mode&1)!==0)}m&&(n.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[Jt]=n,n.stateNode=l}return lt(n),null;case 13:if(Le(Fe),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&_t!==null&&(n.mode&1)!==0&&(n.flags&128)===0)lf(),Gr(),n.flags|=98560,m=!1;else if(m=Di(n),l!==null&&l.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Jt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),m=!1}else Ft!==null&&($u(Ft),Ft=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Ke===0&&(Ke=3):Fu())),n.updateQueue!==null&&(n.flags|=4),lt(n),null);case 4:return Jr(),bu(e,n),e===null&&Gs(n.stateNode.containerInfo),lt(n),null;case 10:return tu(n.type._context),lt(n),null;case 17:return pt(n.type)&&_i(),lt(n),null;case 19:if(Le(Fe),m=n.memoizedState,m===null)return lt(n),null;if(l=(n.flags&128)!==0,w=m.rendering,w===null)if(l)ao(m,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Ai(e),w!==null){for(n.flags|=128,ao(m,!1),l=w.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=o,o=n.child;o!==null;)m=o,e=l,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,e=w.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return ze(Fe,Fe.current&1|2),n.child}e=e.sibling}m.tail!==null&&Be()>rs&&(n.flags|=128,l=!0,ao(m,!1),n.lanes=4194304)}else{if(!l)if(e=Ai(w),e!==null){if(n.flags|=128,l=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ao(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Ae)return lt(n),null}else 2*Be()-m.renderingStartTime>rs&&o!==1073741824&&(n.flags|=128,l=!0,ao(m,!1),n.lanes=4194304);m.isBackwards?(w.sibling=n.child,n.child=w):(o=m.last,o!==null?o.sibling=w:n.child=w,m.last=w)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Be(),n.sibling=null,o=Fe.current,ze(Fe,l?o&1|2:o&1),n):(lt(n),null);case 22:case 23:return Bu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(bt&1073741824)!==0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function Ay(e,n){switch(Gl(n),n.tag){case 1:return pt(n.type)&&_i(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Jr(),Le(ft),Le(it),lu(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return iu(n),null;case 13:if(Le(Fe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Le(Fe),null;case 4:return Jr(),null;case 10:return tu(n.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var qi=!1,ut=!1,$y=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ts(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Ve(e,n,l)}else o.current=null}function ju(e,n,o){try{o()}catch(l){Ve(e,n,l)}}var ip=!1;function Oy(e,n){if(Bl=fi,e=Ad(),Pl(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,M=-1,I=-1,K=0,se=0,oe=e,ne=null;t:for(;;){for(var de;oe!==o||f!==0&&oe.nodeType!==3||(M=w+f),oe!==m||l!==0&&oe.nodeType!==3||(I=w+l),oe.nodeType===3&&(w+=oe.nodeValue.length),(de=oe.firstChild)!==null;)ne=oe,oe=de;for(;;){if(oe===e)break t;if(ne===o&&++K===f&&(M=w),ne===m&&++se===l&&(I=w),(de=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=de}o=M===-1||I===-1?null:{start:M,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fl={focusedElem:e,selectionRange:o},fi=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var pe=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var he=pe.memoizedProps,Ue=pe.memoizedState,W=n.stateNode,O=W.getSnapshotBeforeUpdate(n.elementType===n.type?he:Ht(n.type,he),Ue);W.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var X=n.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){Ve(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return pe=ip,ip=!1,pe}function lo(e,n,o){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&e)===e){var m=f.destroy;f.destroy=void 0,m!==void 0&&ju(n,o,m)}f=f.next}while(f!==l)}}function Yi(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var l=o.create;o.destroy=l()}o=o.next}while(o!==n)}}function Mu(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function ap(e){var n=e.alternate;n!==null&&(e.alternate=null,ap(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Jt],delete n[Ks],delete n[Wl],delete n[ky],delete n[Sy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lp(e){return e.tag===5||e.tag===3||e.tag===4}function up(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ei));else if(l!==4&&(e=e.child,e!==null))for(Tu(e,n,o),e=e.sibling;e!==null;)Tu(e,n,o),e=e.sibling}function Du(e,n,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Du(e,n,o),e=e.sibling;e!==null;)Du(e,n,o),e=e.sibling}var st=null,Vt=!1;function Vn(e,n,o){for(o=o.child;o!==null;)cp(e,n,o),o=o.sibling}function cp(e,n,o){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(ir,o)}catch{}switch(o.tag){case 5:ut||ts(o,n);case 6:var l=st,f=Vt;st=null,Vn(e,n,o),st=l,Vt=f,st!==null&&(Vt?(e=st,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):st.removeChild(o.stateNode));break;case 18:st!==null&&(Vt?(e=st,o=o.stateNode,e.nodeType===8?Ul(e.parentNode,o):e.nodeType===1&&Ul(e,o),Bs(e)):Ul(st,o.stateNode));break;case 4:l=st,f=Vt,st=o.stateNode.containerInfo,Vt=!0,Vn(e,n,o),st=l,Vt=f;break;case 0:case 11:case 14:case 15:if(!ut&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){f=l=l.next;do{var m=f,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&ju(o,n,w),f=f.next}while(f!==l)}Vn(e,n,o);break;case 1:if(!ut&&(ts(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(M){Ve(o,n,M)}Vn(e,n,o);break;case 21:Vn(e,n,o);break;case 22:o.mode&1?(ut=(l=ut)||o.memoizedState!==null,Vn(e,n,o),ut=l):Vn(e,n,o);break;default:Vn(e,n,o)}}function dp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new $y),n.forEach(function(l){var f=Xy.bind(null,e,l);o.has(l)||(o.add(l),l.then(f,f))})}}function Ut(e,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];try{var m=e,w=n,M=w;e:for(;M!==null;){switch(M.tag){case 5:st=M.stateNode,Vt=!1;break e;case 3:st=M.stateNode.containerInfo,Vt=!0;break e;case 4:st=M.stateNode.containerInfo,Vt=!0;break e}M=M.return}if(st===null)throw Error(s(160));cp(m,w,f),st=null,Vt=!1;var I=f.alternate;I!==null&&(I.return=null),f.return=null}catch(K){Ve(f,n,K)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)fp(n,e),n=n.sibling}function fp(e,n){var o=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(n,e),nn(e),l&4){try{lo(3,e,e.return),Yi(3,e)}catch(he){Ve(e,e.return,he)}try{lo(5,e,e.return)}catch(he){Ve(e,e.return,he)}}break;case 1:Ut(n,e),nn(e),l&512&&o!==null&&ts(o,o.return);break;case 5:if(Ut(n,e),nn(e),l&512&&o!==null&&ts(o,o.return),e.flags&32){var f=e.stateNode;try{pn(f,"")}catch(he){Ve(e,e.return,he)}}if(l&4&&(f=e.stateNode,f!=null)){var m=e.memoizedProps,w=o!==null?o.memoizedProps:m,M=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{M==="input"&&m.type==="radio"&&m.name!=null&&be(f,m),Es(M,w);var K=Es(M,m);for(w=0;w<I.length;w+=2){var se=I[w],oe=I[w+1];se==="style"?Xo(f,oe):se==="dangerouslySetInnerHTML"?qo(f,oe):se==="children"?pn(f,oe):N(f,se,oe,K)}switch(M){case"input":qe(f,m);break;case"textarea":Mr(f,m);break;case"select":var ne=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?Dt(f,!!m.multiple,de,!1):ne!==!!m.multiple&&(m.defaultValue!=null?Dt(f,!!m.multiple,m.defaultValue,!0):Dt(f,!!m.multiple,m.multiple?[]:"",!1))}f[Ks]=m}catch(he){Ve(e,e.return,he)}}break;case 6:if(Ut(n,e),nn(e),l&4){if(e.stateNode===null)throw Error(s(162));f=e.stateNode,m=e.memoizedProps;try{f.nodeValue=m}catch(he){Ve(e,e.return,he)}}break;case 3:if(Ut(n,e),nn(e),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Bs(n.containerInfo)}catch(he){Ve(e,e.return,he)}break;case 4:Ut(n,e),nn(e);break;case 13:Ut(n,e),nn(e),f=e.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Iu=Be())),l&4&&dp(e);break;case 22:if(se=o!==null&&o.memoizedState!==null,e.mode&1?(ut=(K=ut)||se,Ut(n,e),ut=K):Ut(n,e),nn(e),l&8192){if(K=e.memoizedState!==null,(e.stateNode.isHidden=K)&&!se&&(e.mode&1)!==0)for(fe=e,se=e.child;se!==null;){for(oe=fe=se;fe!==null;){switch(ne=fe,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:lo(4,ne,ne.return);break;case 1:ts(ne,ne.return);var pe=ne.stateNode;if(typeof pe.componentWillUnmount=="function"){l=ne,o=ne.return;try{n=l,pe.props=n.memoizedProps,pe.state=n.memoizedState,pe.componentWillUnmount()}catch(he){Ve(l,o,he)}}break;case 5:ts(ne,ne.return);break;case 22:if(ne.memoizedState!==null){mp(oe);continue}}de!==null?(de.return=ne,fe=de):mp(oe)}se=se.sibling}e:for(se=null,oe=e;;){if(oe.tag===5){if(se===null){se=oe;try{f=oe.stateNode,K?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(M=oe.stateNode,I=oe.memoizedProps.style,w=I!=null&&I.hasOwnProperty("display")?I.display:null,M.style.display=Yo("display",w))}catch(he){Ve(e,e.return,he)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=K?"":oe.memoizedProps}catch(he){Ve(e,e.return,he)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===e)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===e)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===e)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Ut(n,e),nn(e),l&4&&dp(e);break;case 21:break;default:Ut(n,e),nn(e)}}function nn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(lp(o)){var l=o;break e}o=o.return}throw Error(s(160))}switch(l.tag){case 5:var f=l.stateNode;l.flags&32&&(pn(f,""),l.flags&=-33);var m=up(e);Du(e,m,f);break;case 3:case 4:var w=l.stateNode.containerInfo,M=up(e);Tu(e,M,w);break;default:throw Error(s(161))}}catch(I){Ve(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function By(e,n,o){fe=e,pp(e)}function pp(e,n,o){for(var l=(e.mode&1)!==0;fe!==null;){var f=fe,m=f.child;if(f.tag===22&&l){var w=f.memoizedState!==null||qi;if(!w){var M=f.alternate,I=M!==null&&M.memoizedState!==null||ut;M=qi;var K=ut;if(qi=w,(ut=I)&&!K)for(fe=f;fe!==null;)w=fe,I=w.child,w.tag===22&&w.memoizedState!==null?gp(f):I!==null?(I.return=w,fe=I):gp(f);for(;m!==null;)fe=m,pp(m),m=m.sibling;fe=f,qi=M,ut=K}hp(e)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,fe=m):hp(e)}}function hp(e){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ut||Yi(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!ut)if(o===null)l.componentDidMount();else{var f=n.elementType===n.type?o.memoizedProps:Ht(n.type,o.memoizedProps);l.componentDidUpdate(f,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&mf(n,m,l);break;case 3:var w=n.updateQueue;if(w!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}mf(n,w,o)}break;case 5:var M=n.stateNode;if(o===null&&n.flags&4){o=M;var I=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&o.focus();break;case"img":I.src&&(o.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var K=n.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Bs(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ut||n.flags&512&&Mu(n)}catch(ne){Ve(n,n.return,ne)}}if(n===e){fe=null;break}if(o=n.sibling,o!==null){o.return=n.return,fe=o;break}fe=n.return}}function mp(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var o=n.sibling;if(o!==null){o.return=n.return,fe=o;break}fe=n.return}}function gp(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Yi(4,n)}catch(I){Ve(n,o,I)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var f=n.return;try{l.componentDidMount()}catch(I){Ve(n,f,I)}}var m=n.return;try{Mu(n)}catch(I){Ve(n,m,I)}break;case 5:var w=n.return;try{Mu(n)}catch(I){Ve(n,w,I)}}}catch(I){Ve(n,n.return,I)}if(n===e){fe=null;break}var M=n.sibling;if(M!==null){M.return=n.return,fe=M;break}fe=n.return}}var Fy=Math.ceil,Xi=_.ReactCurrentDispatcher,Pu=_.ReactCurrentOwner,At=_.ReactCurrentBatchConfig,Me=0,et=null,Ye=null,ot=0,bt=0,ns=$n(0),Ke=0,uo=null,mr=0,Gi=0,zu=0,co=null,mt=null,Iu=0,rs=1/0,kn=null,Qi=!1,Ru=null,Un=null,Ki=!1,Wn=null,Zi=0,fo=0,Lu=null,Ji=-1,ea=0;function dt(){return(Me&6)!==0?Be():Ji!==-1?Ji:Ji=Be()}function qn(e){return(e.mode&1)===0?1:(Me&2)!==0&&ot!==0?ot&-ot:Ey.transition!==null?(ea===0&&(ea=Lr()),ea):(e=De,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e)}function Wt(e,n,o,l){if(50<fo)throw fo=0,Lu=null,Error(s(185));ar(e,o,l),((Me&2)===0||e!==et)&&(e===et&&((Me&2)===0&&(Gi|=o),Ke===4&&Yn(e,ot)),gt(e,l),o===1&&Me===0&&(n.mode&1)===0&&(rs=Be()+500,ji&&Bn()))}function gt(e,n){var o=e.callbackNode;yl(e,n);var l=Rr(e,e===et?ot:0);if(l===0)o!==null&&si(o),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(o!=null&&si(o),n===1)e.tag===0?Ny(xp.bind(null,e)):nf(xp.bind(null,e)),vy(function(){(Me&6)===0&&Bn()}),o=null;else{switch(ud(l)){case 1:o=zs;break;case 4:o=ii;break;case 16:o=Pr;break;case 536870912:o=ai;break;default:o=Pr}o=_p(o,yp.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function yp(e,n){if(Ji=-1,ea=0,(Me&6)!==0)throw Error(s(327));var o=e.callbackNode;if(ss()&&e.callbackNode!==o)return null;var l=Rr(e,e===et?ot:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||n)n=ta(e,l);else{n=l;var f=Me;Me|=2;var m=wp();(et!==e||ot!==n)&&(kn=null,rs=Be()+500,yr(e,n));do try{Uy();break}catch(M){vp(e,M)}while(!0);eu(),Xi.current=m,Me=f,Ye!==null?n=0:(et=null,ot=0,n=Ke)}if(n!==0){if(n===2&&(f=Is(e),f!==0&&(l=f,n=Au(e,f))),n===1)throw o=uo,yr(e,0),Yn(e,l),gt(e,Be()),o;if(n===6)Yn(e,l);else{if(f=e.current.alternate,(l&30)===0&&!Hy(f)&&(n=ta(e,l),n===2&&(m=Is(e),m!==0&&(l=m,n=Au(e,m))),n===1))throw o=uo,yr(e,0),Yn(e,l),gt(e,Be()),o;switch(e.finishedWork=f,e.finishedLanes=l,n){case 0:case 1:throw Error(s(345));case 2:xr(e,mt,kn);break;case 3:if(Yn(e,l),(l&130023424)===l&&(n=Iu+500-Be(),10<n)){if(Rr(e,0)!==0)break;if(f=e.suspendedLanes,(f&l)!==l){dt(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=Vl(xr.bind(null,e,mt,kn),n);break}xr(e,mt,kn);break;case 4:if(Yn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,f=-1;0<l;){var w=31-Nt(l);m=1<<w,w=n[w],w>f&&(f=w),l&=~m}if(l=f,l=Be()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Fy(l/1960))-l,10<l){e.timeoutHandle=Vl(xr.bind(null,e,mt,kn),l);break}xr(e,mt,kn);break;case 5:xr(e,mt,kn);break;default:throw Error(s(329))}}}return gt(e,Be()),e.callbackNode===o?yp.bind(null,e):null}function Au(e,n){var o=co;return e.current.memoizedState.isDehydrated&&(yr(e,n).flags|=256),e=ta(e,n),e!==2&&(n=mt,mt=o,n!==null&&$u(n)),e}function $u(e){mt===null?mt=e:mt.push.apply(mt,e)}function Hy(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!Bt(m(),f))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yn(e,n){for(n&=~zu,n&=~Gi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Nt(n),l=1<<o;e[o]=-1,n&=~l}}function xp(e){if((Me&6)!==0)throw Error(s(327));ss();var n=Rr(e,0);if((n&1)===0)return gt(e,Be()),null;var o=ta(e,n);if(e.tag!==0&&o===2){var l=Is(e);l!==0&&(n=l,o=Au(e,l))}if(o===1)throw o=uo,yr(e,0),Yn(e,n),gt(e,Be()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,xr(e,mt,kn),gt(e,Be()),null}function Ou(e,n){var o=Me;Me|=1;try{return e(n)}finally{Me=o,Me===0&&(rs=Be()+500,ji&&Bn())}}function gr(e){Wn!==null&&Wn.tag===0&&(Me&6)===0&&ss();var n=Me;Me|=1;var o=At.transition,l=De;try{if(At.transition=null,De=1,e)return e()}finally{De=l,At.transition=o,Me=n,(Me&6)===0&&Bn()}}function Bu(){bt=ns.current,Le(ns)}function yr(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,xy(o)),Ye!==null)for(o=Ye.return;o!==null;){var l=o;switch(Gl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&_i();break;case 3:Jr(),Le(ft),Le(it),lu();break;case 5:iu(l);break;case 4:Jr();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:tu(l.type._context);break;case 22:case 23:Bu()}o=o.return}if(et=e,Ye=e=Xn(e.current,null),ot=bt=n,Ke=0,uo=null,zu=Gi=mr=0,mt=co=null,fr!==null){for(n=0;n<fr.length;n++)if(o=fr[n],l=o.interleaved,l!==null){o.interleaved=null;var f=l.next,m=o.pending;if(m!==null){var w=m.next;m.next=f,l.next=w}o.pending=l}fr=null}return e}function vp(e,n){do{var o=Ye;try{if(eu(),$i.current=Hi,Oi){for(var l=He.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Oi=!1}if(hr=0,Je=Qe=He=null,ro=!1,so=0,Pu.current=null,o===null||o.return===null){Ke=1,uo=n,Ye=null;break}e:{var m=e,w=o.return,M=o,I=n;if(n=ot,M.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=I,se=M,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=se.alternate;ne?(se.updateQueue=ne.updateQueue,se.memoizedState=ne.memoizedState,se.lanes=ne.lanes):(se.updateQueue=null,se.memoizedState=null)}var de=Uf(w);if(de!==null){de.flags&=-257,Wf(de,w,M,m,n),de.mode&1&&Vf(m,K,n),n=de,I=K;var pe=n.updateQueue;if(pe===null){var he=new Set;he.add(I),n.updateQueue=he}else pe.add(I);break e}else{if((n&1)===0){Vf(m,K,n),Fu();break e}I=Error(s(426))}}else if(Ae&&M.mode&1){var Ue=Uf(w);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),Wf(Ue,w,M,m,n),Zl(es(I,M));break e}}m=I=es(I,M),Ke!==4&&(Ke=2),co===null?co=[m]:co.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var W=Ff(m,I,n);hf(m,W);break e;case 1:M=I;var O=m.type,X=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Un===null||!Un.has(X)))){m.flags|=65536,n&=-n,m.lanes|=n;var ie=Hf(m,M,n);hf(m,ie);break e}}m=m.return}while(m!==null)}Sp(o)}catch(me){n=me,Ye===o&&o!==null&&(Ye=o=o.return);continue}break}while(!0)}function wp(){var e=Xi.current;return Xi.current=Hi,e===null?Hi:e}function Fu(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),et===null||(mr&268435455)===0&&(Gi&268435455)===0||Yn(et,ot)}function ta(e,n){var o=Me;Me|=2;var l=wp();(et!==e||ot!==n)&&(kn=null,yr(e,n));do try{Vy();break}catch(f){vp(e,f)}while(!0);if(eu(),Me=o,Xi.current=l,Ye!==null)throw Error(s(261));return et=null,ot=0,Ke}function Vy(){for(;Ye!==null;)kp(Ye)}function Uy(){for(;Ye!==null&&!cl();)kp(Ye)}function kp(e){var n=Cp(e.alternate,e,bt);e.memoizedProps=e.pendingProps,n===null?Sp(e):Ye=n,Pu.current=null}function Sp(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=Ly(o,n,bt),o!==null){Ye=o;return}}else{if(o=Ay(o,n),o!==null){o.flags&=32767,Ye=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Ye=null;return}}if(n=n.sibling,n!==null){Ye=n;return}Ye=n=e}while(n!==null);Ke===0&&(Ke=5)}function xr(e,n,o){var l=De,f=At.transition;try{At.transition=null,De=1,Wy(e,n,o,l)}finally{At.transition=f,De=l}return null}function Wy(e,n,o,l){do ss();while(Wn!==null);if((Me&6)!==0)throw Error(s(327));o=e.finishedWork;var f=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var m=o.lanes|o.childLanes;if(ui(e,m),e===et&&(Ye=et=null,ot=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ki||(Ki=!0,_p(Pr,function(){return ss(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=At.transition,At.transition=null;var w=De;De=1;var M=Me;Me|=4,Pu.current=null,Oy(e,o),fp(o,e),dy(Fl),fi=!!Bl,Fl=Bl=null,e.current=o,By(o),oi(),Me=M,De=w,At.transition=m}else e.current=o;if(Ki&&(Ki=!1,Wn=e,Zi=f),m=e.pendingLanes,m===0&&(Un=null),pl(o.stateNode),gt(e,Be()),n!==null)for(l=e.onRecoverableError,o=0;o<n.length;o++)f=n[o],l(f.value,{componentStack:f.stack,digest:f.digest});if(Qi)throw Qi=!1,e=Ru,Ru=null,e;return(Zi&1)!==0&&e.tag!==0&&ss(),m=e.pendingLanes,(m&1)!==0?e===Lu?fo++:(fo=0,Lu=e):fo=0,Bn(),null}function ss(){if(Wn!==null){var e=ud(Zi),n=At.transition,o=De;try{if(At.transition=null,De=16>e?16:e,Wn===null)var l=!1;else{if(e=Wn,Wn=null,Zi=0,(Me&6)!==0)throw Error(s(331));var f=Me;for(Me|=4,fe=e.current;fe!==null;){var m=fe,w=m.child;if((fe.flags&16)!==0){var M=m.deletions;if(M!==null){for(var I=0;I<M.length;I++){var K=M[I];for(fe=K;fe!==null;){var se=fe;switch(se.tag){case 0:case 11:case 15:lo(8,se,m)}var oe=se.child;if(oe!==null)oe.return=se,fe=oe;else for(;fe!==null;){se=fe;var ne=se.sibling,de=se.return;if(ap(se),se===K){fe=null;break}if(ne!==null){ne.return=de,fe=ne;break}fe=de}}}var pe=m.alternate;if(pe!==null){var he=pe.child;if(he!==null){pe.child=null;do{var Ue=he.sibling;he.sibling=null,he=Ue}while(he!==null)}}fe=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,fe=w;else e:for(;fe!==null;){if(m=fe,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:lo(9,m,m.return)}var W=m.sibling;if(W!==null){W.return=m.return,fe=W;break e}fe=m.return}}var O=e.current;for(fe=O;fe!==null;){w=fe;var X=w.child;if((w.subtreeFlags&2064)!==0&&X!==null)X.return=w,fe=X;else e:for(w=O;fe!==null;){if(M=fe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Yi(9,M)}}catch(me){Ve(M,M.return,me)}if(M===w){fe=null;break e}var ie=M.sibling;if(ie!==null){ie.return=M.return,fe=ie;break e}fe=M.return}}if(Me=f,Bn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(ir,e)}catch{}l=!0}return l}finally{De=o,At.transition=n}}return!1}function Np(e,n,o){n=es(o,n),n=Ff(e,n,1),e=Hn(e,n,1),n=dt(),e!==null&&(ar(e,1,n),gt(e,n))}function Ve(e,n,o){if(e.tag===3)Np(e,e,o);else for(;n!==null;){if(n.tag===3){Np(n,e,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Un===null||!Un.has(l))){e=es(o,e),e=Hf(n,e,1),n=Hn(n,e,1),e=dt(),n!==null&&(ar(n,1,e),gt(n,e));break}}n=n.return}}function qy(e,n,o){var l=e.pingCache;l!==null&&l.delete(n),n=dt(),e.pingedLanes|=e.suspendedLanes&o,et===e&&(ot&o)===o&&(Ke===4||Ke===3&&(ot&130023424)===ot&&500>Be()-Iu?yr(e,0):zu|=o),gt(e,n)}function Ep(e,n){n===0&&((e.mode&1)===0?n=1:(n=Ir,Ir<<=1,(Ir&130023424)===0&&(Ir=4194304)));var o=dt();e=xn(e,n),e!==null&&(ar(e,n,o),gt(e,o))}function Yy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Ep(e,o)}function Xy(e,n){var o=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ep(e,o)}var Cp;Cp=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||ft.current)ht=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return ht=!1,Ry(e,n,o);ht=(e.flags&131072)!==0}else ht=!1,Ae&&(n.flags&1048576)!==0&&rf(n,Ti,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Wi(e,n),e=n.pendingProps;var f=qr(n,it.current);Zr(n,o),f=du(null,n,l,e,f,o);var m=fu();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,pt(l)?(m=!0,bi(n)):m=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,su(n),f.updater=Vi,n.stateNode=f,f._reactInternals=n,xu(n,l,e,o),n=Su(null,n,l,!0,m,o)):(n.tag=0,Ae&&m&&Xl(n),ct(null,n,f,o),n=n.child),n;case 16:l=n.elementType;e:{switch(Wi(e,n),e=n.pendingProps,f=l._init,l=f(l._payload),n.type=l,f=n.tag=Qy(l),e=Ht(l,e),f){case 0:n=ku(null,n,l,e,o);break e;case 1:n=Kf(null,n,l,e,o);break e;case 11:n=qf(null,n,l,e,o);break e;case 14:n=Yf(null,n,l,Ht(l.type,e),o);break e}throw Error(s(306,l,""))}return n;case 0:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Ht(l,f),ku(e,n,l,f,o);case 1:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Ht(l,f),Kf(e,n,l,f,o);case 3:e:{if(Zf(n),e===null)throw Error(s(387));l=n.pendingProps,m=n.memoizedState,f=m.element,pf(e,n),Li(n,l,null,o);var w=n.memoizedState;if(l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){f=es(Error(s(423)),n),n=Jf(e,n,l,o,f);break e}else if(l!==f){f=es(Error(s(424)),n),n=Jf(e,n,l,o,f);break e}else for(_t=An(n.stateNode.containerInfo.firstChild),Ct=n,Ae=!0,Ft=null,o=df(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Gr(),l===f){n=wn(e,n,o);break e}ct(e,n,l,o)}n=n.child}return n;case 5:return gf(n),e===null&&Kl(n),l=n.type,f=n.pendingProps,m=e!==null?e.memoizedProps:null,w=f.children,Hl(l,f)?w=null:m!==null&&Hl(l,m)&&(n.flags|=32),Qf(e,n),ct(e,n,w,o),n.child;case 6:return e===null&&Kl(n),null;case 13:return ep(e,n,o);case 4:return ou(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Qr(n,null,l,o):ct(e,n,l,o),n.child;case 11:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Ht(l,f),qf(e,n,l,f,o);case 7:return ct(e,n,n.pendingProps,o),n.child;case 8:return ct(e,n,n.pendingProps.children,o),n.child;case 12:return ct(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(l=n.type._context,f=n.pendingProps,m=n.memoizedProps,w=f.value,ze(zi,l._currentValue),l._currentValue=w,m!==null)if(Bt(m.value,w)){if(m.children===f.children&&!ft.current){n=wn(e,n,o);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var M=m.dependencies;if(M!==null){w=m.child;for(var I=M.firstContext;I!==null;){if(I.context===l){if(m.tag===1){I=vn(-1,o&-o),I.tag=2;var K=m.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?I.next=I:(I.next=se.next,se.next=I),K.pending=I}}m.lanes|=o,I=m.alternate,I!==null&&(I.lanes|=o),nu(m.return,o,n),M.lanes|=o;break}I=I.next}}else if(m.tag===10)w=m.type===n.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(s(341));w.lanes|=o,M=w.alternate,M!==null&&(M.lanes|=o),nu(w,o,n),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===n){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}ct(e,n,f.children,o),n=n.child}return n;case 9:return f=n.type,l=n.pendingProps.children,Zr(n,o),f=Rt(f),l=l(f),n.flags|=1,ct(e,n,l,o),n.child;case 14:return l=n.type,f=Ht(l,n.pendingProps),f=Ht(l.type,f),Yf(e,n,l,f,o);case 15:return Xf(e,n,n.type,n.pendingProps,o);case 17:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Ht(l,f),Wi(e,n),n.tag=1,pt(l)?(e=!0,bi(n)):e=!1,Zr(n,o),Of(n,l,f),xu(n,l,f,o),Su(null,n,l,!0,e,o);case 19:return np(e,n,o);case 22:return Gf(e,n,o)}throw Error(s(156,n.tag))};function _p(e,n){return ri(e,n)}function Gy(e,n,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,n,o,l){return new Gy(e,n,o,l)}function Hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qy(e){if(typeof e=="function")return Hu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Y)return 11;if(e===q)return 14}return 2}function Xn(e,n){var o=e.alternate;return o===null?(o=$t(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function na(e,n,o,l,f,m){var w=2;if(l=e,typeof e=="function")Hu(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case $:return vr(o.children,f,m,n);case G:w=8,f|=8;break;case Q:return e=$t(12,o,n,f|2),e.elementType=Q,e.lanes=m,e;case Z:return e=$t(13,o,n,f),e.elementType=Z,e.lanes=m,e;case P:return e=$t(19,o,n,f),e.elementType=P,e.lanes=m,e;case H:return ra(o,f,m,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:w=10;break e;case U:w=9;break e;case Y:w=11;break e;case q:w=14;break e;case B:w=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=$t(w,o,n,f),n.elementType=e,n.type=l,n.lanes=m,n}function vr(e,n,o,l){return e=$t(7,e,l,n),e.lanes=o,e}function ra(e,n,o,l){return e=$t(22,e,l,n),e.elementType=H,e.lanes=o,e.stateNode={isHidden:!1},e}function Vu(e,n,o){return e=$t(6,e,null,n),e.lanes=o,e}function Uu(e,n,o){return n=$t(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ky(e,n,o,l,f){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=l,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Wu(e,n,o,l,f,m,w,M,I){return e=new Ky(e,n,o,M,I),n===1?(n=1,m===!0&&(n|=8)):n=0,m=$t(3,null,null,n),e.current=m,m.stateNode=e,m.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},su(m),e}function Zy(e,n,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:l==null?null:""+l,children:e,containerInfo:n,implementation:o}}function bp(e){if(!e)return On;e=e._reactInternals;e:{if(Kt(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(pt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(pt(o))return ef(e,o,n)}return n}function jp(e,n,o,l,f,m,w,M,I){return e=Wu(o,l,!0,e,f,m,w,M,I),e.context=bp(null),o=e.current,l=dt(),f=qn(o),m=vn(l,f),m.callback=n??null,Hn(o,m,f),e.current.lanes=f,ar(e,f,l),gt(e,l),e}function sa(e,n,o,l){var f=n.current,m=dt(),w=qn(f);return o=bp(o),n.context===null?n.context=o:n.pendingContext=o,n=vn(m,w),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Hn(f,n,w),e!==null&&(Wt(e,f,w,m),Ri(e,f,w)),w}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function qu(e,n){Mp(e,n),(e=e.alternate)&&Mp(e,n)}function Jy(){return null}var Tp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}ia.prototype.render=Yu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));sa(e,n,null,null)},ia.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;gr(function(){sa(null,e,null,null)}),n[hn]=null}};function ia(e){this._internalRoot=e}ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=fd();e={blockedOn:null,target:e,priority:n};for(var o=0;o<In.length&&n!==0&&n<In[o].priority;o++);In.splice(o,0,e),o===0&&md(e)}};function Xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function ex(e,n,o,l,f){if(f){if(typeof l=="function"){var m=l;l=function(){var K=oa(w);m.call(K)}}var w=jp(n,l,e,0,null,!1,!1,"",Dp);return e._reactRootContainer=w,e[hn]=w.current,Gs(e.nodeType===8?e.parentNode:e),gr(),w}for(;f=e.lastChild;)e.removeChild(f);if(typeof l=="function"){var M=l;l=function(){var K=oa(I);M.call(K)}}var I=Wu(e,0,!1,null,null,!1,!1,"",Dp);return e._reactRootContainer=I,e[hn]=I.current,Gs(e.nodeType===8?e.parentNode:e),gr(function(){sa(n,I,o,l)}),I}function la(e,n,o,l,f){var m=o._reactRootContainer;if(m){var w=m;if(typeof f=="function"){var M=f;f=function(){var I=oa(w);M.call(I)}}sa(n,w,e,f)}else w=ex(o,n,e,f,l);return oa(w)}cd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Zt(n.pendingLanes);o!==0&&(xl(n,o|1),gt(n,Be()),(Me&6)===0&&(rs=Be()+500,Bn()))}break;case 13:gr(function(){var l=xn(e,1);if(l!==null){var f=dt();Wt(l,e,1,f)}}),qu(e,1)}},vl=function(e){if(e.tag===13){var n=xn(e,134217728);if(n!==null){var o=dt();Wt(n,e,134217728,o)}qu(e,134217728)}},dd=function(e){if(e.tag===13){var n=qn(e),o=xn(e,n);if(o!==null){var l=dt();Wt(o,e,n,l)}qu(e,n)}},fd=function(){return De},pd=function(e,n){var o=De;try{return De=e,n()}finally{De=o}},bs=function(e,n,o){switch(n){case"input":if(qe(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==e&&l.form===e.form){var f=Ci(l);if(!f)throw Error(s(90));Se(l),qe(l,f)}}}break;case"textarea":Mr(e,o);break;case"select":n=o.value,n!=null&&Dt(e,!!o.multiple,n,!1)}},Zo=Ou,Jo=gr;var tx={usingClientEntryPoint:!1,Events:[Zs,Ur,Ci,Qo,Ko,Ou]},po={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nx={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ti(e),e===null?null:e.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||Jy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{ir=ua.inject(nx),Pt=ua}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx,yt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(n))throw Error(s(200));return Zy(e,n,null,o)},yt.createRoot=function(e,n){if(!Xu(e))throw Error(s(299));var o=!1,l="",f=Tp;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=Wu(e,1,!1,null,null,o,!1,l,f),e[hn]=n.current,Gs(e.nodeType===8?e.parentNode:e),new Yu(n)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ti(n),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return gr(e)},yt.hydrate=function(e,n,o){if(!aa(n))throw Error(s(200));return la(null,e,n,!0,o)},yt.hydrateRoot=function(e,n,o){if(!Xu(e))throw Error(s(405));var l=o!=null&&o.hydratedSources||null,f=!1,m="",w=Tp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),n=jp(n,null,e,1,o??null,f,!1,m,w),e[hn]=n.current,Gs(e),l)for(e=0;e<l.length;e++)o=l[e],f=o._getVersion,f=f(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,f]:n.mutableSourceEagerHydrationData.push(o,f);return new ia(n)},yt.render=function(e,n,o){if(!aa(n))throw Error(s(200));return la(null,e,n,!1,o)},yt.unmountComponentAtNode=function(e){if(!aa(e))throw Error(s(40));return e._reactRootContainer?(gr(function(){la(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1},yt.unstable_batchedUpdates=Ou,yt.unstable_renderSubtreeIntoContainer=function(e,n,o,l){if(!aa(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return la(e,n,o,!1,l)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var Bp;function nm(){if(Bp)return Ku.exports;Bp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Ku.exports=dx(),Ku.exports}var Fp;function fx(){if(Fp)return ca;Fp=1;var t=nm();return ca.createRoot=t.createRoot,ca.hydrateRoot=t.hydrateRoot,ca}var px=fx();function Ge(t){if(typeof t=="string"||typeof t=="number")return""+t;let r="";if(Array.isArray(t))for(let s=0,i;s<t.length;s++)(i=Ge(t[s]))!==""&&(r+=(r&&" ")+i);else for(let s in t)t[s]&&(r+=(r&&" ")+s);return r}var hx={value:()=>{}};function Va(){for(var t=0,r=arguments.length,s={},i;t<r;++t){if(!(i=arguments[t]+"")||i in s||/[\s.]/.test(i))throw new Error("illegal type: "+i);s[i]=[]}return new Na(s)}function Na(t){this._=t}function mx(t,r){return t.trim().split(/^|\s+/).map(function(s){var i="",a=s.indexOf(".");if(a>=0&&(i=s.slice(a+1),s=s.slice(0,a)),s&&!r.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:i}})}Na.prototype=Va.prototype={constructor:Na,on:function(t,r){var s=this._,i=mx(t+"",s),a,u=-1,c=i.length;if(arguments.length<2){for(;++u<c;)if((a=(t=i[u]).type)&&(a=gx(s[a],t.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<c;)if(a=(t=i[u]).type)s[a]=Hp(s[a],t.name,r);else if(r==null)for(a in s)s[a]=Hp(s[a],t.name,null);return this},copy:function(){var t={},r=this._;for(var s in r)t[s]=r[s].slice();return new Na(t)},call:function(t,r){if((a=arguments.length-2)>0)for(var s=new Array(a),i=0,a,u;i<a;++i)s[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],i=0,a=u.length;i<a;++i)u[i].value.apply(r,s)},apply:function(t,r,s){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],a=0,u=i.length;a<u;++a)i[a].value.apply(r,s)}};function gx(t,r){for(var s=0,i=t.length,a;s<i;++s)if((a=t[s]).name===r)return a.value}function Hp(t,r,s){for(var i=0,a=t.length;i<a;++i)if(t[i].name===r){t[i]=hx,t=t.slice(0,i).concat(t.slice(i+1));break}return s!=null&&t.push({name:r,value:s}),t}var gc="http://www.w3.org/1999/xhtml";const Vp={svg:"http://www.w3.org/2000/svg",xhtml:gc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ua(t){var r=t+="",s=r.indexOf(":");return s>=0&&(r=t.slice(0,s))!=="xmlns"&&(t=t.slice(s+1)),Vp.hasOwnProperty(r)?{space:Vp[r],local:t}:t}function yx(t){return function(){var r=this.ownerDocument,s=this.namespaceURI;return s===gc&&r.documentElement.namespaceURI===gc?r.createElement(t):r.createElementNS(s,t)}}function xx(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rm(t){var r=Ua(t);return(r.local?xx:yx)(r)}function vx(){}function Ic(t){return t==null?vx:function(){return this.querySelector(t)}}function wx(t){typeof t!="function"&&(t=Ic(t));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var u=r[a],c=u.length,p=i[a]=new Array(c),h,g,v=0;v<c;++v)(h=u[v])&&(g=t.call(h,h.__data__,v,u))&&("__data__"in h&&(g.__data__=h.__data__),p[v]=g);return new Tt(i,this._parents)}function kx(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sx(){return[]}function sm(t){return t==null?Sx:function(){return this.querySelectorAll(t)}}function Nx(t){return function(){return kx(t.apply(this,arguments))}}function Ex(t){typeof t=="function"?t=Nx(t):t=sm(t);for(var r=this._groups,s=r.length,i=[],a=[],u=0;u<s;++u)for(var c=r[u],p=c.length,h,g=0;g<p;++g)(h=c[g])&&(i.push(t.call(h,h.__data__,g,c)),a.push(h));return new Tt(i,a)}function om(t){return function(){return this.matches(t)}}function im(t){return function(r){return r.matches(t)}}var Cx=Array.prototype.find;function _x(t){return function(){return Cx.call(this.children,t)}}function bx(){return this.firstElementChild}function jx(t){return this.select(t==null?bx:_x(typeof t=="function"?t:im(t)))}var Mx=Array.prototype.filter;function Tx(){return Array.from(this.children)}function Dx(t){return function(){return Mx.call(this.children,t)}}function Px(t){return this.selectAll(t==null?Tx:Dx(typeof t=="function"?t:im(t)))}function zx(t){typeof t!="function"&&(t=om(t));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var u=r[a],c=u.length,p=i[a]=[],h,g=0;g<c;++g)(h=u[g])&&t.call(h,h.__data__,g,u)&&p.push(h);return new Tt(i,this._parents)}function am(t){return new Array(t.length)}function Ix(){return new Tt(this._enter||this._groups.map(am),this._parents)}function Ma(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}Ma.prototype={constructor:Ma,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Rx(t){return function(){return t}}function Lx(t,r,s,i,a,u){for(var c=0,p,h=r.length,g=u.length;c<g;++c)(p=r[c])?(p.__data__=u[c],i[c]=p):s[c]=new Ma(t,u[c]);for(;c<h;++c)(p=r[c])&&(a[c]=p)}function Ax(t,r,s,i,a,u,c){var p,h,g=new Map,v=r.length,y=u.length,x=new Array(v),k;for(p=0;p<v;++p)(h=r[p])&&(x[p]=k=c.call(h,h.__data__,p,r)+"",g.has(k)?a[p]=h:g.set(k,h));for(p=0;p<y;++p)k=c.call(t,u[p],p,u)+"",(h=g.get(k))?(i[p]=h,h.__data__=u[p],g.delete(k)):s[p]=new Ma(t,u[p]);for(p=0;p<v;++p)(h=r[p])&&g.get(x[p])===h&&(a[p]=h)}function $x(t){return t.__data__}function Ox(t,r){if(!arguments.length)return Array.from(this,$x);var s=r?Ax:Lx,i=this._parents,a=this._groups;typeof t!="function"&&(t=Rx(t));for(var u=a.length,c=new Array(u),p=new Array(u),h=new Array(u),g=0;g<u;++g){var v=i[g],y=a[g],x=y.length,k=Bx(t.call(v,v&&v.__data__,g,i)),S=k.length,E=p[g]=new Array(S),C=c[g]=new Array(S),b=h[g]=new Array(x);s(v,y,E,C,b,k,r);for(var D=0,N=0,_,A;D<S;++D)if(_=E[D]){for(D>=N&&(N=D+1);!(A=C[N])&&++N<S;);_._next=A||null}}return c=new Tt(c,i),c._enter=p,c._exit=h,c}function Bx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fx(){return new Tt(this._exit||this._groups.map(am),this._parents)}function Hx(t,r,s){var i=this.enter(),a=this,u=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),r!=null&&(a=r(a),a&&(a=a.selection())),s==null?u.remove():s(u),i&&a?i.merge(a).order():a}function Vx(t){for(var r=t.selection?t.selection():t,s=this._groups,i=r._groups,a=s.length,u=i.length,c=Math.min(a,u),p=new Array(a),h=0;h<c;++h)for(var g=s[h],v=i[h],y=g.length,x=p[h]=new Array(y),k,S=0;S<y;++S)(k=g[S]||v[S])&&(x[S]=k);for(;h<a;++h)p[h]=s[h];return new Tt(p,this._parents)}function Ux(){for(var t=this._groups,r=-1,s=t.length;++r<s;)for(var i=t[r],a=i.length-1,u=i[a],c;--a>=0;)(c=i[a])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function Wx(t){t||(t=qx);function r(y,x){return y&&x?t(y.__data__,x.__data__):!y-!x}for(var s=this._groups,i=s.length,a=new Array(i),u=0;u<i;++u){for(var c=s[u],p=c.length,h=a[u]=new Array(p),g,v=0;v<p;++v)(g=c[v])&&(h[v]=g);h.sort(r)}return new Tt(a,this._parents).order()}function qx(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Yx(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Xx(){return Array.from(this)}function Gx(){for(var t=this._groups,r=0,s=t.length;r<s;++r)for(var i=t[r],a=0,u=i.length;a<u;++a){var c=i[a];if(c)return c}return null}function Qx(){let t=0;for(const r of this)++t;return t}function Kx(){return!this.node()}function Zx(t){for(var r=this._groups,s=0,i=r.length;s<i;++s)for(var a=r[s],u=0,c=a.length,p;u<c;++u)(p=a[u])&&t.call(p,p.__data__,u,a);return this}function Jx(t){return function(){this.removeAttribute(t)}}function ev(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tv(t,r){return function(){this.setAttribute(t,r)}}function nv(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function rv(t,r){return function(){var s=r.apply(this,arguments);s==null?this.removeAttribute(t):this.setAttribute(t,s)}}function sv(t,r){return function(){var s=r.apply(this,arguments);s==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,s)}}function ov(t,r){var s=Ua(t);if(arguments.length<2){var i=this.node();return s.local?i.getAttributeNS(s.space,s.local):i.getAttribute(s)}return this.each((r==null?s.local?ev:Jx:typeof r=="function"?s.local?sv:rv:s.local?nv:tv)(s,r))}function lm(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function iv(t){return function(){this.style.removeProperty(t)}}function av(t,r,s){return function(){this.style.setProperty(t,r,s)}}function lv(t,r,s){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,s)}}function uv(t,r,s){return arguments.length>1?this.each((r==null?iv:typeof r=="function"?lv:av)(t,r,s??"")):fs(this.node(),t)}function fs(t,r){return t.style.getPropertyValue(r)||lm(t).getComputedStyle(t,null).getPropertyValue(r)}function cv(t){return function(){delete this[t]}}function dv(t,r){return function(){this[t]=r}}function fv(t,r){return function(){var s=r.apply(this,arguments);s==null?delete this[t]:this[t]=s}}function pv(t,r){return arguments.length>1?this.each((r==null?cv:typeof r=="function"?fv:dv)(t,r)):this.node()[t]}function um(t){return t.trim().split(/^|\s+/)}function Rc(t){return t.classList||new cm(t)}function cm(t){this._node=t,this._names=um(t.getAttribute("class")||"")}cm.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dm(t,r){for(var s=Rc(t),i=-1,a=r.length;++i<a;)s.add(r[i])}function fm(t,r){for(var s=Rc(t),i=-1,a=r.length;++i<a;)s.remove(r[i])}function hv(t){return function(){dm(this,t)}}function mv(t){return function(){fm(this,t)}}function gv(t,r){return function(){(r.apply(this,arguments)?dm:fm)(this,t)}}function yv(t,r){var s=um(t+"");if(arguments.length<2){for(var i=Rc(this.node()),a=-1,u=s.length;++a<u;)if(!i.contains(s[a]))return!1;return!0}return this.each((typeof r=="function"?gv:r?hv:mv)(s,r))}function xv(){this.textContent=""}function vv(t){return function(){this.textContent=t}}function wv(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function kv(t){return arguments.length?this.each(t==null?xv:(typeof t=="function"?wv:vv)(t)):this.node().textContent}function Sv(){this.innerHTML=""}function Nv(t){return function(){this.innerHTML=t}}function Ev(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function Cv(t){return arguments.length?this.each(t==null?Sv:(typeof t=="function"?Ev:Nv)(t)):this.node().innerHTML}function _v(){this.nextSibling&&this.parentNode.appendChild(this)}function bv(){return this.each(_v)}function jv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mv(){return this.each(jv)}function Tv(t){var r=typeof t=="function"?t:rm(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function Dv(){return null}function Pv(t,r){var s=typeof t=="function"?t:rm(t),i=r==null?Dv:typeof r=="function"?r:Ic(r);return this.select(function(){return this.insertBefore(s.apply(this,arguments),i.apply(this,arguments)||null)})}function zv(){var t=this.parentNode;t&&t.removeChild(this)}function Iv(){return this.each(zv)}function Rv(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Lv(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Av(t){return this.select(t?Lv:Rv)}function $v(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ov(t){return function(r){t.call(this,r,this.__data__)}}function Bv(t){return t.trim().split(/^|\s+/).map(function(r){var s="",i=r.indexOf(".");return i>=0&&(s=r.slice(i+1),r=r.slice(0,i)),{type:r,name:s}})}function Fv(t){return function(){var r=this.__on;if(r){for(var s=0,i=-1,a=r.length,u;s<a;++s)u=r[s],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):r[++i]=u;++i?r.length=i:delete this.__on}}}function Hv(t,r,s){return function(){var i=this.__on,a,u=Ov(r);if(i){for(var c=0,p=i.length;c<p;++c)if((a=i[c]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=s),a.value=r;return}}this.addEventListener(t.type,u,s),a={type:t.type,name:t.name,value:r,listener:u,options:s},i?i.push(a):this.__on=[a]}}function Vv(t,r,s){var i=Bv(t+""),a,u=i.length,c;if(arguments.length<2){var p=this.node().__on;if(p){for(var h=0,g=p.length,v;h<g;++h)for(a=0,v=p[h];a<u;++a)if((c=i[a]).type===v.type&&c.name===v.name)return v.value}return}for(p=r?Hv:Fv,a=0;a<u;++a)this.each(p(i[a],r,s));return this}function pm(t,r,s){var i=lm(t),a=i.CustomEvent;typeof a=="function"?a=new a(r,s):(a=i.document.createEvent("Event"),s?(a.initEvent(r,s.bubbles,s.cancelable),a.detail=s.detail):a.initEvent(r,!1,!1)),t.dispatchEvent(a)}function Uv(t,r){return function(){return pm(this,t,r)}}function Wv(t,r){return function(){return pm(this,t,r.apply(this,arguments))}}function qv(t,r){return this.each((typeof r=="function"?Wv:Uv)(t,r))}function*Yv(){for(var t=this._groups,r=0,s=t.length;r<s;++r)for(var i=t[r],a=0,u=i.length,c;a<u;++a)(c=i[a])&&(yield c)}var hm=[null];function Tt(t,r){this._groups=t,this._parents=r}function $o(){return new Tt([[document.documentElement]],hm)}function Xv(){return this}Tt.prototype=$o.prototype={constructor:Tt,select:wx,selectAll:Ex,selectChild:jx,selectChildren:Px,filter:zx,data:Ox,enter:Ix,exit:Fx,join:Hx,merge:Vx,selection:Xv,order:Ux,sort:Wx,call:Yx,nodes:Xx,node:Gx,size:Qx,empty:Kx,each:Zx,attr:ov,style:uv,property:pv,classed:yv,text:kv,html:Cv,raise:bv,lower:Mv,append:Tv,insert:Pv,remove:Iv,clone:Av,datum:$v,on:Vv,dispatch:qv,[Symbol.iterator]:Yv};function jt(t){return typeof t=="string"?new Tt([[document.querySelector(t)]],[document.documentElement]):new Tt([[t]],hm)}function Gv(t){let r;for(;r=t.sourceEvent;)t=r;return t}function qt(t,r){if(t=Gv(t),r===void 0&&(r=t.currentTarget),r){var s=r.ownerSVGElement||r;if(s.createSVGPoint){var i=s.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[t.clientX-a.left-r.clientLeft,t.clientY-a.top-r.clientTop]}}return[t.pageX,t.pageY]}const Qv={passive:!1},_o={capture:!0,passive:!1};function ec(t){t.stopImmediatePropagation()}function cs(t){t.preventDefault(),t.stopImmediatePropagation()}function mm(t){var r=t.document.documentElement,s=jt(t).on("dragstart.drag",cs,_o);"onselectstart"in r?s.on("selectstart.drag",cs,_o):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function gm(t,r){var s=t.document.documentElement,i=jt(t).on("dragstart.drag",null);r&&(i.on("click.drag",cs,_o),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in s?i.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const da=t=>()=>t;function yc(t,{sourceEvent:r,subject:s,target:i,identifier:a,active:u,x:c,y:p,dx:h,dy:g,dispatch:v}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:v}})}yc.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Kv(t){return!t.ctrlKey&&!t.button}function Zv(){return this.parentNode}function Jv(t,r){return r??{x:t.x,y:t.y}}function e1(){return navigator.maxTouchPoints||"ontouchstart"in this}function ym(){var t=Kv,r=Zv,s=Jv,i=e1,a={},u=Va("start","drag","end"),c=0,p,h,g,v,y=0;function x(_){_.on("mousedown.drag",k).filter(i).on("touchstart.drag",C).on("touchmove.drag",b,Qv).on("touchend.drag touchcancel.drag",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(_,A){if(!(v||!t.call(this,_,A))){var R=N(this,r.call(this,_,A),_,A,"mouse");R&&(jt(_.view).on("mousemove.drag",S,_o).on("mouseup.drag",E,_o),mm(_.view),ec(_),g=!1,p=_.clientX,h=_.clientY,R("start",_))}}function S(_){if(cs(_),!g){var A=_.clientX-p,R=_.clientY-h;g=A*A+R*R>y}a.mouse("drag",_)}function E(_){jt(_.view).on("mousemove.drag mouseup.drag",null),gm(_.view,g),cs(_),a.mouse("end",_)}function C(_,A){if(t.call(this,_,A)){var R=_.changedTouches,$=r.call(this,_,A),G=R.length,Q,re;for(Q=0;Q<G;++Q)(re=N(this,$,_,A,R[Q].identifier,R[Q]))&&(ec(_),re("start",_,R[Q]))}}function b(_){var A=_.changedTouches,R=A.length,$,G;for($=0;$<R;++$)(G=a[A[$].identifier])&&(cs(_),G("drag",_,A[$]))}function D(_){var A=_.changedTouches,R=A.length,$,G;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),$=0;$<R;++$)(G=a[A[$].identifier])&&(ec(_),G("end",_,A[$]))}function N(_,A,R,$,G,Q){var re=u.copy(),U=qt(Q||R,A),Y,Z,P;if((P=s.call(_,new yc("beforestart",{sourceEvent:R,target:x,identifier:G,active:c,x:U[0],y:U[1],dx:0,dy:0,dispatch:re}),$))!=null)return Y=P.x-U[0]||0,Z=P.y-U[1]||0,function q(B,H,T){var z=U,V;switch(B){case"start":a[G]=q,V=c++;break;case"end":delete a[G],--c;case"drag":U=qt(T||H,A),V=c;break}re.call(B,_,new yc(B,{sourceEvent:H,subject:P,target:x,identifier:G,active:V,x:U[0]+Y,y:U[1]+Z,dx:U[0]-z[0],dy:U[1]-z[1],dispatch:re}),$)}}return x.filter=function(_){return arguments.length?(t=typeof _=="function"?_:da(!!_),x):t},x.container=function(_){return arguments.length?(r=typeof _=="function"?_:da(_),x):r},x.subject=function(_){return arguments.length?(s=typeof _=="function"?_:da(_),x):s},x.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:da(!!_),x):i},x.on=function(){var _=u.on.apply(u,arguments);return _===u?x:_},x.clickDistance=function(_){return arguments.length?(y=(_=+_)*_,x):Math.sqrt(y)},x}function Lc(t,r,s){t.prototype=r.prototype=s,s.constructor=t}function xm(t,r){var s=Object.create(t.prototype);for(var i in r)s[i]=r[i];return s}function Oo(){}var bo=.7,Ta=1/bo,ds="\\s*([+-]?\\d+)\\s*",jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t1=/^#([0-9a-f]{3,8})$/,n1=new RegExp(`^rgb\\(${ds},${ds},${ds}\\)$`),r1=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),s1=new RegExp(`^rgba\\(${ds},${ds},${ds},${jo}\\)$`),o1=new RegExp(`^rgba\\(${sn},${sn},${sn},${jo}\\)$`),i1=new RegExp(`^hsl\\(${jo},${sn},${sn}\\)$`),a1=new RegExp(`^hsla\\(${jo},${sn},${sn},${jo}\\)$`),Up={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lc(Oo,Cr,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wp,formatHex:Wp,formatHex8:l1,formatHsl:u1,formatRgb:qp,toString:qp});function Wp(){return this.rgb().formatHex()}function l1(){return this.rgb().formatHex8()}function u1(){return vm(this).formatHsl()}function qp(){return this.rgb().formatRgb()}function Cr(t){var r,s;return t=(t+"").trim().toLowerCase(),(r=t1.exec(t))?(s=r[1].length,r=parseInt(r[1],16),s===6?Yp(r):s===3?new vt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?fa(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?fa(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=n1.exec(t))?new vt(r[1],r[2],r[3],1):(r=r1.exec(t))?new vt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=s1.exec(t))?fa(r[1],r[2],r[3],r[4]):(r=o1.exec(t))?fa(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=i1.exec(t))?Qp(r[1],r[2]/100,r[3]/100,1):(r=a1.exec(t))?Qp(r[1],r[2]/100,r[3]/100,r[4]):Up.hasOwnProperty(t)?Yp(Up[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function Yp(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function fa(t,r,s,i){return i<=0&&(t=r=s=NaN),new vt(t,r,s,i)}function c1(t){return t instanceof Oo||(t=Cr(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function xc(t,r,s,i){return arguments.length===1?c1(t):new vt(t,r,s,i??1)}function vt(t,r,s,i){this.r=+t,this.g=+r,this.b=+s,this.opacity=+i}Lc(vt,xc,xm(Oo,{brighter(t){return t=t==null?Ta:Math.pow(Ta,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bo:Math.pow(bo,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(Sr(this.r),Sr(this.g),Sr(this.b),Da(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xp,formatHex:Xp,formatHex8:d1,formatRgb:Gp,toString:Gp}));function Xp(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function d1(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gp(){const t=Da(this.opacity);return`${t===1?"rgb(":"rgba("}${Sr(this.r)}, ${Sr(this.g)}, ${Sr(this.b)}${t===1?")":`, ${t})`}`}function Da(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kr(t){return t=Sr(t),(t<16?"0":"")+t.toString(16)}function Qp(t,r,s,i){return i<=0?t=r=s=NaN:s<=0||s>=1?t=r=NaN:r<=0&&(t=NaN),new Yt(t,r,s,i)}function vm(t){if(t instanceof Yt)return new Yt(t.h,t.s,t.l,t.opacity);if(t instanceof Oo||(t=Cr(t)),!t)return new Yt;if(t instanceof Yt)return t;t=t.rgb();var r=t.r/255,s=t.g/255,i=t.b/255,a=Math.min(r,s,i),u=Math.max(r,s,i),c=NaN,p=u-a,h=(u+a)/2;return p?(r===u?c=(s-i)/p+(s<i)*6:s===u?c=(i-r)/p+2:c=(r-s)/p+4,p/=h<.5?u+a:2-u-a,c*=60):p=h>0&&h<1?0:c,new Yt(c,p,h,t.opacity)}function f1(t,r,s,i){return arguments.length===1?vm(t):new Yt(t,r,s,i??1)}function Yt(t,r,s,i){this.h=+t,this.s=+r,this.l=+s,this.opacity=+i}Lc(Yt,f1,xm(Oo,{brighter(t){return t=t==null?Ta:Math.pow(Ta,t),new Yt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bo:Math.pow(bo,t),new Yt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,i=s+(s<.5?s:1-s)*r,a=2*s-i;return new vt(tc(t>=240?t-240:t+120,a,i),tc(t,a,i),tc(t<120?t+240:t-120,a,i),this.opacity)},clamp(){return new Yt(Kp(this.h),pa(this.s),pa(this.l),Da(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Da(this.opacity);return`${t===1?"hsl(":"hsla("}${Kp(this.h)}, ${pa(this.s)*100}%, ${pa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kp(t){return t=(t||0)%360,t<0?t+360:t}function pa(t){return Math.max(0,Math.min(1,t||0))}function tc(t,r,s){return(t<60?r+(s-r)*t/60:t<180?s:t<240?r+(s-r)*(240-t)/60:r)*255}const Ac=t=>()=>t;function p1(t,r){return function(s){return t+s*r}}function h1(t,r,s){return t=Math.pow(t,s),r=Math.pow(r,s)-t,s=1/s,function(i){return Math.pow(t+i*r,s)}}function m1(t){return(t=+t)==1?wm:function(r,s){return s-r?h1(r,s,t):Ac(isNaN(r)?s:r)}}function wm(t,r){var s=r-t;return s?p1(t,s):Ac(isNaN(t)?r:t)}const Pa=(function t(r){var s=m1(r);function i(a,u){var c=s((a=xc(a)).r,(u=xc(u)).r),p=s(a.g,u.g),h=s(a.b,u.b),g=wm(a.opacity,u.opacity);return function(v){return a.r=c(v),a.g=p(v),a.b=h(v),a.opacity=g(v),a+""}}return i.gamma=t,i})(1);function g1(t,r){r||(r=[]);var s=t?Math.min(r.length,t.length):0,i=r.slice(),a;return function(u){for(a=0;a<s;++a)i[a]=t[a]*(1-u)+r[a]*u;return i}}function y1(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function x1(t,r){var s=r?r.length:0,i=t?Math.min(s,t.length):0,a=new Array(i),u=new Array(s),c;for(c=0;c<i;++c)a[c]=Eo(t[c],r[c]);for(;c<s;++c)u[c]=r[c];return function(p){for(c=0;c<i;++c)u[c]=a[c](p);return u}}function v1(t,r){var s=new Date;return t=+t,r=+r,function(i){return s.setTime(t*(1-i)+r*i),s}}function rn(t,r){return t=+t,r=+r,function(s){return t*(1-s)+r*s}}function w1(t,r){var s={},i={},a;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in t?s[a]=Eo(t[a],r[a]):i[a]=r[a];return function(u){for(a in s)i[a]=s[a](u);return i}}var vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nc=new RegExp(vc.source,"g");function k1(t){return function(){return t}}function S1(t){return function(r){return t(r)+""}}function km(t,r){var s=vc.lastIndex=nc.lastIndex=0,i,a,u,c=-1,p=[],h=[];for(t=t+"",r=r+"";(i=vc.exec(t))&&(a=nc.exec(r));)(u=a.index)>s&&(u=r.slice(s,u),p[c]?p[c]+=u:p[++c]=u),(i=i[0])===(a=a[0])?p[c]?p[c]+=a:p[++c]=a:(p[++c]=null,h.push({i:c,x:rn(i,a)})),s=nc.lastIndex;return s<r.length&&(u=r.slice(s),p[c]?p[c]+=u:p[++c]=u),p.length<2?h[0]?S1(h[0].x):k1(r):(r=h.length,function(g){for(var v=0,y;v<r;++v)p[(y=h[v]).i]=y.x(g);return p.join("")})}function Eo(t,r){var s=typeof r,i;return r==null||s==="boolean"?Ac(r):(s==="number"?rn:s==="string"?(i=Cr(r))?(r=i,Pa):km:r instanceof Cr?Pa:r instanceof Date?v1:y1(r)?g1:Array.isArray(r)?x1:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?w1:rn)(t,r)}var Zp=180/Math.PI,wc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sm(t,r,s,i,a,u){var c,p,h;return(c=Math.sqrt(t*t+r*r))&&(t/=c,r/=c),(h=t*s+r*i)&&(s-=t*h,i-=r*h),(p=Math.sqrt(s*s+i*i))&&(s/=p,i/=p,h/=p),t*i<r*s&&(t=-t,r=-r,h=-h,c=-c),{translateX:a,translateY:u,rotate:Math.atan2(r,t)*Zp,skewX:Math.atan(h)*Zp,scaleX:c,scaleY:p}}var ha;function N1(t){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?wc:Sm(r.a,r.b,r.c,r.d,r.e,r.f)}function E1(t){return t==null||(ha||(ha=document.createElementNS("http://www.w3.org/2000/svg","g")),ha.setAttribute("transform",t),!(t=ha.transform.baseVal.consolidate()))?wc:(t=t.matrix,Sm(t.a,t.b,t.c,t.d,t.e,t.f))}function Nm(t,r,s,i){function a(g){return g.length?g.pop()+" ":""}function u(g,v,y,x,k,S){if(g!==y||v!==x){var E=k.push("translate(",null,r,null,s);S.push({i:E-4,x:rn(g,y)},{i:E-2,x:rn(v,x)})}else(y||x)&&k.push("translate("+y+r+x+s)}function c(g,v,y,x){g!==v?(g-v>180?v+=360:v-g>180&&(g+=360),x.push({i:y.push(a(y)+"rotate(",null,i)-2,x:rn(g,v)})):v&&y.push(a(y)+"rotate("+v+i)}function p(g,v,y,x){g!==v?x.push({i:y.push(a(y)+"skewX(",null,i)-2,x:rn(g,v)}):v&&y.push(a(y)+"skewX("+v+i)}function h(g,v,y,x,k,S){if(g!==y||v!==x){var E=k.push(a(k)+"scale(",null,",",null,")");S.push({i:E-4,x:rn(g,y)},{i:E-2,x:rn(v,x)})}else(y!==1||x!==1)&&k.push(a(k)+"scale("+y+","+x+")")}return function(g,v){var y=[],x=[];return g=t(g),v=t(v),u(g.translateX,g.translateY,v.translateX,v.translateY,y,x),c(g.rotate,v.rotate,y,x),p(g.skewX,v.skewX,y,x),h(g.scaleX,g.scaleY,v.scaleX,v.scaleY,y,x),g=v=null,function(k){for(var S=-1,E=x.length,C;++S<E;)y[(C=x[S]).i]=C.x(k);return y.join("")}}}var C1=Nm(N1,"px, ","px)","deg)"),_1=Nm(E1,", ",")",")"),b1=1e-12;function Jp(t){return((t=Math.exp(t))+1/t)/2}function j1(t){return((t=Math.exp(t))-1/t)/2}function M1(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ea=(function t(r,s,i){function a(u,c){var p=u[0],h=u[1],g=u[2],v=c[0],y=c[1],x=c[2],k=v-p,S=y-h,E=k*k+S*S,C,b;if(E<b1)b=Math.log(x/g)/r,C=function($){return[p+$*k,h+$*S,g*Math.exp(r*$*b)]};else{var D=Math.sqrt(E),N=(x*x-g*g+i*E)/(2*g*s*D),_=(x*x-g*g-i*E)/(2*x*s*D),A=Math.log(Math.sqrt(N*N+1)-N),R=Math.log(Math.sqrt(_*_+1)-_);b=(R-A)/r,C=function($){var G=$*b,Q=Jp(A),re=g/(s*D)*(Q*M1(r*G+A)-j1(A));return[p+re*k,h+re*S,g*Q/Jp(r*G+A)]}}return C.duration=b*1e3*r/Math.SQRT2,C}return a.rho=function(u){var c=Math.max(.001,+u),p=c*c,h=p*p;return t(c,p,h)},a})(Math.SQRT2,2,4);var ps=0,wo=0,mo=0,Em=1e3,za,ko,Ia=0,_r=0,Wa=0,Mo=typeof performance=="object"&&performance.now?performance:Date,Cm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $c(){return _r||(Cm(T1),_r=Mo.now()+Wa)}function T1(){_r=0}function Ra(){this._call=this._time=this._next=null}Ra.prototype=_m.prototype={constructor:Ra,restart:function(t,r,s){if(typeof t!="function")throw new TypeError("callback is not a function");s=(s==null?$c():+s)+(r==null?0:+r),!this._next&&ko!==this&&(ko?ko._next=this:za=this,ko=this),this._call=t,this._time=s,kc()},stop:function(){this._call&&(this._call=null,this._time=1/0,kc())}};function _m(t,r,s){var i=new Ra;return i.restart(t,r,s),i}function D1(){$c(),++ps;for(var t=za,r;t;)(r=_r-t._time)>=0&&t._call.call(void 0,r),t=t._next;--ps}function eh(){_r=(Ia=Mo.now())+Wa,ps=wo=0;try{D1()}finally{ps=0,z1(),_r=0}}function P1(){var t=Mo.now(),r=t-Ia;r>Em&&(Wa-=r,Ia=t)}function z1(){for(var t,r=za,s,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(s=r._next,r._next=null,r=t?t._next=s:za=s);ko=t,kc(i)}function kc(t){if(!ps){wo&&(wo=clearTimeout(wo));var r=t-_r;r>24?(t<1/0&&(wo=setTimeout(eh,t-Mo.now()-Wa)),mo&&(mo=clearInterval(mo))):(mo||(Ia=Mo.now(),mo=setInterval(P1,Em)),ps=1,Cm(eh))}}function th(t,r,s){var i=new Ra;return r=r==null?0:+r,i.restart(a=>{i.stop(),t(a+r)},r,s),i}var I1=Va("start","end","cancel","interrupt"),R1=[],bm=0,nh=1,Sc=2,Ca=3,rh=4,Nc=5,_a=6;function qa(t,r,s,i,a,u){var c=t.__transition;if(!c)t.__transition={};else if(s in c)return;L1(t,s,{name:r,index:i,group:a,on:I1,tween:R1,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:bm})}function Oc(t,r){var s=Qt(t,r);if(s.state>bm)throw new Error("too late; already scheduled");return s}function ln(t,r){var s=Qt(t,r);if(s.state>Ca)throw new Error("too late; already running");return s}function Qt(t,r){var s=t.__transition;if(!s||!(s=s[r]))throw new Error("transition not found");return s}function L1(t,r,s){var i=t.__transition,a;i[r]=s,s.timer=_m(u,0,s.time);function u(g){s.state=nh,s.timer.restart(c,s.delay,s.time),s.delay<=g&&c(g-s.delay)}function c(g){var v,y,x,k;if(s.state!==nh)return h();for(v in i)if(k=i[v],k.name===s.name){if(k.state===Ca)return th(c);k.state===rh?(k.state=_a,k.timer.stop(),k.on.call("interrupt",t,t.__data__,k.index,k.group),delete i[v]):+v<r&&(k.state=_a,k.timer.stop(),k.on.call("cancel",t,t.__data__,k.index,k.group),delete i[v])}if(th(function(){s.state===Ca&&(s.state=rh,s.timer.restart(p,s.delay,s.time),p(g))}),s.state=Sc,s.on.call("start",t,t.__data__,s.index,s.group),s.state===Sc){for(s.state=Ca,a=new Array(x=s.tween.length),v=0,y=-1;v<x;++v)(k=s.tween[v].value.call(t,t.__data__,s.index,s.group))&&(a[++y]=k);a.length=y+1}}function p(g){for(var v=g<s.duration?s.ease.call(null,g/s.duration):(s.timer.restart(h),s.state=Nc,1),y=-1,x=a.length;++y<x;)a[y].call(t,v);s.state===Nc&&(s.on.call("end",t,t.__data__,s.index,s.group),h())}function h(){s.state=_a,s.timer.stop(),delete i[r];for(var g in i)return;delete t.__transition}}function ba(t,r){var s=t.__transition,i,a,u=!0,c;if(s){r=r==null?null:r+"";for(c in s){if((i=s[c]).name!==r){u=!1;continue}a=i.state>Sc&&i.state<Nc,i.state=_a,i.timer.stop(),i.on.call(a?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete s[c]}u&&delete t.__transition}}function A1(t){return this.each(function(){ba(this,t)})}function $1(t,r){var s,i;return function(){var a=ln(this,t),u=a.tween;if(u!==s){i=s=u;for(var c=0,p=i.length;c<p;++c)if(i[c].name===r){i=i.slice(),i.splice(c,1);break}}a.tween=i}}function O1(t,r,s){var i,a;if(typeof s!="function")throw new Error;return function(){var u=ln(this,t),c=u.tween;if(c!==i){a=(i=c).slice();for(var p={name:r,value:s},h=0,g=a.length;h<g;++h)if(a[h].name===r){a[h]=p;break}h===g&&a.push(p)}u.tween=a}}function B1(t,r){var s=this._id;if(t+="",arguments.length<2){for(var i=Qt(this.node(),s).tween,a=0,u=i.length,c;a<u;++a)if((c=i[a]).name===t)return c.value;return null}return this.each((r==null?$1:O1)(s,t,r))}function Bc(t,r,s){var i=t._id;return t.each(function(){var a=ln(this,i);(a.value||(a.value={}))[r]=s.apply(this,arguments)}),function(a){return Qt(a,i).value[r]}}function jm(t,r){var s;return(typeof r=="number"?rn:r instanceof Cr?Pa:(s=Cr(r))?(r=s,Pa):km)(t,r)}function F1(t){return function(){this.removeAttribute(t)}}function H1(t){return function(){this.removeAttributeNS(t.space,t.local)}}function V1(t,r,s){var i,a=s+"",u;return function(){var c=this.getAttribute(t);return c===a?null:c===i?u:u=r(i=c,s)}}function U1(t,r,s){var i,a=s+"",u;return function(){var c=this.getAttributeNS(t.space,t.local);return c===a?null:c===i?u:u=r(i=c,s)}}function W1(t,r,s){var i,a,u;return function(){var c,p=s(this),h;return p==null?void this.removeAttribute(t):(c=this.getAttribute(t),h=p+"",c===h?null:c===i&&h===a?u:(a=h,u=r(i=c,p)))}}function q1(t,r,s){var i,a,u;return function(){var c,p=s(this),h;return p==null?void this.removeAttributeNS(t.space,t.local):(c=this.getAttributeNS(t.space,t.local),h=p+"",c===h?null:c===i&&h===a?u:(a=h,u=r(i=c,p)))}}function Y1(t,r){var s=Ua(t),i=s==="transform"?_1:jm;return this.attrTween(t,typeof r=="function"?(s.local?q1:W1)(s,i,Bc(this,"attr."+t,r)):r==null?(s.local?H1:F1)(s):(s.local?U1:V1)(s,i,r))}function X1(t,r){return function(s){this.setAttribute(t,r.call(this,s))}}function G1(t,r){return function(s){this.setAttributeNS(t.space,t.local,r.call(this,s))}}function Q1(t,r){var s,i;function a(){var u=r.apply(this,arguments);return u!==i&&(s=(i=u)&&G1(t,u)),s}return a._value=r,a}function K1(t,r){var s,i;function a(){var u=r.apply(this,arguments);return u!==i&&(s=(i=u)&&X1(t,u)),s}return a._value=r,a}function Z1(t,r){var s="attr."+t;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;var i=Ua(t);return this.tween(s,(i.local?Q1:K1)(i,r))}function J1(t,r){return function(){Oc(this,t).delay=+r.apply(this,arguments)}}function ew(t,r){return r=+r,function(){Oc(this,t).delay=r}}function tw(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?J1:ew)(r,t)):Qt(this.node(),r).delay}function nw(t,r){return function(){ln(this,t).duration=+r.apply(this,arguments)}}function rw(t,r){return r=+r,function(){ln(this,t).duration=r}}function sw(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?nw:rw)(r,t)):Qt(this.node(),r).duration}function ow(t,r){if(typeof r!="function")throw new Error;return function(){ln(this,t).ease=r}}function iw(t){var r=this._id;return arguments.length?this.each(ow(r,t)):Qt(this.node(),r).ease}function aw(t,r){return function(){var s=r.apply(this,arguments);if(typeof s!="function")throw new Error;ln(this,t).ease=s}}function lw(t){if(typeof t!="function")throw new Error;return this.each(aw(this._id,t))}function uw(t){typeof t!="function"&&(t=om(t));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var u=r[a],c=u.length,p=i[a]=[],h,g=0;g<c;++g)(h=u[g])&&t.call(h,h.__data__,g,u)&&p.push(h);return new _n(i,this._parents,this._name,this._id)}function cw(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,s=t._groups,i=r.length,a=s.length,u=Math.min(i,a),c=new Array(i),p=0;p<u;++p)for(var h=r[p],g=s[p],v=h.length,y=c[p]=new Array(v),x,k=0;k<v;++k)(x=h[k]||g[k])&&(y[k]=x);for(;p<i;++p)c[p]=r[p];return new _n(c,this._parents,this._name,this._id)}function dw(t){return(t+"").trim().split(/^|\s+/).every(function(r){var s=r.indexOf(".");return s>=0&&(r=r.slice(0,s)),!r||r==="start"})}function fw(t,r,s){var i,a,u=dw(r)?Oc:ln;return function(){var c=u(this,t),p=c.on;p!==i&&(a=(i=p).copy()).on(r,s),c.on=a}}function pw(t,r){var s=this._id;return arguments.length<2?Qt(this.node(),s).on.on(t):this.each(fw(s,t,r))}function hw(t){return function(){var r=this.parentNode;for(var s in this.__transition)if(+s!==t)return;r&&r.removeChild(this)}}function mw(){return this.on("end.remove",hw(this._id))}function gw(t){var r=this._name,s=this._id;typeof t!="function"&&(t=Ic(t));for(var i=this._groups,a=i.length,u=new Array(a),c=0;c<a;++c)for(var p=i[c],h=p.length,g=u[c]=new Array(h),v,y,x=0;x<h;++x)(v=p[x])&&(y=t.call(v,v.__data__,x,p))&&("__data__"in v&&(y.__data__=v.__data__),g[x]=y,qa(g[x],r,s,x,g,Qt(v,s)));return new _n(u,this._parents,r,s)}function yw(t){var r=this._name,s=this._id;typeof t!="function"&&(t=sm(t));for(var i=this._groups,a=i.length,u=[],c=[],p=0;p<a;++p)for(var h=i[p],g=h.length,v,y=0;y<g;++y)if(v=h[y]){for(var x=t.call(v,v.__data__,y,h),k,S=Qt(v,s),E=0,C=x.length;E<C;++E)(k=x[E])&&qa(k,r,s,E,x,S);u.push(x),c.push(v)}return new _n(u,c,r,s)}var xw=$o.prototype.constructor;function vw(){return new xw(this._groups,this._parents)}function ww(t,r){var s,i,a;return function(){var u=fs(this,t),c=(this.style.removeProperty(t),fs(this,t));return u===c?null:u===s&&c===i?a:a=r(s=u,i=c)}}function Mm(t){return function(){this.style.removeProperty(t)}}function kw(t,r,s){var i,a=s+"",u;return function(){var c=fs(this,t);return c===a?null:c===i?u:u=r(i=c,s)}}function Sw(t,r,s){var i,a,u;return function(){var c=fs(this,t),p=s(this),h=p+"";return p==null&&(h=p=(this.style.removeProperty(t),fs(this,t))),c===h?null:c===i&&h===a?u:(a=h,u=r(i=c,p))}}function Nw(t,r){var s,i,a,u="style."+r,c="end."+u,p;return function(){var h=ln(this,t),g=h.on,v=h.value[u]==null?p||(p=Mm(r)):void 0;(g!==s||a!==v)&&(i=(s=g).copy()).on(c,a=v),h.on=i}}function Ew(t,r,s){var i=(t+="")=="transform"?C1:jm;return r==null?this.styleTween(t,ww(t,i)).on("end.style."+t,Mm(t)):typeof r=="function"?this.styleTween(t,Sw(t,i,Bc(this,"style."+t,r))).each(Nw(this._id,t)):this.styleTween(t,kw(t,i,r),s).on("end.style."+t,null)}function Cw(t,r,s){return function(i){this.style.setProperty(t,r.call(this,i),s)}}function _w(t,r,s){var i,a;function u(){var c=r.apply(this,arguments);return c!==a&&(i=(a=c)&&Cw(t,c,s)),i}return u._value=r,u}function bw(t,r,s){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,_w(t,r,s??""))}function jw(t){return function(){this.textContent=t}}function Mw(t){return function(){var r=t(this);this.textContent=r??""}}function Tw(t){return this.tween("text",typeof t=="function"?Mw(Bc(this,"text",t)):jw(t==null?"":t+""))}function Dw(t){return function(r){this.textContent=t.call(this,r)}}function Pw(t){var r,s;function i(){var a=t.apply(this,arguments);return a!==s&&(r=(s=a)&&Dw(a)),r}return i._value=t,i}function zw(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Pw(t))}function Iw(){for(var t=this._name,r=this._id,s=Tm(),i=this._groups,a=i.length,u=0;u<a;++u)for(var c=i[u],p=c.length,h,g=0;g<p;++g)if(h=c[g]){var v=Qt(h,r);qa(h,t,s,g,c,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new _n(i,this._parents,t,s)}function Rw(){var t,r,s=this,i=s._id,a=s.size();return new Promise(function(u,c){var p={value:c},h={value:function(){--a===0&&u()}};s.each(function(){var g=ln(this,i),v=g.on;v!==t&&(r=(t=v).copy(),r._.cancel.push(p),r._.interrupt.push(p),r._.end.push(h)),g.on=r}),a===0&&u()})}var Lw=0;function _n(t,r,s,i){this._groups=t,this._parents=r,this._name=s,this._id=i}function Tm(){return++Lw}var Sn=$o.prototype;_n.prototype={constructor:_n,select:gw,selectAll:yw,selectChild:Sn.selectChild,selectChildren:Sn.selectChildren,filter:uw,merge:cw,selection:vw,transition:Iw,call:Sn.call,nodes:Sn.nodes,node:Sn.node,size:Sn.size,empty:Sn.empty,each:Sn.each,on:pw,attr:Y1,attrTween:Z1,style:Ew,styleTween:bw,text:Tw,textTween:zw,remove:mw,tween:B1,delay:tw,duration:sw,ease:iw,easeVarying:lw,end:Rw,[Symbol.iterator]:Sn[Symbol.iterator]};function Aw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var $w={time:null,delay:0,duration:250,ease:Aw};function Ow(t,r){for(var s;!(s=t.__transition)||!(s=s[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return s}function Bw(t){var r,s;t instanceof _n?(r=t._id,t=t._name):(r=Tm(),(s=$w).time=$c(),t=t==null?null:t+"");for(var i=this._groups,a=i.length,u=0;u<a;++u)for(var c=i[u],p=c.length,h,g=0;g<p;++g)(h=c[g])&&qa(h,t,r,g,c,s||Ow(h,r));return new _n(i,this._parents,t,r)}$o.prototype.interrupt=A1;$o.prototype.transition=Bw;const ma=t=>()=>t;function Fw(t,{sourceEvent:r,target:s,transform:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Nn(t,r,s){this.k=t,this.x=r,this.y=s}Nn.prototype={constructor:Nn,scale:function(t){return t===1?this:new Nn(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new Nn(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ya=new Nn(1,0,0);Dm.prototype=Nn.prototype;function Dm(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ya;return t.__zoom}function rc(t){t.stopImmediatePropagation()}function go(t){t.preventDefault(),t.stopImmediatePropagation()}function Hw(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Vw(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function sh(){return this.__zoom||Ya}function Uw(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ww(){return navigator.maxTouchPoints||"ontouchstart"in this}function qw(t,r,s){var i=t.invertX(r[0][0])-s[0][0],a=t.invertX(r[1][0])-s[1][0],u=t.invertY(r[0][1])-s[0][1],c=t.invertY(r[1][1])-s[1][1];return t.translate(a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function Pm(){var t=Hw,r=Vw,s=qw,i=Uw,a=Ww,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],p=250,h=Ea,g=Va("start","zoom","end"),v,y,x,k=500,S=150,E=0,C=10;function b(P){P.property("__zoom",sh).on("wheel.zoom",G,{passive:!1}).on("mousedown.zoom",Q).on("dblclick.zoom",re).filter(a).on("touchstart.zoom",U).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(P,q,B,H){var T=P.selection?P.selection():P;T.property("__zoom",sh),P!==T?A(P,q,B,H):T.interrupt().each(function(){R(this,arguments).event(H).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},b.scaleBy=function(P,q,B,H){b.scaleTo(P,function(){var T=this.__zoom.k,z=typeof q=="function"?q.apply(this,arguments):q;return T*z},B,H)},b.scaleTo=function(P,q,B,H){b.transform(P,function(){var T=r.apply(this,arguments),z=this.__zoom,V=B==null?_(T):typeof B=="function"?B.apply(this,arguments):B,j=z.invert(V),L=typeof q=="function"?q.apply(this,arguments):q;return s(N(D(z,L),V,j),T,c)},B,H)},b.translateBy=function(P,q,B,H){b.transform(P,function(){return s(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof B=="function"?B.apply(this,arguments):B),r.apply(this,arguments),c)},null,H)},b.translateTo=function(P,q,B,H,T){b.transform(P,function(){var z=r.apply(this,arguments),V=this.__zoom,j=H==null?_(z):typeof H=="function"?H.apply(this,arguments):H;return s(Ya.translate(j[0],j[1]).scale(V.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof B=="function"?-B.apply(this,arguments):-B),z,c)},H,T)};function D(P,q){return q=Math.max(u[0],Math.min(u[1],q)),q===P.k?P:new Nn(q,P.x,P.y)}function N(P,q,B){var H=q[0]-B[0]*P.k,T=q[1]-B[1]*P.k;return H===P.x&&T===P.y?P:new Nn(P.k,H,T)}function _(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function A(P,q,B,H){P.on("start.zoom",function(){R(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(H).end()}).tween("zoom",function(){var T=this,z=arguments,V=R(T,z).event(H),j=r.apply(T,z),L=B==null?_(j):typeof B=="function"?B.apply(T,z):B,J=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),ee=T.__zoom,ae=typeof q=="function"?q.apply(T,z):q,le=h(ee.invert(L).concat(J/ee.k),ae.invert(L).concat(J/ae.k));return function(ue){if(ue===1)ue=ae;else{var te=le(ue),ce=J/te[2];ue=new Nn(ce,L[0]-te[0]*ce,L[1]-te[1]*ce)}V.zoom(null,ue)}})}function R(P,q,B){return!B&&P.__zooming||new $(P,q)}function $(P,q){this.that=P,this.args=q,this.active=0,this.sourceEvent=null,this.extent=r.apply(P,q),this.taps=0}$.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,q){return this.mouse&&P!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var q=jt(this.that).datum();g.call(P,this.that,new Fw(P,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:g}),q)}};function G(P,...q){if(!t.apply(this,arguments))return;var B=R(this,q).event(P),H=this.__zoom,T=Math.max(u[0],Math.min(u[1],H.k*Math.pow(2,i.apply(this,arguments)))),z=qt(P);if(B.wheel)(B.mouse[0][0]!==z[0]||B.mouse[0][1]!==z[1])&&(B.mouse[1]=H.invert(B.mouse[0]=z)),clearTimeout(B.wheel);else{if(H.k===T)return;B.mouse=[z,H.invert(z)],ba(this),B.start()}go(P),B.wheel=setTimeout(V,S),B.zoom("mouse",s(N(D(H,T),B.mouse[0],B.mouse[1]),B.extent,c));function V(){B.wheel=null,B.end()}}function Q(P,...q){if(x||!t.apply(this,arguments))return;var B=P.currentTarget,H=R(this,q,!0).event(P),T=jt(P.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",J,!0),z=qt(P,B),V=P.clientX,j=P.clientY;mm(P.view),rc(P),H.mouse=[z,this.__zoom.invert(z)],ba(this),H.start();function L(ee){if(go(ee),!H.moved){var ae=ee.clientX-V,le=ee.clientY-j;H.moved=ae*ae+le*le>E}H.event(ee).zoom("mouse",s(N(H.that.__zoom,H.mouse[0]=qt(ee,B),H.mouse[1]),H.extent,c))}function J(ee){T.on("mousemove.zoom mouseup.zoom",null),gm(ee.view,H.moved),go(ee),H.event(ee).end()}}function re(P,...q){if(t.apply(this,arguments)){var B=this.__zoom,H=qt(P.changedTouches?P.changedTouches[0]:P,this),T=B.invert(H),z=B.k*(P.shiftKey?.5:2),V=s(N(D(B,z),H,T),r.apply(this,q),c);go(P),p>0?jt(this).transition().duration(p).call(A,V,H,P):jt(this).call(b.transform,V,H,P)}}function U(P,...q){if(t.apply(this,arguments)){var B=P.touches,H=B.length,T=R(this,q,P.changedTouches.length===H).event(P),z,V,j,L;for(rc(P),V=0;V<H;++V)j=B[V],L=qt(j,this),L=[L,this.__zoom.invert(L),j.identifier],T.touch0?!T.touch1&&T.touch0[2]!==L[2]&&(T.touch1=L,T.taps=0):(T.touch0=L,z=!0,T.taps=1+!!v);v&&(v=clearTimeout(v)),z&&(T.taps<2&&(y=L[0],v=setTimeout(function(){v=null},k)),ba(this),T.start())}}function Y(P,...q){if(this.__zooming){var B=R(this,q).event(P),H=P.changedTouches,T=H.length,z,V,j,L;for(go(P),z=0;z<T;++z)V=H[z],j=qt(V,this),B.touch0&&B.touch0[2]===V.identifier?B.touch0[0]=j:B.touch1&&B.touch1[2]===V.identifier&&(B.touch1[0]=j);if(V=B.that.__zoom,B.touch1){var J=B.touch0[0],ee=B.touch0[1],ae=B.touch1[0],le=B.touch1[1],ue=(ue=ae[0]-J[0])*ue+(ue=ae[1]-J[1])*ue,te=(te=le[0]-ee[0])*te+(te=le[1]-ee[1])*te;V=D(V,Math.sqrt(ue/te)),j=[(J[0]+ae[0])/2,(J[1]+ae[1])/2],L=[(ee[0]+le[0])/2,(ee[1]+le[1])/2]}else if(B.touch0)j=B.touch0[0],L=B.touch0[1];else return;B.zoom("touch",s(N(V,j,L),B.extent,c))}}function Z(P,...q){if(this.__zooming){var B=R(this,q).event(P),H=P.changedTouches,T=H.length,z,V;for(rc(P),x&&clearTimeout(x),x=setTimeout(function(){x=null},k),z=0;z<T;++z)V=H[z],B.touch0&&B.touch0[2]===V.identifier?delete B.touch0:B.touch1&&B.touch1[2]===V.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(V=qt(V,this),Math.hypot(y[0]-V[0],y[1]-V[1])<C)){var j=jt(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return b.wheelDelta=function(P){return arguments.length?(i=typeof P=="function"?P:ma(+P),b):i},b.filter=function(P){return arguments.length?(t=typeof P=="function"?P:ma(!!P),b):t},b.touchable=function(P){return arguments.length?(a=typeof P=="function"?P:ma(!!P),b):a},b.extent=function(P){return arguments.length?(r=typeof P=="function"?P:ma([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),b):r},b.scaleExtent=function(P){return arguments.length?(u[0]=+P[0],u[1]=+P[1],b):[u[0],u[1]]},b.translateExtent=function(P){return arguments.length?(c[0][0]=+P[0][0],c[1][0]=+P[1][0],c[0][1]=+P[0][1],c[1][1]=+P[1][1],b):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},b.constrain=function(P){return arguments.length?(s=P,b):s},b.duration=function(P){return arguments.length?(p=+P,b):p},b.interpolate=function(P){return arguments.length?(h=P,b):h},b.on=function(){var P=g.on.apply(g,arguments);return P===g?b:P},b.clickDistance=function(P){return arguments.length?(E=(P=+P)*P,b):Math.sqrt(E)},b.tapDistance=function(P){return arguments.length?(C=+P,b):C},b}const on={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:r,sourceHandle:s,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?s:i}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},To=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zm=["Enter"," ","Escape"],Im={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:r,y:s})=>`Moved selected node ${t}. New position, x: ${r}, y: ${s}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var hs;(function(t){t.Strict="strict",t.Loose="loose"})(hs||(hs={}));var Nr;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Nr||(Nr={}));var Do;(function(t){t.Partial="partial",t.Full="full"})(Do||(Do={}));const Rm={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Zn;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Zn||(Zn={}));var La;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(La||(La={}));var ge;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ge||(ge={}));const oh={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function Lm(t){return t===null?null:t?"valid":"invalid"}const Am=t=>"id"in t&&"source"in t&&"target"in t,Yw=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Fc=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Bo=(t,r=[0,0])=>{const{width:s,height:i}=bn(t),a=t.origin??r,u=s*a[0],c=i*a[1];return{x:t.position.x-u,y:t.position.y-c}},Xw=(t,r={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const s=t.reduce((i,a)=>{const u=typeof a=="string";let c=!r.nodeLookup&&!u?a:void 0;r.nodeLookup&&(c=u?r.nodeLookup.get(a):Fc(a)?a:r.nodeLookup.get(a.id));const p=c?Aa(c,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Xa(i,p)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ga(s)},Fo=(t,r={})=>{let s={x:1/0,y:1/0,x2:-1/0,y2:-1/0},i=!1;return t.forEach(a=>{(r.filter===void 0||r.filter(a))&&(s=Xa(s,Aa(a)),i=!0)}),i?Ga(s):{x:0,y:0,width:0,height:0}},Hc=(t,r,[s,i,a]=[0,0,1],u=!1,c=!1)=>{const p={...Vo(r,[s,i,a]),width:r.width/a,height:r.height/a},h=[];for(const g of t.values()){const{measured:v,selectable:y=!0,hidden:x=!1}=g;if(c&&!y||x)continue;const k=v.width??g.width??g.initialWidth??null,S=v.height??g.height??g.initialHeight??null,E=Po(p,gs(g)),C=(k??0)*(S??0),b=u&&E>0;(!g.internals.handleBounds||b||E>=C||g.dragging)&&h.push(g)}return h},Gw=(t,r)=>{const s=new Set;return t.forEach(i=>{s.add(i.id)}),r.filter(i=>s.has(i.source)||s.has(i.target))};function Qw(t,r){const s=new Map,i=r!=null&&r.nodes?new Set(r.nodes.map(a=>a.id)):null;return t.forEach(a=>{a.measured.width&&a.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!a.hidden)&&(!i||i.has(a.id))&&s.set(a.id,a)}),s}async function Kw({nodes:t,width:r,height:s,panZoom:i,minZoom:a,maxZoom:u},c){if(t.size===0)return Promise.resolve(!0);const p=Qw(t,c),h=Fo(p),g=Vc(h,r,s,(c==null?void 0:c.minZoom)??a,(c==null?void 0:c.maxZoom)??u,(c==null?void 0:c.padding)??.1);return await i.setViewport(g,{duration:c==null?void 0:c.duration,ease:c==null?void 0:c.ease,interpolate:c==null?void 0:c.interpolate}),Promise.resolve(!0)}function $m({nodeId:t,nextPosition:r,nodeLookup:s,nodeOrigin:i=[0,0],nodeExtent:a,onError:u}){const c=s.get(t),p=c.parentId?s.get(c.parentId):void 0,{x:h,y:g}=p?p.internals.positionAbsolute:{x:0,y:0},v=c.origin??i;let y=c.extent||a;if(c.extent==="parent"&&!c.expandParent)if(!p)u==null||u("005",on.error005());else{const k=p.measured.width,S=p.measured.height;k&&S&&(y=[[h,g],[h+k,g+S]])}else p&&ys(c.extent)&&(y=[[c.extent[0][0]+h,c.extent[0][1]+g],[c.extent[1][0]+h,c.extent[1][1]+g]]);const x=ys(y)?br(r,y,c.measured):r;return(c.measured.width===void 0||c.measured.height===void 0)&&(u==null||u("015",on.error015())),{position:{x:x.x-h+(c.measured.width??0)*v[0],y:x.y-g+(c.measured.height??0)*v[1]},positionAbsolute:x}}async function Zw({nodesToRemove:t=[],edgesToRemove:r=[],nodes:s,edges:i,onBeforeDelete:a}){const u=new Set(t.map(x=>x.id)),c=[];for(const x of s){if(x.deletable===!1)continue;const k=u.has(x.id),S=!k&&x.parentId&&c.find(E=>E.id===x.parentId);(k||S)&&c.push(x)}const p=new Set(r.map(x=>x.id)),h=i.filter(x=>x.deletable!==!1),v=Gw(c,h);for(const x of h)p.has(x.id)&&!v.find(S=>S.id===x.id)&&v.push(x);if(!a)return{edges:v,nodes:c};const y=await a({nodes:c,edges:v});return typeof y=="boolean"?y?{edges:v,nodes:c}:{edges:[],nodes:[]}:y}const ms=(t,r=0,s=1)=>Math.min(Math.max(t,r),s),br=(t={x:0,y:0},r,s)=>({x:ms(t.x,r[0][0],r[1][0]-((s==null?void 0:s.width)??0)),y:ms(t.y,r[0][1],r[1][1]-((s==null?void 0:s.height)??0))});function Om(t,r,s){const{width:i,height:a}=bn(s),{x:u,y:c}=s.internals.positionAbsolute;return br(t,[[u,c],[u+i,c+a]],r)}const ih=(t,r,s)=>t<r?ms(Math.abs(t-r),1,r)/r:t>s?-ms(Math.abs(t-s),1,r)/r:0,Bm=(t,r,s=15,i=40)=>{const a=ih(t.x,i,r.width-i)*s,u=ih(t.y,i,r.height-i)*s;return[a,u]},Xa=(t,r)=>({x:Math.min(t.x,r.x),y:Math.min(t.y,r.y),x2:Math.max(t.x2,r.x2),y2:Math.max(t.y2,r.y2)}),Ec=({x:t,y:r,width:s,height:i})=>({x:t,y:r,x2:t+s,y2:r+i}),Ga=({x:t,y:r,x2:s,y2:i})=>({x:t,y:r,width:s-t,height:i-r}),gs=(t,r=[0,0])=>{var a,u;const{x:s,y:i}=Fc(t)?t.internals.positionAbsolute:Bo(t,r);return{x:s,y:i,width:((a=t.measured)==null?void 0:a.width)??t.width??t.initialWidth??0,height:((u=t.measured)==null?void 0:u.height)??t.height??t.initialHeight??0}},Aa=(t,r=[0,0])=>{var a,u;const{x:s,y:i}=Fc(t)?t.internals.positionAbsolute:Bo(t,r);return{x:s,y:i,x2:s+(((a=t.measured)==null?void 0:a.width)??t.width??t.initialWidth??0),y2:i+(((u=t.measured)==null?void 0:u.height)??t.height??t.initialHeight??0)}},Fm=(t,r)=>Ga(Xa(Ec(t),Ec(r))),Po=(t,r)=>{const s=Math.max(0,Math.min(t.x+t.width,r.x+r.width)-Math.max(t.x,r.x)),i=Math.max(0,Math.min(t.y+t.height,r.y+r.height)-Math.max(t.y,r.y));return Math.ceil(s*i)},ah=t=>Xt(t.width)&&Xt(t.height)&&Xt(t.x)&&Xt(t.y),Xt=t=>!isNaN(t)&&isFinite(t),Jw=(t,r)=>{},Ho=(t,r=[1,1])=>({x:r[0]*Math.round(t.x/r[0]),y:r[1]*Math.round(t.y/r[1])}),Vo=({x:t,y:r},[s,i,a],u=!1,c=[1,1])=>{const p={x:(t-s)/a,y:(r-i)/a};return u?Ho(p,c):p},$a=({x:t,y:r},[s,i,a])=>({x:t*a+s,y:r*a+i});function os(t,r){if(typeof t=="number")return Math.floor((r-r/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const s=parseFloat(t);if(!Number.isNaN(s))return Math.floor(s)}if(typeof t=="string"&&t.endsWith("%")){const s=parseFloat(t);if(!Number.isNaN(s))return Math.floor(r*s*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function e2(t,r,s){if(typeof t=="string"||typeof t=="number"){const i=os(t,s),a=os(t,r);return{top:i,right:a,bottom:i,left:a,x:a*2,y:i*2}}if(typeof t=="object"){const i=os(t.top??t.y??0,s),a=os(t.bottom??t.y??0,s),u=os(t.left??t.x??0,r),c=os(t.right??t.x??0,r);return{top:i,right:c,bottom:a,left:u,x:u+c,y:i+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function t2(t,r,s,i,a,u){const{x:c,y:p}=$a(t,[r,s,i]),{x:h,y:g}=$a({x:t.x+t.width,y:t.y+t.height},[r,s,i]),v=a-h,y=u-g;return{left:Math.floor(c),top:Math.floor(p),right:Math.floor(v),bottom:Math.floor(y)}}const Vc=(t,r,s,i,a,u)=>{const c=e2(u,r,s),p=(r-c.x)/t.width,h=(s-c.y)/t.height,g=Math.min(p,h),v=ms(g,i,a),y=t.x+t.width/2,x=t.y+t.height/2,k=r/2-y*v,S=s/2-x*v,E=t2(t,k,S,v,r,s),C={left:Math.min(E.left-c.left,0),top:Math.min(E.top-c.top,0),right:Math.min(E.right-c.right,0),bottom:Math.min(E.bottom-c.bottom,0)};return{x:k-C.left+C.right,y:S-C.top+C.bottom,zoom:v}},zo=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function ys(t){return t!=null&&t!=="parent"}function bn(t){var r,s;return{width:((r=t.measured)==null?void 0:r.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}}function Hm(t){var r,s;return(((r=t.measured)==null?void 0:r.width)??t.width??t.initialWidth)!==void 0&&(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight)!==void 0}function Vm(t,r={width:0,height:0},s,i,a){const u={...t},c=i.get(s);if(c){const p=c.origin||a;u.x+=c.internals.positionAbsolute.x-(r.width??0)*p[0],u.y+=c.internals.positionAbsolute.y-(r.height??0)*p[1]}return u}function lh(t,r){if(t.size!==r.size)return!1;for(const s of t)if(!r.has(s))return!1;return!0}function n2(){let t,r;return{promise:new Promise((i,a)=>{t=i,r=a}),resolve:t,reject:r}}function r2(t){return{...Im,...t||{}}}function Co(t,{snapGrid:r=[0,0],snapToGrid:s=!1,transform:i,containerBounds:a}){const{x:u,y:c}=Gt(t),p=Vo({x:u-((a==null?void 0:a.left)??0),y:c-((a==null?void 0:a.top)??0)},i),{x:h,y:g}=s?Ho(p,r):p;return{xSnapped:h,ySnapped:g,...p}}const Uc=t=>({width:t.offsetWidth,height:t.offsetHeight}),Um=t=>{var r;return((r=t==null?void 0:t.getRootNode)==null?void 0:r.call(t))||(window==null?void 0:window.document)},s2=["INPUT","SELECT","TEXTAREA"];function Wm(t){var i,a;const r=((a=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:a[0])||t.target;return(r==null?void 0:r.nodeType)!==1?!1:s2.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const qm=t=>"clientX"in t,Gt=(t,r)=>{var u,c;const s=qm(t),i=s?t.clientX:(u=t.touches)==null?void 0:u[0].clientX,a=s?t.clientY:(c=t.touches)==null?void 0:c[0].clientY;return{x:i-((r==null?void 0:r.left)??0),y:a-((r==null?void 0:r.top)??0)}},uh=(t,r,s,i,a)=>{const u=r.querySelectorAll(`.${t}`);return!u||!u.length?null:Array.from(u).map(c=>{const p=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:t,nodeId:a,position:c.getAttribute("data-handlepos"),x:(p.left-s.left)/i,y:(p.top-s.top)/i,...Uc(c)}})};function Ym({sourceX:t,sourceY:r,targetX:s,targetY:i,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:p}){const h=t*.125+a*.375+c*.375+s*.125,g=r*.125+u*.375+p*.375+i*.125,v=Math.abs(h-t),y=Math.abs(g-r);return[h,g,v,y]}function ga(t,r){return t>=0?.5*t:r*25*Math.sqrt(-t)}function ch({pos:t,x1:r,y1:s,x2:i,y2:a,c:u}){switch(t){case ge.Left:return[r-ga(r-i,u),s];case ge.Right:return[r+ga(i-r,u),s];case ge.Top:return[r,s-ga(s-a,u)];case ge.Bottom:return[r,s+ga(a-s,u)]}}function Xm({sourceX:t,sourceY:r,sourcePosition:s=ge.Bottom,targetX:i,targetY:a,targetPosition:u=ge.Top,curvature:c=.25}){const[p,h]=ch({pos:s,x1:t,y1:r,x2:i,y2:a,c}),[g,v]=ch({pos:u,x1:i,y1:a,x2:t,y2:r,c}),[y,x,k,S]=Ym({sourceX:t,sourceY:r,targetX:i,targetY:a,sourceControlX:p,sourceControlY:h,targetControlX:g,targetControlY:v});return[`M${t},${r} C${p},${h} ${g},${v} ${i},${a}`,y,x,k,S]}function Gm({sourceX:t,sourceY:r,targetX:s,targetY:i}){const a=Math.abs(s-t)/2,u=s<t?s+a:s-a,c=Math.abs(i-r)/2,p=i<r?i+c:i-c;return[u,p,a,c]}function o2({sourceNode:t,targetNode:r,selected:s=!1,zIndex:i=0,elevateOnSelect:a=!1,zIndexMode:u="basic"}){if(u==="manual")return i;const c=a&&s?i+1e3:i,p=Math.max(t.parentId||a&&t.selected?t.internals.z:0,r.parentId||a&&r.selected?r.internals.z:0);return c+p}function i2({sourceNode:t,targetNode:r,width:s,height:i,transform:a}){const u=Xa(Aa(t),Aa(r));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c={x:-a[0]/a[2],y:-a[1]/a[2],width:s/a[2],height:i/a[2]};return Po(c,Ga(u))>0}const a2=({source:t,sourceHandle:r,target:s,targetHandle:i})=>`xy-edge__${t}${r||""}-${s}${i||""}`,l2=(t,r)=>r.some(s=>s.source===t.source&&s.target===t.target&&(s.sourceHandle===t.sourceHandle||!s.sourceHandle&&!t.sourceHandle)&&(s.targetHandle===t.targetHandle||!s.targetHandle&&!t.targetHandle)),Qm=(t,r,s={})=>{if(!t.source||!t.target)return r;const i=s.getEdgeId||a2;let a;return Am(t)?a={...t}:a={...t,id:i(t)},l2(a,r)?r:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,r.concat(a))};function Km({sourceX:t,sourceY:r,targetX:s,targetY:i}){const[a,u,c,p]=Gm({sourceX:t,sourceY:r,targetX:s,targetY:i});return[`M ${t},${r}L ${s},${i}`,a,u,c,p]}const dh={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},u2=({source:t,sourcePosition:r=ge.Bottom,target:s})=>r===ge.Left||r===ge.Right?t.x<s.x?{x:1,y:0}:{x:-1,y:0}:t.y<s.y?{x:0,y:1}:{x:0,y:-1},fh=(t,r)=>Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));function c2({source:t,sourcePosition:r=ge.Bottom,target:s,targetPosition:i=ge.Top,center:a,offset:u,stepPosition:c}){const p=dh[r],h=dh[i],g={x:t.x+p.x*u,y:t.y+p.y*u},v={x:s.x+h.x*u,y:s.y+h.y*u},y=u2({source:g,sourcePosition:r,target:v}),x=y.x!==0?"x":"y",k=y[x];let S=[],E,C;const b={x:0,y:0},D={x:0,y:0},[,,N,_]=Gm({sourceX:t.x,sourceY:t.y,targetX:s.x,targetY:s.y});if(p[x]*h[x]===-1){x==="x"?(E=a.x??g.x+(v.x-g.x)*c,C=a.y??(g.y+v.y)/2):(E=a.x??(g.x+v.x)/2,C=a.y??g.y+(v.y-g.y)*c);const R=[{x:E,y:g.y},{x:E,y:v.y}],$=[{x:g.x,y:C},{x:v.x,y:C}];p[x]===k?S=x==="x"?R:$:S=x==="x"?$:R}else{const R=[{x:g.x,y:v.y}],$=[{x:v.x,y:g.y}];if(x==="x"?S=p.x===k?$:R:S=p.y===k?R:$,r===i){const Y=Math.abs(t[x]-s[x]);if(Y<=u){const Z=Math.min(u-1,u-Y);p[x]===k?b[x]=(g[x]>t[x]?-1:1)*Z:D[x]=(v[x]>s[x]?-1:1)*Z}}if(r!==i){const Y=x==="x"?"y":"x",Z=p[x]===h[Y],P=g[Y]>v[Y],q=g[Y]<v[Y];(p[x]===1&&(!Z&&P||Z&&q)||p[x]!==1&&(!Z&&q||Z&&P))&&(S=x==="x"?R:$)}const G={x:g.x+b.x,y:g.y+b.y},Q={x:v.x+D.x,y:v.y+D.y},re=Math.max(Math.abs(G.x-S[0].x),Math.abs(Q.x-S[0].x)),U=Math.max(Math.abs(G.y-S[0].y),Math.abs(Q.y-S[0].y));re>=U?(E=(G.x+Q.x)/2,C=S[0].y):(E=S[0].x,C=(G.y+Q.y)/2)}return[[t,{x:g.x+b.x,y:g.y+b.y},...S,{x:v.x+D.x,y:v.y+D.y},s],E,C,N,_]}function d2(t,r,s,i){const a=Math.min(fh(t,r)/2,fh(r,s)/2,i),{x:u,y:c}=r;if(t.x===u&&u===s.x||t.y===c&&c===s.y)return`L${u} ${c}`;if(t.y===c){const g=t.x<s.x?-1:1,v=t.y<s.y?1:-1;return`L ${u+a*g},${c}Q ${u},${c} ${u},${c+a*v}`}const p=t.x<s.x?1:-1,h=t.y<s.y?-1:1;return`L ${u},${c+a*h}Q ${u},${c} ${u+a*p},${c}`}function Cc({sourceX:t,sourceY:r,sourcePosition:s=ge.Bottom,targetX:i,targetY:a,targetPosition:u=ge.Top,borderRadius:c=5,centerX:p,centerY:h,offset:g=20,stepPosition:v=.5}){const[y,x,k,S,E]=c2({source:{x:t,y:r},sourcePosition:s,target:{x:i,y:a},targetPosition:u,center:{x:p,y:h},offset:g,stepPosition:v});return[y.reduce((b,D,N)=>{let _="";return N>0&&N<y.length-1?_=d2(y[N-1],D,y[N+1],c):_=`${N===0?"M":"L"}${D.x} ${D.y}`,b+=_,b},""),x,k,S,E]}function ph(t){var r;return t&&!!(t.internals.handleBounds||(r=t.handles)!=null&&r.length)&&!!(t.measured.width||t.width||t.initialWidth)}function f2(t){var y;const{sourceNode:r,targetNode:s}=t;if(!ph(r)||!ph(s))return null;const i=r.internals.handleBounds||hh(r.handles),a=s.internals.handleBounds||hh(s.handles),u=mh((i==null?void 0:i.source)??[],t.sourceHandle),c=mh(t.connectionMode===hs.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),t.targetHandle);if(!u||!c)return(y=t.onError)==null||y.call(t,"008",on.error008(u?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const p=(u==null?void 0:u.position)||ge.Bottom,h=(c==null?void 0:c.position)||ge.Top,g=jr(r,u,p),v=jr(s,c,h);return{sourceX:g.x,sourceY:g.y,targetX:v.x,targetY:v.y,sourcePosition:p,targetPosition:h}}function hh(t){if(!t)return null;const r=[],s=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?r.push(i):i.type==="target"&&s.push(i);return{source:r,target:s}}function jr(t,r,s=ge.Left,i=!1){const a=((r==null?void 0:r.x)??0)+t.internals.positionAbsolute.x,u=((r==null?void 0:r.y)??0)+t.internals.positionAbsolute.y,{width:c,height:p}=r??bn(t);if(i)return{x:a+c/2,y:u+p/2};switch((r==null?void 0:r.position)??s){case ge.Top:return{x:a+c/2,y:u};case ge.Right:return{x:a+c,y:u+p/2};case ge.Bottom:return{x:a+c/2,y:u+p};case ge.Left:return{x:a,y:u+p/2}}}function mh(t,r){return t&&(r?t.find(s=>s.id===r):t[0])||null}function _c(t,r){return t?typeof t=="string"?t:`${r?`${r}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function p2(t,{id:r,defaultColor:s,defaultMarkerStart:i,defaultMarkerEnd:a}){const u=new Set;return t.reduce((c,p)=>([p.markerStart||i,p.markerEnd||a].forEach(h=>{if(h&&typeof h=="object"){const g=_c(h,r);u.has(g)||(c.push({id:g,color:h.color||s,...h}),u.add(g))}}),c),[]).sort((c,p)=>c.id.localeCompare(p.id))}const Zm=1e3,h2=10,Wc={nodeOrigin:[0,0],nodeExtent:To,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},m2={...Wc,checkEquality:!0};function qc(t,r){const s={...t};for(const i in r)r[i]!==void 0&&(s[i]=r[i]);return s}function g2(t,r,s){const i=qc(Wc,s);for(const a of t.values())if(a.parentId)Xc(a,t,r,i);else{const u=Bo(a,i.nodeOrigin),c=ys(a.extent)?a.extent:i.nodeExtent,p=br(u,c,bn(a));a.internals.positionAbsolute=p}}function y2(t,r){if(!t.handles)return t.measured?r==null?void 0:r.internals.handleBounds:void 0;const s=[],i=[];for(const a of t.handles){const u={id:a.id,width:a.width??1,height:a.height??1,nodeId:t.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?s.push(u):a.type==="target"&&i.push(u)}return{source:s,target:i}}function Yc(t){return t==="manual"}function bc(t,r,s,i={}){var g,v;const a=qc(m2,i),u={i:0},c=new Map(r),p=a!=null&&a.elevateNodesOnSelect&&!Yc(a.zIndexMode)?Zm:0;let h=t.length>0;r.clear(),s.clear();for(const y of t){let x=c.get(y.id);if(a.checkEquality&&y===(x==null?void 0:x.internals.userNode))r.set(y.id,x);else{const k=Bo(y,a.nodeOrigin),S=ys(y.extent)?y.extent:a.nodeExtent,E=br(k,S,bn(y));x={...a.defaults,...y,measured:{width:(g=y.measured)==null?void 0:g.width,height:(v=y.measured)==null?void 0:v.height},internals:{positionAbsolute:E,handleBounds:y2(y,x),z:Jm(y,p,a.zIndexMode),userNode:y}},r.set(y.id,x)}(x.measured===void 0||x.measured.width===void 0||x.measured.height===void 0)&&!x.hidden&&(h=!1),y.parentId&&Xc(x,r,s,i,u)}return h}function x2(t,r){if(!t.parentId)return;const s=r.get(t.parentId);s?s.set(t.id,t):r.set(t.parentId,new Map([[t.id,t]]))}function Xc(t,r,s,i,a){const{elevateNodesOnSelect:u,nodeOrigin:c,nodeExtent:p,zIndexMode:h}=qc(Wc,i),g=t.parentId,v=r.get(g);if(!v){console.warn(`Parent node ${g} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}x2(t,s),a&&!v.parentId&&v.internals.rootParentIndex===void 0&&h==="auto"&&(v.internals.rootParentIndex=++a.i,v.internals.z=v.internals.z+a.i*h2),a&&v.internals.rootParentIndex!==void 0&&(a.i=v.internals.rootParentIndex);const y=u&&!Yc(h)?Zm:0,{x,y:k,z:S}=v2(t,v,c,p,y,h),{positionAbsolute:E}=t.internals,C=x!==E.x||k!==E.y;(C||S!==t.internals.z)&&r.set(t.id,{...t,internals:{...t.internals,positionAbsolute:C?{x,y:k}:E,z:S}})}function Jm(t,r,s){const i=Xt(t.zIndex)?t.zIndex:0;return Yc(s)?i:i+(t.selected?r:0)}function v2(t,r,s,i,a,u){const{x:c,y:p}=r.internals.positionAbsolute,h=bn(t),g=Bo(t,s),v=ys(t.extent)?br(g,t.extent,h):g;let y=br({x:c+v.x,y:p+v.y},i,h);t.extent==="parent"&&(y=Om(y,h,r));const x=Jm(t,a,u),k=r.internals.z??0;return{x:y.x,y:y.y,z:k>=x?k+1:x}}function Gc(t,r,s,i=[0,0]){var c;const a=[],u=new Map;for(const p of t){const h=r.get(p.parentId);if(!h)continue;const g=((c=u.get(p.parentId))==null?void 0:c.expandedRect)??gs(h),v=Fm(g,p.rect);u.set(p.parentId,{expandedRect:v,parent:h})}return u.size>0&&u.forEach(({expandedRect:p,parent:h},g)=>{var N;const v=h.internals.positionAbsolute,y=bn(h),x=h.origin??i,k=p.x<v.x?Math.round(Math.abs(v.x-p.x)):0,S=p.y<v.y?Math.round(Math.abs(v.y-p.y)):0,E=Math.max(y.width,Math.round(p.width)),C=Math.max(y.height,Math.round(p.height)),b=(E-y.width)*x[0],D=(C-y.height)*x[1];(k>0||S>0||b||D)&&(a.push({id:g,type:"position",position:{x:h.position.x-k+b,y:h.position.y-S+D}}),(N=s.get(g))==null||N.forEach(_=>{t.some(A=>A.id===_.id)||a.push({id:_.id,type:"position",position:{x:_.position.x+k,y:_.position.y+S}})})),(y.width<p.width||y.height<p.height||k||S)&&a.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:E+(k?x[0]*k-b:0),height:C+(S?x[1]*S-D:0)}})}),a}function w2(t,r,s,i,a,u,c){const p=i==null?void 0:i.querySelector(".xyflow__viewport");let h=!1;if(!p)return{changes:[],updatedInternals:h};const g=[],v=window.getComputedStyle(p),{m22:y}=new window.DOMMatrixReadOnly(v.transform),x=[];for(const k of t.values()){const S=r.get(k.id);if(!S)continue;if(S.hidden){r.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),h=!0;continue}const E=Uc(k.nodeElement),C=S.measured.width!==E.width||S.measured.height!==E.height;if(!!(E.width&&E.height&&(C||!S.internals.handleBounds||k.force))){const D=k.nodeElement.getBoundingClientRect(),N=ys(S.extent)?S.extent:u;let{positionAbsolute:_}=S.internals;S.parentId&&S.extent==="parent"?_=Om(_,E,r.get(S.parentId)):N&&(_=br(_,N,E));const A={...S,measured:E,internals:{...S.internals,positionAbsolute:_,handleBounds:{source:uh("source",k.nodeElement,D,y,S.id),target:uh("target",k.nodeElement,D,y,S.id)}}};r.set(S.id,A),S.parentId&&Xc(A,r,s,{nodeOrigin:a,zIndexMode:c}),h=!0,C&&(g.push({id:S.id,type:"dimensions",dimensions:E}),S.expandParent&&S.parentId&&x.push({id:S.id,parentId:S.parentId,rect:gs(A,a)}))}}if(x.length>0){const k=Gc(x,r,s,a);g.push(...k)}return{changes:g,updatedInternals:h}}async function k2({delta:t,panZoom:r,transform:s,translateExtent:i,width:a,height:u}){if(!r||!t.x&&!t.y)return Promise.resolve(!1);const c=await r.setViewportConstrained({x:s[0]+t.x,y:s[1]+t.y,zoom:s[2]},[[0,0],[a,u]],i),p=!!c&&(c.x!==s[0]||c.y!==s[1]||c.k!==s[2]);return Promise.resolve(p)}function gh(t,r,s,i,a,u){let c=a;const p=i.get(c)||new Map;i.set(c,p.set(s,r)),c=`${a}-${t}`;const h=i.get(c)||new Map;if(i.set(c,h.set(s,r)),u){c=`${a}-${t}-${u}`;const g=i.get(c)||new Map;i.set(c,g.set(s,r))}}function eg(t,r,s){t.clear(),r.clear();for(const i of s){const{source:a,target:u,sourceHandle:c=null,targetHandle:p=null}=i,h={edgeId:i.id,source:a,target:u,sourceHandle:c,targetHandle:p},g=`${a}-${c}--${u}-${p}`,v=`${u}-${p}--${a}-${c}`;gh("source",h,v,t,a,c),gh("target",h,g,t,u,p),r.set(i.id,i)}}function tg(t,r){if(!t.parentId)return!1;const s=r.get(t.parentId);return s?s.selected?!0:tg(s,r):!1}function yh(t,r,s){var a;let i=t;do{if((a=i==null?void 0:i.matches)!=null&&a.call(i,r))return!0;if(i===s)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function S2(t,r,s,i){const a=new Map;for(const[u,c]of t)if((c.selected||c.id===i)&&(!c.parentId||!tg(c,t))&&(c.draggable||r&&typeof c.draggable>"u")){const p=t.get(u);p&&a.set(u,{id:u,position:p.position||{x:0,y:0},distance:{x:s.x-p.internals.positionAbsolute.x,y:s.y-p.internals.positionAbsolute.y},extent:p.extent,parentId:p.parentId,origin:p.origin,expandParent:p.expandParent,internals:{positionAbsolute:p.internals.positionAbsolute||{x:0,y:0}},measured:{width:p.measured.width??0,height:p.measured.height??0}})}return a}function sc({nodeId:t,dragItems:r,nodeLookup:s,dragging:i=!0}){var c,p,h;const a=[];for(const[g,v]of r){const y=(c=s.get(g))==null?void 0:c.internals.userNode;y&&a.push({...y,position:v.position,dragging:i})}if(!t)return[a[0],a];const u=(p=s.get(t))==null?void 0:p.internals.userNode;return[u?{...u,position:((h=r.get(t))==null?void 0:h.position)||u.position,dragging:i}:a[0],a]}function N2({dragItems:t,snapGrid:r,x:s,y:i}){const a=t.values().next().value;if(!a)return null;const u={x:s-a.distance.x,y:i-a.distance.y},c=Ho(u,r);return{x:c.x-u.x,y:c.y-u.y}}function E2({onNodeMouseDown:t,getStoreItems:r,onDragStart:s,onDrag:i,onDragStop:a}){let u={x:null,y:null},c=0,p=new Map,h=!1,g={x:0,y:0},v=null,y=!1,x=null,k=!1,S=!1,E=null;function C({noDragClassName:D,handleSelector:N,domNode:_,isSelectable:A,nodeId:R,nodeClickDistance:$=0}){x=jt(_);function G({x:Y,y:Z}){const{nodeLookup:P,nodeExtent:q,snapGrid:B,snapToGrid:H,nodeOrigin:T,onNodeDrag:z,onSelectionDrag:V,onError:j,updateNodePositions:L}=r();u={x:Y,y:Z};let J=!1;const ee=p.size>1,ae=ee&&q?Ec(Fo(p)):null,le=ee&&H?N2({dragItems:p,snapGrid:B,x:Y,y:Z}):null;for(const[ue,te]of p){if(!P.has(ue))continue;let ce={x:Y-te.distance.x,y:Z-te.distance.y};H&&(ce=le?{x:Math.round(ce.x+le.x),y:Math.round(ce.y+le.y)}:Ho(ce,B));let ke=null;if(ee&&q&&!te.extent&&ae){const{positionAbsolute:xe}=te.internals,_e=xe.x-ae.x+q[0][0],Pe=xe.x+te.measured.width-ae.x2+q[1][0],be=xe.y-ae.y+q[0][1],qe=xe.y+te.measured.height-ae.y2+q[1][1];ke=[[_e,be],[Pe,qe]]}const{position:Ne,positionAbsolute:Se}=$m({nodeId:ue,nextPosition:ce,nodeLookup:P,nodeExtent:ke||q,nodeOrigin:T,onError:j});J=J||te.position.x!==Ne.x||te.position.y!==Ne.y,te.position=Ne,te.internals.positionAbsolute=Se}if(S=S||J,!!J&&(L(p,!0),E&&(i||z||!R&&V))){const[ue,te]=sc({nodeId:R,dragItems:p,nodeLookup:P});i==null||i(E,p,ue,te),z==null||z(E,ue,te),R||V==null||V(E,te)}}async function Q(){if(!v)return;const{transform:Y,panBy:Z,autoPanSpeed:P,autoPanOnNodeDrag:q}=r();if(!q){h=!1,cancelAnimationFrame(c);return}const[B,H]=Bm(g,v,P);(B!==0||H!==0)&&(u.x=(u.x??0)-B/Y[2],u.y=(u.y??0)-H/Y[2],await Z({x:B,y:H})&&G(u)),c=requestAnimationFrame(Q)}function re(Y){var ee;const{nodeLookup:Z,multiSelectionActive:P,nodesDraggable:q,transform:B,snapGrid:H,snapToGrid:T,selectNodesOnDrag:z,onNodeDragStart:V,onSelectionDragStart:j,unselectNodesAndEdges:L}=r();y=!0,(!z||!A)&&!P&&R&&((ee=Z.get(R))!=null&&ee.selected||L()),A&&z&&R&&(t==null||t(R));const J=Co(Y.sourceEvent,{transform:B,snapGrid:H,snapToGrid:T,containerBounds:v});if(u=J,p=S2(Z,q,J,R),p.size>0&&(s||V||!R&&j)){const[ae,le]=sc({nodeId:R,dragItems:p,nodeLookup:Z});s==null||s(Y.sourceEvent,p,ae,le),V==null||V(Y.sourceEvent,ae,le),R||j==null||j(Y.sourceEvent,le)}}const U=ym().clickDistance($).on("start",Y=>{const{domNode:Z,nodeDragThreshold:P,transform:q,snapGrid:B,snapToGrid:H}=r();v=(Z==null?void 0:Z.getBoundingClientRect())||null,k=!1,S=!1,E=Y.sourceEvent,P===0&&re(Y),u=Co(Y.sourceEvent,{transform:q,snapGrid:B,snapToGrid:H,containerBounds:v}),g=Gt(Y.sourceEvent,v)}).on("drag",Y=>{const{autoPanOnNodeDrag:Z,transform:P,snapGrid:q,snapToGrid:B,nodeDragThreshold:H,nodeLookup:T}=r(),z=Co(Y.sourceEvent,{transform:P,snapGrid:q,snapToGrid:B,containerBounds:v});if(E=Y.sourceEvent,(Y.sourceEvent.type==="touchmove"&&Y.sourceEvent.touches.length>1||R&&!T.has(R))&&(k=!0),!k){if(!h&&Z&&y&&(h=!0,Q()),!y){const V=Gt(Y.sourceEvent,v),j=V.x-g.x,L=V.y-g.y;Math.sqrt(j*j+L*L)>H&&re(Y)}(u.x!==z.xSnapped||u.y!==z.ySnapped)&&p&&y&&(g=Gt(Y.sourceEvent,v),G(z))}}).on("end",Y=>{if(!(!y||k)&&(h=!1,y=!1,cancelAnimationFrame(c),p.size>0)){const{nodeLookup:Z,updateNodePositions:P,onNodeDragStop:q,onSelectionDragStop:B}=r();if(S&&(P(p,!1),S=!1),a||q||!R&&B){const[H,T]=sc({nodeId:R,dragItems:p,nodeLookup:Z,dragging:!1});a==null||a(Y.sourceEvent,p,H,T),q==null||q(Y.sourceEvent,H,T),R||B==null||B(Y.sourceEvent,T)}}}).filter(Y=>{const Z=Y.target;return!Y.button&&(!D||!yh(Z,`.${D}`,_))&&(!N||yh(Z,N,_))});x.call(U)}function b(){x==null||x.on(".drag",null)}return{update:C,destroy:b}}function C2(t,r,s){const i=[],a={x:t.x-s,y:t.y-s,width:s*2,height:s*2};for(const u of r.values())Po(a,gs(u))>0&&i.push(u);return i}const _2=250;function b2(t,r,s,i){var p,h;let a=[],u=1/0;const c=C2(t,s,r+_2);for(const g of c){const v=[...((p=g.internals.handleBounds)==null?void 0:p.source)??[],...((h=g.internals.handleBounds)==null?void 0:h.target)??[]];for(const y of v){if(i.nodeId===y.nodeId&&i.type===y.type&&i.id===y.id)continue;const{x,y:k}=jr(g,y,y.position,!0),S=Math.sqrt(Math.pow(x-t.x,2)+Math.pow(k-t.y,2));S>r||(S<u?(a=[{...y,x,y:k}],u=S):S===u&&a.push({...y,x,y:k}))}}if(!a.length)return null;if(a.length>1){const g=i.type==="source"?"target":"source";return a.find(v=>v.type===g)??a[0]}return a[0]}function ng(t,r,s,i,a,u=!1){var g,v,y;const c=i.get(t);if(!c)return null;const p=a==="strict"?(g=c.internals.handleBounds)==null?void 0:g[r]:[...((v=c.internals.handleBounds)==null?void 0:v.source)??[],...((y=c.internals.handleBounds)==null?void 0:y.target)??[]],h=(s?p==null?void 0:p.find(x=>x.id===s):p==null?void 0:p[0])??null;return h&&u?{...h,...jr(c,h,h.position,!0)}:h}function rg(t,r){return t||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function j2(t,r){let s=null;return r?s=!0:t&&!r&&(s=!1),s}const sg=()=>!0;function M2(t,{connectionMode:r,connectionRadius:s,handleId:i,nodeId:a,edgeUpdaterType:u,isTarget:c,domNode:p,nodeLookup:h,lib:g,autoPanOnConnect:v,flowId:y,panBy:x,cancelConnection:k,onConnectStart:S,onConnect:E,onConnectEnd:C,isValidConnection:b=sg,onReconnectEnd:D,updateConnection:N,getTransform:_,getFromHandle:A,autoPanSpeed:R,dragThreshold:$=1,handleDomNode:G}){const Q=Um(t.target);let re=0,U;const{x:Y,y:Z}=Gt(t),P=rg(u,G),q=p==null?void 0:p.getBoundingClientRect();let B=!1;if(!q||!P)return;const H=ng(a,P,i,h,r);if(!H)return;let T=Gt(t,q),z=!1,V=null,j=!1,L=null;function J(){if(!v||!q)return;const[Ne,Se]=Bm(T,q,R);x({x:Ne,y:Se}),re=requestAnimationFrame(J)}const ee={...H,nodeId:a,type:P,position:H.position},ae=h.get(a);let ue={inProgress:!0,isValid:null,from:jr(ae,ee,ge.Left,!0),fromHandle:ee,fromPosition:ee.position,fromNode:ae,to:T,toHandle:null,toPosition:oh[ee.position],toNode:null,pointer:T};function te(){B=!0,N(ue),S==null||S(t,{nodeId:a,handleId:i,handleType:P})}$===0&&te();function ce(Ne){if(!B){const{x:qe,y:Ot}=Gt(Ne),kt=qe-Y,St=Ot-Z;if(!(kt*kt+St*St>$*$))return;te()}if(!A()||!ee){ke(Ne);return}const Se=_();T=Gt(Ne,q),U=b2(Vo(T,Se,!1,[1,1]),s,h,ee),z||(J(),z=!0);const xe=og(Ne,{handle:U,connectionMode:r,fromNodeId:a,fromHandleId:i,fromType:c?"target":"source",isValidConnection:b,doc:Q,lib:g,flowId:y,nodeLookup:h});L=xe.handleDomNode,V=xe.connection,j=j2(!!U,xe.isValid);const _e=h.get(a),Pe=_e?jr(_e,ee,ge.Left,!0):ue.from,be={...ue,from:Pe,isValid:j,to:xe.toHandle&&j?$a({x:xe.toHandle.x,y:xe.toHandle.y},Se):T,toHandle:xe.toHandle,toPosition:j&&xe.toHandle?xe.toHandle.position:oh[ee.position],toNode:xe.toHandle?h.get(xe.toHandle.nodeId):null,pointer:T};N(be),ue=be}function ke(Ne){if(!("touches"in Ne&&Ne.touches.length>0)){if(B){(U||L)&&V&&j&&(E==null||E(V));const{inProgress:Se,...xe}=ue,_e={...xe,toPosition:ue.toHandle?ue.toPosition:null};C==null||C(Ne,_e),u&&(D==null||D(Ne,_e))}k(),cancelAnimationFrame(re),z=!1,j=!1,V=null,L=null,Q.removeEventListener("mousemove",ce),Q.removeEventListener("mouseup",ke),Q.removeEventListener("touchmove",ce),Q.removeEventListener("touchend",ke)}}Q.addEventListener("mousemove",ce),Q.addEventListener("mouseup",ke),Q.addEventListener("touchmove",ce),Q.addEventListener("touchend",ke)}function og(t,{handle:r,connectionMode:s,fromNodeId:i,fromHandleId:a,fromType:u,doc:c,lib:p,flowId:h,isValidConnection:g=sg,nodeLookup:v}){const y=u==="target",x=r?c.querySelector(`.${p}-flow__handle[data-id="${h}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:k,y:S}=Gt(t),E=c.elementFromPoint(k,S),C=E!=null&&E.classList.contains(`${p}-flow__handle`)?E:x,b={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const D=rg(void 0,C),N=C.getAttribute("data-nodeid"),_=C.getAttribute("data-handleid"),A=C.classList.contains("connectable"),R=C.classList.contains("connectableend");if(!N||!D)return b;const $={source:y?N:i,sourceHandle:y?_:a,target:y?i:N,targetHandle:y?a:_};b.connection=$;const Q=A&&R&&(s===hs.Strict?y&&D==="source"||!y&&D==="target":N!==i||_!==a);b.isValid=Q&&g($),b.toHandle=ng(N,D,_,v,s,!0)}return b}const jc={onPointerDown:M2,isValid:og};function T2({domNode:t,panZoom:r,getTransform:s,getViewScale:i}){const a=jt(t);function u({translateExtent:p,width:h,height:g,zoomStep:v=1,pannable:y=!0,zoomable:x=!0,inversePan:k=!1}){const S=N=>{if(N.sourceEvent.type!=="wheel"||!r)return;const _=s(),A=N.sourceEvent.ctrlKey&&zo()?10:1,R=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*v,$=_[2]*Math.pow(2,R*A);r.scaleTo($)};let E=[0,0];const C=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(E=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},b=N=>{const _=s();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!r)return;const A=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],R=[A[0]-E[0],A[1]-E[1]];E=A;const $=i()*Math.max(_[2],Math.log(_[2]))*(k?-1:1),G={x:_[0]-R[0]*$,y:_[1]-R[1]*$},Q=[[0,0],[h,g]];r.setViewportConstrained({x:G.x,y:G.y,zoom:_[2]},Q,p)},D=Pm().on("start",C).on("zoom",y?b:null).on("zoom.wheel",x?S:null);a.call(D,{})}function c(){a.on("zoom",null)}return{update:u,destroy:c,pointer:qt}}const Qa=t=>({x:t.x,y:t.y,zoom:t.k}),oc=({x:t,y:r,zoom:s})=>Ya.translate(t,r).scale(s),ls=(t,r)=>t.target.closest(`.${r}`),ig=(t,r)=>r===2&&Array.isArray(t)&&t.includes(2),D2=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,ic=(t,r=0,s=D2,i=()=>{})=>{const a=typeof r=="number"&&r>0;return a||i(),a?t.transition().duration(r).ease(s).on("end",i):t},ag=t=>{const r=t.ctrlKey&&zo()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*r};function P2({zoomPanValues:t,noWheelClassName:r,d3Selection:s,d3Zoom:i,panOnScrollMode:a,panOnScrollSpeed:u,zoomOnPinch:c,onPanZoomStart:p,onPanZoom:h,onPanZoomEnd:g}){return v=>{if(ls(v,r))return v.ctrlKey&&v.preventDefault(),!1;v.preventDefault(),v.stopImmediatePropagation();const y=s.property("__zoom").k||1;if(v.ctrlKey&&c){const C=qt(v),b=ag(v),D=y*Math.pow(2,b);i.scaleTo(s,D,C,v);return}const x=v.deltaMode===1?20:1;let k=a===Nr.Vertical?0:v.deltaX*x,S=a===Nr.Horizontal?0:v.deltaY*x;!zo()&&v.shiftKey&&a!==Nr.Vertical&&(k=v.deltaY*x,S=0),i.translateBy(s,-(k/y)*u,-(S/y)*u,{internal:!0});const E=Qa(s.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(h==null||h(v,E),t.panScrollTimeout=setTimeout(()=>{g==null||g(v,E),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,p==null||p(v,E))}}function z2({noWheelClassName:t,preventScrolling:r,d3ZoomHandler:s}){return function(i,a){const u=i.type==="wheel",c=!r&&u&&!i.ctrlKey,p=ls(i,t);if(i.ctrlKey&&u&&p&&i.preventDefault(),c||p)return null;i.preventDefault(),s.call(this,i,a)}}function I2({zoomPanValues:t,onDraggingChange:r,onPanZoomStart:s}){return i=>{var u,c,p;if((u=i.sourceEvent)!=null&&u.internal)return;const a=Qa(i.transform);t.mouseButton=((c=i.sourceEvent)==null?void 0:c.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=a,((p=i.sourceEvent)==null?void 0:p.type)==="mousedown"&&r(!0),s&&(s==null||s(i.sourceEvent,a))}}function R2({zoomPanValues:t,panOnDrag:r,onPaneContextMenu:s,onTransformChange:i,onPanZoom:a}){return u=>{var c,p;t.usedRightMouseButton=!!(s&&ig(r,t.mouseButton??0)),(c=u.sourceEvent)!=null&&c.sync||i([u.transform.x,u.transform.y,u.transform.k]),a&&!((p=u.sourceEvent)!=null&&p.internal)&&(a==null||a(u.sourceEvent,Qa(u.transform)))}}function L2({zoomPanValues:t,panOnDrag:r,panOnScroll:s,onDraggingChange:i,onPanZoomEnd:a,onPaneContextMenu:u}){return c=>{var p;if(!((p=c.sourceEvent)!=null&&p.internal)&&(t.isZoomingOrPanning=!1,u&&ig(r,t.mouseButton??0)&&!t.usedRightMouseButton&&c.sourceEvent&&u(c.sourceEvent),t.usedRightMouseButton=!1,i(!1),a)){const h=Qa(c.transform);t.prevViewport=h,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{a==null||a(c.sourceEvent,h)},s?150:0)}}}function A2({zoomActivationKeyPressed:t,zoomOnScroll:r,zoomOnPinch:s,panOnDrag:i,panOnScroll:a,zoomOnDoubleClick:u,userSelectionActive:c,noWheelClassName:p,noPanClassName:h,lib:g,connectionInProgress:v}){return y=>{var C;const x=t||r,k=s&&y.ctrlKey,S=y.type==="wheel";if(y.button===1&&y.type==="mousedown"&&(ls(y,`${g}-flow__node`)||ls(y,`${g}-flow__edge`)))return!0;if(!i&&!x&&!a&&!u&&!s||c||v&&!S||ls(y,p)&&S||ls(y,h)&&(!S||a&&S&&!t)||!s&&y.ctrlKey&&S)return!1;if(!s&&y.type==="touchstart"&&((C=y.touches)==null?void 0:C.length)>1)return y.preventDefault(),!1;if(!x&&!a&&!k&&S||!i&&(y.type==="mousedown"||y.type==="touchstart")||Array.isArray(i)&&!i.includes(y.button)&&y.type==="mousedown")return!1;const E=Array.isArray(i)&&i.includes(y.button)||!y.button||y.button<=1;return(!y.ctrlKey||S)&&E}}function $2({domNode:t,minZoom:r,maxZoom:s,translateExtent:i,viewport:a,onPanZoom:u,onPanZoomStart:c,onPanZoomEnd:p,onDraggingChange:h}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=t.getBoundingClientRect(),y=Pm().scaleExtent([r,s]).translateExtent(i),x=jt(t).call(y);D({x:a.x,y:a.y,zoom:ms(a.zoom,r,s)},[[0,0],[v.width,v.height]],i);const k=x.on("wheel.zoom"),S=x.on("dblclick.zoom");y.wheelDelta(ag);function E(U,Y){return x?new Promise(Z=>{y==null||y.interpolate((Y==null?void 0:Y.interpolate)==="linear"?Eo:Ea).transform(ic(x,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>Z(!0)),U)}):Promise.resolve(!1)}function C({noWheelClassName:U,noPanClassName:Y,onPaneContextMenu:Z,userSelectionActive:P,panOnScroll:q,panOnDrag:B,panOnScrollMode:H,panOnScrollSpeed:T,preventScrolling:z,zoomOnPinch:V,zoomOnScroll:j,zoomOnDoubleClick:L,zoomActivationKeyPressed:J,lib:ee,onTransformChange:ae,connectionInProgress:le,paneClickDistance:ue,selectionOnDrag:te}){P&&!g.isZoomingOrPanning&&b();const ce=q&&!J&&!P;y.clickDistance(te?1/0:!Xt(ue)||ue<0?0:ue);const ke=ce?P2({zoomPanValues:g,noWheelClassName:U,d3Selection:x,d3Zoom:y,panOnScrollMode:H,panOnScrollSpeed:T,zoomOnPinch:V,onPanZoomStart:c,onPanZoom:u,onPanZoomEnd:p}):z2({noWheelClassName:U,preventScrolling:z,d3ZoomHandler:k});if(x.on("wheel.zoom",ke,{passive:!1}),!P){const Se=I2({zoomPanValues:g,onDraggingChange:h,onPanZoomStart:c});y.on("start",Se);const xe=R2({zoomPanValues:g,panOnDrag:B,onPaneContextMenu:!!Z,onPanZoom:u,onTransformChange:ae});y.on("zoom",xe);const _e=L2({zoomPanValues:g,panOnDrag:B,panOnScroll:q,onPaneContextMenu:Z,onPanZoomEnd:p,onDraggingChange:h});y.on("end",_e)}const Ne=A2({zoomActivationKeyPressed:J,panOnDrag:B,zoomOnScroll:j,panOnScroll:q,zoomOnDoubleClick:L,zoomOnPinch:V,userSelectionActive:P,noPanClassName:Y,noWheelClassName:U,lib:ee,connectionInProgress:le});y.filter(Ne),L?x.on("dblclick.zoom",S):x.on("dblclick.zoom",null)}function b(){y.on("zoom",null)}async function D(U,Y,Z){const P=oc(U),q=y==null?void 0:y.constrain()(P,Y,Z);return q&&await E(q),new Promise(B=>B(q))}async function N(U,Y){const Z=oc(U);return await E(Z,Y),new Promise(P=>P(Z))}function _(U){if(x){const Y=oc(U),Z=x.property("__zoom");(Z.k!==U.zoom||Z.x!==U.x||Z.y!==U.y)&&(y==null||y.transform(x,Y,null,{sync:!0}))}}function A(){const U=x?Dm(x.node()):{x:0,y:0,k:1};return{x:U.x,y:U.y,zoom:U.k}}function R(U,Y){return x?new Promise(Z=>{y==null||y.interpolate((Y==null?void 0:Y.interpolate)==="linear"?Eo:Ea).scaleTo(ic(x,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>Z(!0)),U)}):Promise.resolve(!1)}function $(U,Y){return x?new Promise(Z=>{y==null||y.interpolate((Y==null?void 0:Y.interpolate)==="linear"?Eo:Ea).scaleBy(ic(x,Y==null?void 0:Y.duration,Y==null?void 0:Y.ease,()=>Z(!0)),U)}):Promise.resolve(!1)}function G(U){y==null||y.scaleExtent(U)}function Q(U){y==null||y.translateExtent(U)}function re(U){const Y=!Xt(U)||U<0?0:U;y==null||y.clickDistance(Y)}return{update:C,destroy:b,setViewport:N,setViewportConstrained:D,getViewport:A,scaleTo:R,scaleBy:$,setScaleExtent:G,setTranslateExtent:Q,syncViewport:_,setClickDistance:re}}var xs;(function(t){t.Line="line",t.Handle="handle"})(xs||(xs={}));function O2({width:t,prevWidth:r,height:s,prevHeight:i,affectsX:a,affectsY:u}){const c=t-r,p=s-i,h=[c>0?1:c<0?-1:0,p>0?1:p<0?-1:0];return c&&a&&(h[0]=h[0]*-1),p&&u&&(h[1]=h[1]*-1),h}function xh(t){const r=t.includes("right")||t.includes("left"),s=t.includes("bottom")||t.includes("top"),i=t.includes("left"),a=t.includes("top");return{isHorizontal:r,isVertical:s,affectsX:i,affectsY:a}}function Qn(t,r){return Math.max(0,r-t)}function Kn(t,r){return Math.max(0,t-r)}function ya(t,r,s){return Math.max(0,r-t,t-s)}function vh(t,r){return t?!r:r}function B2(t,r,s,i,a,u,c,p){let{affectsX:h,affectsY:g}=r;const{isHorizontal:v,isVertical:y}=r,x=v&&y,{xSnapped:k,ySnapped:S}=s,{minWidth:E,maxWidth:C,minHeight:b,maxHeight:D}=i,{x:N,y:_,width:A,height:R,aspectRatio:$}=t;let G=Math.floor(v?k-t.pointerX:0),Q=Math.floor(y?S-t.pointerY:0);const re=A+(h?-G:G),U=R+(g?-Q:Q),Y=-u[0]*A,Z=-u[1]*R;let P=ya(re,E,C),q=ya(U,b,D);if(c){let T=0,z=0;h&&G<0?T=Qn(N+G+Y,c[0][0]):!h&&G>0&&(T=Kn(N+re+Y,c[1][0])),g&&Q<0?z=Qn(_+Q+Z,c[0][1]):!g&&Q>0&&(z=Kn(_+U+Z,c[1][1])),P=Math.max(P,T),q=Math.max(q,z)}if(p){let T=0,z=0;h&&G>0?T=Kn(N+G,p[0][0]):!h&&G<0&&(T=Qn(N+re,p[1][0])),g&&Q>0?z=Kn(_+Q,p[0][1]):!g&&Q<0&&(z=Qn(_+U,p[1][1])),P=Math.max(P,T),q=Math.max(q,z)}if(a){if(v){const T=ya(re/$,b,D)*$;if(P=Math.max(P,T),c){let z=0;!h&&!g||h&&!g&&x?z=Kn(_+Z+re/$,c[1][1])*$:z=Qn(_+Z+(h?G:-G)/$,c[0][1])*$,P=Math.max(P,z)}if(p){let z=0;!h&&!g||h&&!g&&x?z=Qn(_+re/$,p[1][1])*$:z=Kn(_+(h?G:-G)/$,p[0][1])*$,P=Math.max(P,z)}}if(y){const T=ya(U*$,E,C)/$;if(q=Math.max(q,T),c){let z=0;!h&&!g||g&&!h&&x?z=Kn(N+U*$+Y,c[1][0])/$:z=Qn(N+(g?Q:-Q)*$+Y,c[0][0])/$,q=Math.max(q,z)}if(p){let z=0;!h&&!g||g&&!h&&x?z=Qn(N+U*$,p[1][0])/$:z=Kn(N+(g?Q:-Q)*$,p[0][0])/$,q=Math.max(q,z)}}}Q=Q+(Q<0?q:-q),G=G+(G<0?P:-P),a&&(x?re>U*$?Q=(vh(h,g)?-G:G)/$:G=(vh(h,g)?-Q:Q)*$:v?(Q=G/$,g=h):(G=Q*$,h=g));const B=h?N+G:N,H=g?_+Q:_;return{width:A+(h?-G:G),height:R+(g?-Q:Q),x:u[0]*G*(h?-1:1)+B,y:u[1]*Q*(g?-1:1)+H}}const lg={width:0,height:0,x:0,y:0},F2={...lg,pointerX:0,pointerY:0,aspectRatio:1};function H2(t){return[[0,0],[t.measured.width,t.measured.height]]}function V2(t,r,s){const i=r.position.x+t.position.x,a=r.position.y+t.position.y,u=t.measured.width??0,c=t.measured.height??0,p=s[0]*u,h=s[1]*c;return[[i-p,a-h],[i+u-p,a+c-h]]}function U2({domNode:t,nodeId:r,getStoreItems:s,onChange:i,onEnd:a}){const u=jt(t);let c={controlDirection:xh("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function p({controlPosition:g,boundaries:v,keepAspectRatio:y,resizeDirection:x,onResizeStart:k,onResize:S,onResizeEnd:E,shouldResize:C}){let b={...lg},D={...F2};c={boundaries:v,resizeDirection:x,keepAspectRatio:y,controlDirection:xh(g)};let N,_=null,A=[],R,$,G,Q=!1;const re=ym().on("start",U=>{const{nodeLookup:Y,transform:Z,snapGrid:P,snapToGrid:q,nodeOrigin:B,paneDomNode:H}=s();if(N=Y.get(r),!N)return;_=(H==null?void 0:H.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:z}=Co(U.sourceEvent,{transform:Z,snapGrid:P,snapToGrid:q,containerBounds:_});b={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},D={...b,pointerX:T,pointerY:z,aspectRatio:b.width/b.height},R=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(R=Y.get(N.parentId),$=R&&N.extent==="parent"?H2(R):void 0),A=[],G=void 0;for(const[V,j]of Y)if(j.parentId===r&&(A.push({id:V,position:{...j.position},extent:j.extent}),j.extent==="parent"||j.expandParent)){const L=V2(j,N,j.origin??B);G?G=[[Math.min(L[0][0],G[0][0]),Math.min(L[0][1],G[0][1])],[Math.max(L[1][0],G[1][0]),Math.max(L[1][1],G[1][1])]]:G=L}k==null||k(U,{...b})}).on("drag",U=>{const{transform:Y,snapGrid:Z,snapToGrid:P,nodeOrigin:q}=s(),B=Co(U.sourceEvent,{transform:Y,snapGrid:Z,snapToGrid:P,containerBounds:_}),H=[];if(!N)return;const{x:T,y:z,width:V,height:j}=b,L={},J=N.origin??q,{width:ee,height:ae,x:le,y:ue}=B2(D,c.controlDirection,B,c.boundaries,c.keepAspectRatio,J,$,G),te=ee!==V,ce=ae!==j,ke=le!==T&&te,Ne=ue!==z&&ce;if(!ke&&!Ne&&!te&&!ce)return;if((ke||Ne||J[0]===1||J[1]===1)&&(L.x=ke?le:b.x,L.y=Ne?ue:b.y,b.x=L.x,b.y=L.y,A.length>0)){const Pe=le-T,be=ue-z;for(const qe of A)qe.position={x:qe.position.x-Pe+J[0]*(ee-V),y:qe.position.y-be+J[1]*(ae-j)},H.push(qe)}if((te||ce)&&(L.width=te&&(!c.resizeDirection||c.resizeDirection==="horizontal")?ee:b.width,L.height=ce&&(!c.resizeDirection||c.resizeDirection==="vertical")?ae:b.height,b.width=L.width,b.height=L.height),R&&N.expandParent){const Pe=J[0]*(L.width??0);L.x&&L.x<Pe&&(b.x=Pe,D.x=D.x-(L.x-Pe));const be=J[1]*(L.height??0);L.y&&L.y<be&&(b.y=be,D.y=D.y-(L.y-be))}const Se=O2({width:b.width,prevWidth:V,height:b.height,prevHeight:j,affectsX:c.controlDirection.affectsX,affectsY:c.controlDirection.affectsY}),xe={...b,direction:Se};(C==null?void 0:C(U,xe))!==!1&&(Q=!0,S==null||S(U,xe),i(L,H))}).on("end",U=>{Q&&(E==null||E(U,{...b}),a==null||a({...b}),Q=!1)});u.call(re)}function h(){u.on(".drag",null)}return{update:p,destroy:h}}var ac={exports:{}},lc={},uc={exports:{}},cc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function W2(){if(wh)return cc;wh=1;var t=Ao();function r(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var s=typeof Object.is=="function"?Object.is:r,i=t.useState,a=t.useEffect,u=t.useLayoutEffect,c=t.useDebugValue;function p(y,x){var k=x(),S=i({inst:{value:k,getSnapshot:x}}),E=S[0].inst,C=S[1];return u(function(){E.value=k,E.getSnapshot=x,h(E)&&C({inst:E})},[y,k,x]),a(function(){return h(E)&&C({inst:E}),y(function(){h(E)&&C({inst:E})})},[y]),c(k),k}function h(y){var x=y.getSnapshot;y=y.value;try{var k=x();return!s(y,k)}catch{return!0}}function g(y,x){return x()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:p;return cc.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,cc}var kh;function q2(){return kh||(kh=1,uc.exports=W2()),uc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function Y2(){if(Sh)return lc;Sh=1;var t=Ao(),r=q2();function s(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var i=typeof Object.is=="function"?Object.is:s,a=r.useSyncExternalStore,u=t.useRef,c=t.useEffect,p=t.useMemo,h=t.useDebugValue;return lc.useSyncExternalStoreWithSelector=function(g,v,y,x,k){var S=u(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=p(function(){function b(R){if(!D){if(D=!0,N=R,R=x(R),k!==void 0&&E.hasValue){var $=E.value;if(k($,R))return _=$}return _=R}if($=_,i(N,R))return $;var G=x(R);return k!==void 0&&k($,G)?(N=R,$):(N=R,_=G)}var D=!1,N,_,A=y===void 0?null:y;return[function(){return b(v())},A===null?void 0:function(){return b(A())}]},[v,y,x,k]);var C=a(g,S[0],S[1]);return c(function(){E.hasValue=!0,E.value=C},[C]),h(C),C},lc}var Nh;function X2(){return Nh||(Nh=1,ac.exports=Y2()),ac.exports}var G2=X2();const Q2=tm(G2),K2={},Eh=t=>{let r;const s=new Set,i=(v,y)=>{const x=typeof v=="function"?v(r):v;if(!Object.is(x,r)){const k=r;r=y??(typeof x!="object"||x===null)?x:Object.assign({},r,x),s.forEach(S=>S(r,k))}},a=()=>r,h={setState:i,getState:a,getInitialState:()=>g,subscribe:v=>(s.add(v),()=>s.delete(v)),destroy:()=>{(K2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},g=r=t(i,a,h);return h},Z2=t=>t?Eh(t):Eh,{useDebugValue:J2}=vo,{useSyncExternalStoreWithSelector:ek}=Q2,tk=t=>t;function ug(t,r=tk,s){const i=ek(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,s);return J2(i),i}const Ch=(t,r)=>{const s=Z2(t),i=(a,u=r)=>ug(s,a,u);return Object.assign(i,s),i},nk=(t,r)=>t?Ch(t,r):Ch;function $e(t,r){if(Object.is(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(const[i,a]of t)if(!Object.is(a,r.get(i)))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(const i of t)if(!r.has(i))return!1;return!0}const s=Object.keys(t);if(s.length!==Object.keys(r).length)return!1;for(const i of s)if(!Object.prototype.hasOwnProperty.call(r,i)||!Object.is(t[i],r[i]))return!1;return!0}nm();const Ka=F.createContext(null),rk=Ka.Provider,cg=on.error001();function je(t,r){const s=F.useContext(Ka);if(s===null)throw new Error(cg);return ug(s,t,r)}function Oe(){const t=F.useContext(Ka);if(t===null)throw new Error(cg);return F.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const _h={display:"none"},sk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},dg="react-flow__node-desc",fg="react-flow__edge-desc",ok="react-flow__aria-live",ik=t=>t.ariaLiveMessage,ak=t=>t.ariaLabelConfig;function lk({rfId:t}){const r=je(ik);return d.jsx("div",{id:`${ok}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:sk,children:r})}function uk({rfId:t,disableKeyboardA11y:r}){const s=je(ak);return d.jsxs(d.Fragment,{children:[d.jsx("div",{id:`${dg}-${t}`,style:_h,children:r?s["node.a11yDescription.default"]:s["node.a11yDescription.keyboardDisabled"]}),d.jsx("div",{id:`${fg}-${t}`,style:_h,children:s["edge.a11yDescription.default"]}),!r&&d.jsx(lk,{rfId:t})]})}const Za=F.forwardRef(({position:t="top-left",children:r,className:s,style:i,...a},u)=>{const c=`${t}`.split("-");return d.jsx("div",{className:Ge(["react-flow__panel",s,...c]),style:i,ref:u,...a,children:r})});Za.displayName="Panel";function ck({proOptions:t,position:r="bottom-right"}){return t!=null&&t.hideAttribution?null:d.jsx(Za,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const dk=t=>{const r=[],s=[];for(const[,i]of t.nodeLookup)i.selected&&r.push(i.internals.userNode);for(const[,i]of t.edgeLookup)i.selected&&s.push(i);return{selectedNodes:r,selectedEdges:s}},xa=t=>t.id;function fk(t,r){return $e(t.selectedNodes.map(xa),r.selectedNodes.map(xa))&&$e(t.selectedEdges.map(xa),r.selectedEdges.map(xa))}function pk({onSelectionChange:t}){const r=Oe(),{selectedNodes:s,selectedEdges:i}=je(dk,fk);return F.useEffect(()=>{const a={nodes:s,edges:i};t==null||t(a),r.getState().onSelectionChangeHandlers.forEach(u=>u(a))},[s,i,t]),null}const hk=t=>!!t.onSelectionChangeHandlers;function mk({onSelectionChange:t}){const r=je(hk);return t||r?d.jsx(pk,{onSelectionChange:t}):null}const pg=[0,0],gk={x:0,y:0,zoom:1},yk=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],bh=[...yk,"rfId"],xk=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),jh={translateExtent:To,nodeOrigin:pg,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function vk(t){const{setNodes:r,setEdges:s,setMinZoom:i,setMaxZoom:a,setTranslateExtent:u,setNodeExtent:c,reset:p,setDefaultNodesAndEdges:h}=je(xk,$e),g=Oe();F.useEffect(()=>(h(t.defaultNodes,t.defaultEdges),()=>{v.current=jh,p()}),[]);const v=F.useRef(jh);return F.useEffect(()=>{for(const y of bh){const x=t[y],k=v.current[y];x!==k&&(typeof t[y]>"u"||(y==="nodes"?r(x):y==="edges"?s(x):y==="minZoom"?i(x):y==="maxZoom"?a(x):y==="translateExtent"?u(x):y==="nodeExtent"?c(x):y==="ariaLabelConfig"?g.setState({ariaLabelConfig:r2(x)}):y==="fitView"?g.setState({fitViewQueued:x}):y==="fitViewOptions"?g.setState({fitViewOptions:x}):g.setState({[y]:x})))}v.current=t},bh.map(y=>t[y])),null}function Mh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function wk(t){var i;const[r,s]=F.useState(t==="system"?null:t);return F.useEffect(()=>{if(t!=="system"){s(t);return}const a=Mh(),u=()=>s(a!=null&&a.matches?"dark":"light");return u(),a==null||a.addEventListener("change",u),()=>{a==null||a.removeEventListener("change",u)}},[t]),r!==null?r:(i=Mh())!=null&&i.matches?"dark":"light"}const Th=typeof document<"u"?document:null;function Io(t=null,r={target:Th,actInsideInputWithModifier:!0}){const[s,i]=F.useState(!1),a=F.useRef(!1),u=F.useRef(new Set([])),[c,p]=F.useMemo(()=>{if(t!==null){const g=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),v=g.reduce((y,x)=>y.concat(...x),[]);return[g,v]}return[[],[]]},[t]);return F.useEffect(()=>{const h=(r==null?void 0:r.target)??Th,g=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(t!==null){const v=k=>{var C,b;if(a.current=k.ctrlKey||k.metaKey||k.shiftKey||k.altKey,(!a.current||a.current&&!g)&&Wm(k))return!1;const E=Ph(k.code,p);if(u.current.add(k[E]),Dh(c,u.current,!1)){const D=((b=(C=k.composedPath)==null?void 0:C.call(k))==null?void 0:b[0])||k.target,N=(D==null?void 0:D.nodeName)==="BUTTON"||(D==null?void 0:D.nodeName)==="A";r.preventDefault!==!1&&(a.current||!N)&&k.preventDefault(),i(!0)}},y=k=>{const S=Ph(k.code,p);Dh(c,u.current,!0)?(i(!1),u.current.clear()):u.current.delete(k[S]),k.key==="Meta"&&u.current.clear(),a.current=!1},x=()=>{u.current.clear(),i(!1)};return h==null||h.addEventListener("keydown",v),h==null||h.addEventListener("keyup",y),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{h==null||h.removeEventListener("keydown",v),h==null||h.removeEventListener("keyup",y),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[t,i]),s}function Dh(t,r,s){return t.filter(i=>s||i.length===r.size).some(i=>i.every(a=>r.has(a)))}function Ph(t,r){return r.includes(t)?"code":"key"}const kk=()=>{const t=Oe();return F.useMemo(()=>({zoomIn:r=>{const{panZoom:s}=t.getState();return s?s.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:s}=t.getState();return s?s.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,s)=>{const{panZoom:i}=t.getState();return i?i.scaleTo(r,{duration:s==null?void 0:s.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(r,s)=>{const{transform:[i,a,u],panZoom:c}=t.getState();return c?(await c.setViewport({x:r.x??i,y:r.y??a,zoom:r.zoom??u},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,s,i]=t.getState().transform;return{x:r,y:s,zoom:i}},setCenter:async(r,s,i)=>t.getState().setCenter(r,s,i),fitBounds:async(r,s)=>{const{width:i,height:a,minZoom:u,maxZoom:c,panZoom:p}=t.getState(),h=Vc(r,i,a,u,c,(s==null?void 0:s.padding)??.1);return p?(await p.setViewport(h,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,s={})=>{const{transform:i,snapGrid:a,snapToGrid:u,domNode:c}=t.getState();if(!c)return r;const{x:p,y:h}=c.getBoundingClientRect(),g={x:r.x-p,y:r.y-h},v=s.snapGrid??a,y=s.snapToGrid??u;return Vo(g,i,y,v)},flowToScreenPosition:r=>{const{transform:s,domNode:i}=t.getState();if(!i)return r;const{x:a,y:u}=i.getBoundingClientRect(),c=$a(r,s);return{x:c.x+a,y:c.y+u}}}),[])};function hg(t,r){const s=[],i=new Map,a=[];for(const u of t)if(u.type==="add"){a.push(u);continue}else if(u.type==="remove"||u.type==="replace")i.set(u.id,[u]);else{const c=i.get(u.id);c?c.push(u):i.set(u.id,[u])}for(const u of r){const c=i.get(u.id);if(!c){s.push(u);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){s.push({...c[0].item});continue}const p={...u};for(const h of c)Sk(h,p);s.push(p)}return a.length&&a.forEach(u=>{u.index!==void 0?s.splice(u.index,0,{...u.item}):s.push({...u.item})}),s}function Sk(t,r){switch(t.type){case"select":{r.selected=t.selected;break}case"position":{typeof t.position<"u"&&(r.position=t.position),typeof t.dragging<"u"&&(r.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(r.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(r.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(r.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(r.resizing=t.resizing);break}}}function mg(t,r){return hg(t,r)}function gg(t,r){return hg(t,r)}function wr(t,r){return{id:t,type:"select",selected:r}}function us(t,r=new Set,s=!1){const i=[];for(const[a,u]of t){const c=r.has(a);!(u.selected===void 0&&!c)&&u.selected!==c&&(s&&(u.selected=c),i.push(wr(u.id,c)))}return i}function zh({items:t=[],lookup:r}){var a;const s=[],i=new Map(t.map(u=>[u.id,u]));for(const[u,c]of t.entries()){const p=r.get(c.id),h=((a=p==null?void 0:p.internals)==null?void 0:a.userNode)??p;h!==void 0&&h!==c&&s.push({id:c.id,item:c,type:"replace"}),h===void 0&&s.push({item:c,type:"add",index:u})}for(const[u]of r)i.get(u)===void 0&&s.push({id:u,type:"remove"});return s}function Ih(t){return{id:t.id,type:"remove"}}const Rh=t=>Yw(t),Nk=t=>Am(t);function yg(t){return F.forwardRef(t)}const Ek=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Lh(t){const[r,s]=F.useState(BigInt(0)),[i]=F.useState(()=>Ck(()=>s(a=>a+BigInt(1))));return Ek(()=>{const a=i.get();a.length&&(t(a),i.reset())},[r]),i}function Ck(t){let r=[];return{get:()=>r,reset:()=>{r=[]},push:s=>{r.push(s),t()}}}const xg=F.createContext(null);function _k({children:t}){const r=Oe(),s=F.useCallback(p=>{const{nodes:h=[],setNodes:g,hasDefaultNodes:v,onNodesChange:y,nodeLookup:x,fitViewQueued:k,onNodesChangeMiddlewareMap:S}=r.getState();let E=h;for(const b of p)E=typeof b=="function"?b(E):b;let C=zh({items:E,lookup:x});for(const b of S.values())C=b(C);v&&g(E),C.length>0?y==null||y(C):k&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:D,setNodes:N}=r.getState();b&&N(D)})},[]),i=Lh(s),a=F.useCallback(p=>{const{edges:h=[],setEdges:g,hasDefaultEdges:v,onEdgesChange:y,edgeLookup:x}=r.getState();let k=h;for(const S of p)k=typeof S=="function"?S(k):S;v?g(k):y&&y(zh({items:k,lookup:x}))},[]),u=Lh(a),c=F.useMemo(()=>({nodeQueue:i,edgeQueue:u}),[]);return d.jsx(xg.Provider,{value:c,children:t})}function bk(){const t=F.useContext(xg);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const jk=t=>!!t.panZoom;function Uo(){const t=kk(),r=Oe(),s=bk(),i=je(jk),a=F.useMemo(()=>{const u=y=>r.getState().nodeLookup.get(y),c=y=>{s.nodeQueue.push(y)},p=y=>{s.edgeQueue.push(y)},h=y=>{var b,D;const{nodeLookup:x,nodeOrigin:k}=r.getState(),S=Rh(y)?y:x.get(y.id),E=S.parentId?Vm(S.position,S.measured,S.parentId,x,k):S.position,C={...S,position:E,width:((b=S.measured)==null?void 0:b.width)??S.width,height:((D=S.measured)==null?void 0:D.height)??S.height};return gs(C)},g=(y,x,k={replace:!1})=>{c(S=>S.map(E=>{if(E.id===y){const C=typeof x=="function"?x(E):x;return k.replace&&Rh(C)?C:{...E,...C}}return E}))},v=(y,x,k={replace:!1})=>{p(S=>S.map(E=>{if(E.id===y){const C=typeof x=="function"?x(E):x;return k.replace&&Nk(C)?C:{...E,...C}}return E}))};return{getNodes:()=>r.getState().nodes.map(y=>({...y})),getNode:y=>{var x;return(x=u(y))==null?void 0:x.internals.userNode},getInternalNode:u,getEdges:()=>{const{edges:y=[]}=r.getState();return y.map(x=>({...x}))},getEdge:y=>r.getState().edgeLookup.get(y),setNodes:c,setEdges:p,addNodes:y=>{const x=Array.isArray(y)?y:[y];s.nodeQueue.push(k=>[...k,...x])},addEdges:y=>{const x=Array.isArray(y)?y:[y];s.edgeQueue.push(k=>[...k,...x])},toObject:()=>{const{nodes:y=[],edges:x=[],transform:k}=r.getState(),[S,E,C]=k;return{nodes:y.map(b=>({...b})),edges:x.map(b=>({...b})),viewport:{x:S,y:E,zoom:C}}},deleteElements:async({nodes:y=[],edges:x=[]})=>{const{nodes:k,edges:S,onNodesDelete:E,onEdgesDelete:C,triggerNodeChanges:b,triggerEdgeChanges:D,onDelete:N,onBeforeDelete:_}=r.getState(),{nodes:A,edges:R}=await Zw({nodesToRemove:y,edgesToRemove:x,nodes:k,edges:S,onBeforeDelete:_}),$=R.length>0,G=A.length>0;if($){const Q=R.map(Ih);C==null||C(R),D(Q)}if(G){const Q=A.map(Ih);E==null||E(A),b(Q)}return(G||$)&&(N==null||N({nodes:A,edges:R})),{deletedNodes:A,deletedEdges:R}},getIntersectingNodes:(y,x=!0,k)=>{const S=ah(y),E=S?y:h(y),C=k!==void 0;return E?(k||r.getState().nodes).filter(b=>{const D=r.getState().nodeLookup.get(b.id);if(D&&!S&&(b.id===y.id||!D.internals.positionAbsolute))return!1;const N=gs(C?b:D),_=Po(N,E);return x&&_>0||_>=N.width*N.height||_>=E.width*E.height}):[]},isNodeIntersecting:(y,x,k=!0)=>{const E=ah(y)?y:h(y);if(!E)return!1;const C=Po(E,x);return k&&C>0||C>=x.width*x.height||C>=E.width*E.height},updateNode:g,updateNodeData:(y,x,k={replace:!1})=>{g(y,S=>{const E=typeof x=="function"?x(S):x;return k.replace?{...S,data:E}:{...S,data:{...S.data,...E}}},k)},updateEdge:v,updateEdgeData:(y,x,k={replace:!1})=>{v(y,S=>{const E=typeof x=="function"?x(S):x;return k.replace?{...S,data:E}:{...S,data:{...S.data,...E}}},k)},getNodesBounds:y=>{const{nodeLookup:x,nodeOrigin:k}=r.getState();return Xw(y,{nodeLookup:x,nodeOrigin:k})},getHandleConnections:({type:y,id:x,nodeId:k})=>{var S;return Array.from(((S=r.getState().connectionLookup.get(`${k}-${y}${x?`-${x}`:""}`))==null?void 0:S.values())??[])},getNodeConnections:({type:y,handleId:x,nodeId:k})=>{var S;return Array.from(((S=r.getState().connectionLookup.get(`${k}${y?x?`-${y}-${x}`:`-${y}`:""}`))==null?void 0:S.values())??[])},fitView:async y=>{const x=r.getState().fitViewResolver??n2();return r.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:x}),s.nodeQueue.push(k=>[...k]),x.promise}}},[]);return F.useMemo(()=>({...a,...t,viewportInitialized:i}),[i])}const Ah=t=>t.selected,Mk=typeof window<"u"?window:void 0;function Tk({deleteKeyCode:t,multiSelectionKeyCode:r}){const s=Oe(),{deleteElements:i}=Uo(),a=Io(t,{actInsideInputWithModifier:!1}),u=Io(r,{target:Mk});F.useEffect(()=>{if(a){const{edges:c,nodes:p}=s.getState();i({nodes:p.filter(Ah),edges:c.filter(Ah)}),s.setState({nodesSelectionActive:!1})}},[a]),F.useEffect(()=>{s.setState({multiSelectionActive:u})},[u])}function Dk(t){const r=Oe();F.useEffect(()=>{const s=()=>{var a,u,c,p;if(!t.current||!(((u=(a=t.current).checkVisibility)==null?void 0:u.call(a))??!0))return!1;const i=Uc(t.current);(i.height===0||i.width===0)&&((p=(c=r.getState()).onError)==null||p.call(c,"004",on.error004())),r.setState({width:i.width||500,height:i.height||500})};if(t.current){s(),window.addEventListener("resize",s);const i=new ResizeObserver(()=>s());return i.observe(t.current),()=>{window.removeEventListener("resize",s),i&&t.current&&i.unobserve(t.current)}}},[])}const Ja={position:"absolute",width:"100%",height:"100%",top:0,left:0},Pk=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function zk({onPaneContextMenu:t,zoomOnScroll:r=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=Nr.Free,zoomOnDoubleClick:c=!0,panOnDrag:p=!0,defaultViewport:h,translateExtent:g,minZoom:v,maxZoom:y,zoomActivationKeyCode:x,preventScrolling:k=!0,children:S,noWheelClassName:E,noPanClassName:C,onViewportChange:b,isControlledViewport:D,paneClickDistance:N,selectionOnDrag:_}){const A=Oe(),R=F.useRef(null),{userSelectionActive:$,lib:G,connectionInProgress:Q}=je(Pk,$e),re=Io(x),U=F.useRef();Dk(R);const Y=F.useCallback(Z=>{b==null||b({x:Z[0],y:Z[1],zoom:Z[2]}),D||A.setState({transform:Z})},[b,D]);return F.useEffect(()=>{if(R.current){U.current=$2({domNode:R.current,minZoom:v,maxZoom:y,translateExtent:g,viewport:h,onDraggingChange:B=>A.setState({paneDragging:B}),onPanZoomStart:(B,H)=>{const{onViewportChangeStart:T,onMoveStart:z}=A.getState();z==null||z(B,H),T==null||T(H)},onPanZoom:(B,H)=>{const{onViewportChange:T,onMove:z}=A.getState();z==null||z(B,H),T==null||T(H)},onPanZoomEnd:(B,H)=>{const{onViewportChangeEnd:T,onMoveEnd:z}=A.getState();z==null||z(B,H),T==null||T(H)}});const{x:Z,y:P,zoom:q}=U.current.getViewport();return A.setState({panZoom:U.current,transform:[Z,P,q],domNode:R.current.closest(".react-flow")}),()=>{var B;(B=U.current)==null||B.destroy()}}},[]),F.useEffect(()=>{var Z;(Z=U.current)==null||Z.update({onPaneContextMenu:t,zoomOnScroll:r,zoomOnPinch:s,panOnScroll:i,panOnScrollSpeed:a,panOnScrollMode:u,zoomOnDoubleClick:c,panOnDrag:p,zoomActivationKeyPressed:re,preventScrolling:k,noPanClassName:C,userSelectionActive:$,noWheelClassName:E,lib:G,onTransformChange:Y,connectionInProgress:Q,selectionOnDrag:_,paneClickDistance:N})},[t,r,s,i,a,u,c,p,re,k,C,$,E,G,Y,Q,_,N]),d.jsx("div",{className:"react-flow__renderer",ref:R,style:Ja,children:S})}const Ik=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Rk(){const{userSelectionActive:t,userSelectionRect:r}=je(Ik,$e);return t&&r?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const dc=(t,r)=>s=>{s.target===r.current&&(t==null||t(s))},Lk=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function Ak({isSelecting:t,selectionKeyPressed:r,selectionMode:s=Do.Full,panOnDrag:i,paneClickDistance:a,selectionOnDrag:u,onSelectionStart:c,onSelectionEnd:p,onPaneClick:h,onPaneContextMenu:g,onPaneScroll:v,onPaneMouseEnter:y,onPaneMouseMove:x,onPaneMouseLeave:k,children:S}){const E=Oe(),{userSelectionActive:C,elementsSelectable:b,dragging:D,connectionInProgress:N}=je(Lk,$e),_=b&&(t||C),A=F.useRef(null),R=F.useRef(),$=F.useRef(new Set),G=F.useRef(new Set),Q=F.useRef(!1),re=T=>{if(Q.current||N){Q.current=!1;return}h==null||h(T),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},U=T=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){T.preventDefault();return}g==null||g(T)},Y=v?T=>v(T):void 0,Z=T=>{Q.current&&(T.stopPropagation(),Q.current=!1)},P=T=>{var ae,le;const{domNode:z}=E.getState();if(R.current=z==null?void 0:z.getBoundingClientRect(),!R.current)return;const V=T.target===A.current;if(!V&&!!T.target.closest(".nokey")||!t||!(u&&V||r)||T.button!==0||!T.isPrimary)return;(le=(ae=T.target)==null?void 0:ae.setPointerCapture)==null||le.call(ae,T.pointerId),Q.current=!1;const{x:J,y:ee}=Gt(T.nativeEvent,R.current);E.setState({userSelectionRect:{width:0,height:0,startX:J,startY:ee,x:J,y:ee}}),V||(T.stopPropagation(),T.preventDefault())},q=T=>{const{userSelectionRect:z,transform:V,nodeLookup:j,edgeLookup:L,connectionLookup:J,triggerNodeChanges:ee,triggerEdgeChanges:ae,defaultEdgeOptions:le,resetSelectedElements:ue}=E.getState();if(!R.current||!z)return;const{x:te,y:ce}=Gt(T.nativeEvent,R.current),{startX:ke,startY:Ne}=z;if(!Q.current){const be=r?0:a;if(Math.hypot(te-ke,ce-Ne)<=be)return;ue(),c==null||c(T)}Q.current=!0;const Se={startX:ke,startY:Ne,x:te<ke?te:ke,y:ce<Ne?ce:Ne,width:Math.abs(te-ke),height:Math.abs(ce-Ne)},xe=$.current,_e=G.current;$.current=new Set(Hc(j,Se,V,s===Do.Partial,!0).map(be=>be.id)),G.current=new Set;const Pe=(le==null?void 0:le.selectable)??!0;for(const be of $.current){const qe=J.get(be);if(qe)for(const{edgeId:Ot}of qe.values()){const kt=L.get(Ot);kt&&(kt.selectable??Pe)&&G.current.add(Ot)}}if(!lh(xe,$.current)){const be=us(j,$.current,!0);ee(be)}if(!lh(_e,G.current)){const be=us(L,G.current);ae(be)}E.setState({userSelectionRect:Se,userSelectionActive:!0,nodesSelectionActive:!1})},B=T=>{var z,V;T.button===0&&((V=(z=T.target)==null?void 0:z.releasePointerCapture)==null||V.call(z,T.pointerId),!C&&T.target===A.current&&E.getState().userSelectionRect&&(re==null||re(T)),E.setState({userSelectionActive:!1,userSelectionRect:null}),Q.current&&(p==null||p(T),E.setState({nodesSelectionActive:$.current.size>0})))},H=i===!0||Array.isArray(i)&&i.includes(0);return d.jsxs("div",{className:Ge(["react-flow__pane",{draggable:H,dragging:D,selection:t}]),onClick:_?void 0:dc(re,A),onContextMenu:dc(U,A),onWheel:dc(Y,A),onPointerEnter:_?void 0:y,onPointerMove:_?q:x,onPointerUp:_?B:void 0,onPointerDownCapture:_?P:void 0,onClickCapture:_?Z:void 0,onPointerLeave:k,ref:A,style:Ja,children:[S,d.jsx(Rk,{})]})}function Mc({id:t,store:r,unselect:s=!1,nodeRef:i}){const{addSelectedNodes:a,unselectNodesAndEdges:u,multiSelectionActive:c,nodeLookup:p,onError:h}=r.getState(),g=p.get(t);if(!g){h==null||h("012",on.error012(t));return}r.setState({nodesSelectionActive:!1}),g.selected?(s||g.selected&&c)&&(u({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var v;return(v=i==null?void 0:i.current)==null?void 0:v.blur()})):a([t])}function vg({nodeRef:t,disabled:r=!1,noDragClassName:s,handleSelector:i,nodeId:a,isSelectable:u,nodeClickDistance:c}){const p=Oe(),[h,g]=F.useState(!1),v=F.useRef();return F.useEffect(()=>{v.current=E2({getStoreItems:()=>p.getState(),onNodeMouseDown:y=>{Mc({id:y,store:p,nodeRef:t})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),F.useEffect(()=>{var y,x;if(r)(y=v.current)==null||y.destroy();else if(t.current)return(x=v.current)==null||x.update({noDragClassName:s,handleSelector:i,domNode:t.current,isSelectable:u,nodeId:a,nodeClickDistance:c}),()=>{var k;(k=v.current)==null||k.destroy()}},[s,i,r,u,t,a]),h}const $k=t=>r=>r.selected&&(r.draggable||t&&typeof r.draggable>"u");function wg(){const t=Oe();return F.useCallback(s=>{const{nodeExtent:i,snapToGrid:a,snapGrid:u,nodesDraggable:c,onError:p,updateNodePositions:h,nodeLookup:g,nodeOrigin:v}=t.getState(),y=new Map,x=$k(c),k=a?u[0]:5,S=a?u[1]:5,E=s.direction.x*k*s.factor,C=s.direction.y*S*s.factor;for(const[,b]of g){if(!x(b))continue;let D={x:b.internals.positionAbsolute.x+E,y:b.internals.positionAbsolute.y+C};a&&(D=Ho(D,u));const{position:N,positionAbsolute:_}=$m({nodeId:b.id,nextPosition:D,nodeLookup:g,nodeExtent:i,nodeOrigin:v,onError:p});b.position=N,b.internals.positionAbsolute=_,y.set(b.id,b)}h(y)},[])}const Qc=F.createContext(null),Ok=Qc.Provider;Qc.Consumer;const kg=()=>F.useContext(Qc),Bk=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Fk=(t,r,s)=>i=>{const{connectionClickStartHandle:a,connectionMode:u,connection:c}=i,{fromHandle:p,toHandle:h,isValid:g}=c,v=(h==null?void 0:h.nodeId)===t&&(h==null?void 0:h.id)===r&&(h==null?void 0:h.type)===s;return{connectingFrom:(p==null?void 0:p.nodeId)===t&&(p==null?void 0:p.id)===r&&(p==null?void 0:p.type)===s,connectingTo:v,clickConnecting:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===r&&(a==null?void 0:a.type)===s,isPossibleEndHandle:u===hs.Strict?(p==null?void 0:p.type)!==s:t!==(p==null?void 0:p.nodeId)||r!==(p==null?void 0:p.id),connectionInProcess:!!p,clickConnectionInProcess:!!a,valid:v&&g}};function Hk({type:t="source",position:r=ge.Top,isValidConnection:s,isConnectable:i=!0,isConnectableStart:a=!0,isConnectableEnd:u=!0,id:c,onConnect:p,children:h,className:g,onMouseDown:v,onTouchStart:y,...x},k){var q,B;const S=c||null,E=t==="target",C=Oe(),b=kg(),{connectOnClick:D,noPanClassName:N,rfId:_}=je(Bk,$e),{connectingFrom:A,connectingTo:R,clickConnecting:$,isPossibleEndHandle:G,connectionInProcess:Q,clickConnectionInProcess:re,valid:U}=je(Fk(b,S,t),$e);b||(B=(q=C.getState()).onError)==null||B.call(q,"010",on.error010());const Y=H=>{const{defaultEdgeOptions:T,onConnect:z,hasDefaultEdges:V}=C.getState(),j={...T,...H};if(V){const{edges:L,setEdges:J}=C.getState();J(Qm(j,L))}z==null||z(j),p==null||p(j)},Z=H=>{if(!b)return;const T=qm(H.nativeEvent);if(a&&(T&&H.button===0||!T)){const z=C.getState();jc.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:z.autoPanOnConnect,connectionMode:z.connectionMode,connectionRadius:z.connectionRadius,domNode:z.domNode,nodeLookup:z.nodeLookup,lib:z.lib,isTarget:E,handleId:S,nodeId:b,flowId:z.rfId,panBy:z.panBy,cancelConnection:z.cancelConnection,onConnectStart:z.onConnectStart,onConnectEnd:z.onConnectEnd,updateConnection:z.updateConnection,onConnect:Y,isValidConnection:s||z.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:z.autoPanSpeed,dragThreshold:z.connectionDragThreshold})}T?v==null||v(H):y==null||y(H)},P=H=>{const{onClickConnectStart:T,onClickConnectEnd:z,connectionClickStartHandle:V,connectionMode:j,isValidConnection:L,lib:J,rfId:ee,nodeLookup:ae,connection:le}=C.getState();if(!b||!V&&!a)return;if(!V){T==null||T(H.nativeEvent,{nodeId:b,handleId:S,handleType:t}),C.setState({connectionClickStartHandle:{nodeId:b,type:t,id:S}});return}const ue=Um(H.target),te=s||L,{connection:ce,isValid:ke}=jc.isValid(H.nativeEvent,{handle:{nodeId:b,id:S,type:t},connectionMode:j,fromNodeId:V.nodeId,fromHandleId:V.id||null,fromType:V.type,isValidConnection:te,flowId:ee,doc:ue,lib:J,nodeLookup:ae});ke&&ce&&Y(ce);const Ne=structuredClone(le);delete Ne.inProgress,Ne.toPosition=Ne.toHandle?Ne.toHandle.position:null,z==null||z(H,Ne),C.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":S,"data-nodeid":b,"data-handlepos":r,"data-id":`${_}-${b}-${S}-${t}`,className:Ge(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",N,g,{source:!E,target:E,connectable:i,connectablestart:a,connectableend:u,clickconnecting:$,connectingfrom:A,connectingto:R,valid:U,connectionindicator:i&&(!Q||G)&&(Q||re?u:a)}]),onMouseDown:Z,onTouchStart:Z,onClick:D?P:void 0,ref:k,...x,children:h})}const vs=F.memo(yg(Hk));function Vk({data:t,isConnectable:r,sourcePosition:s=ge.Bottom}){return d.jsxs(d.Fragment,{children:[t==null?void 0:t.label,d.jsx(vs,{type:"source",position:s,isConnectable:r})]})}function Uk({data:t,isConnectable:r,targetPosition:s=ge.Top,sourcePosition:i=ge.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(vs,{type:"target",position:s,isConnectable:r}),t==null?void 0:t.label,d.jsx(vs,{type:"source",position:i,isConnectable:r})]})}function Wk(){return null}function qk({data:t,isConnectable:r,targetPosition:s=ge.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(vs,{type:"target",position:s,isConnectable:r}),t==null?void 0:t.label]})}const Oa={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},$h={input:Vk,default:Uk,output:qk,group:Wk};function Yk(t){var r,s,i,a;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((r=t.style)==null?void 0:r.width),height:t.height??t.initialHeight??((s=t.style)==null?void 0:s.height)}:{width:t.width??((i=t.style)==null?void 0:i.width),height:t.height??((a=t.style)==null?void 0:a.height)}}const Xk=t=>{const{width:r,height:s,x:i,y:a}=Fo(t.nodeLookup,{filter:u=>!!u.selected});return{width:Xt(r)?r:null,height:Xt(s)?s:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${i}px,${a}px)`}};function Gk({onSelectionContextMenu:t,noPanClassName:r,disableKeyboardA11y:s}){const i=Oe(),{width:a,height:u,transformString:c,userSelectionActive:p}=je(Xk,$e),h=wg(),g=F.useRef(null);if(F.useEffect(()=>{var x;s||(x=g.current)==null||x.focus({preventScroll:!0})},[s]),vg({nodeRef:g}),p||!a||!u)return null;const v=t?x=>{const k=i.getState().nodes.filter(S=>S.selected);t(x,k)}:void 0,y=x=>{Object.prototype.hasOwnProperty.call(Oa,x.key)&&(x.preventDefault(),h({direction:Oa[x.key],factor:x.shiftKey?4:1}))};return d.jsx("div",{className:Ge(["react-flow__nodesselection","react-flow__container",r]),style:{transform:c},children:d.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:s?void 0:-1,onKeyDown:s?void 0:y,style:{width:a,height:u}})})}const Oh=typeof window<"u"?window:void 0,Qk=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Sg({children:t,onPaneClick:r,onPaneMouseEnter:s,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,paneClickDistance:p,deleteKeyCode:h,selectionKeyCode:g,selectionOnDrag:v,selectionMode:y,onSelectionStart:x,onSelectionEnd:k,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:b,zoomOnScroll:D,zoomOnPinch:N,panOnScroll:_,panOnScrollSpeed:A,panOnScrollMode:R,zoomOnDoubleClick:$,panOnDrag:G,defaultViewport:Q,translateExtent:re,minZoom:U,maxZoom:Y,preventScrolling:Z,onSelectionContextMenu:P,noWheelClassName:q,noPanClassName:B,disableKeyboardA11y:H,onViewportChange:T,isControlledViewport:z}){const{nodesSelectionActive:V,userSelectionActive:j}=je(Qk,$e),L=Io(g,{target:Oh}),J=Io(E,{target:Oh}),ee=J||G,ae=J||_,le=v&&ee!==!0,ue=L||j||le;return Tk({deleteKeyCode:h,multiSelectionKeyCode:S}),d.jsx(zk,{onPaneContextMenu:u,elementsSelectable:b,zoomOnScroll:D,zoomOnPinch:N,panOnScroll:ae,panOnScrollSpeed:A,panOnScrollMode:R,zoomOnDoubleClick:$,panOnDrag:!L&&ee,defaultViewport:Q,translateExtent:re,minZoom:U,maxZoom:Y,zoomActivationKeyCode:C,preventScrolling:Z,noWheelClassName:q,noPanClassName:B,onViewportChange:T,isControlledViewport:z,paneClickDistance:p,selectionOnDrag:le,children:d.jsxs(Ak,{onSelectionStart:x,onSelectionEnd:k,onPaneClick:r,onPaneMouseEnter:s,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:ee,isSelecting:!!ue,selectionMode:y,selectionKeyPressed:L,paneClickDistance:p,selectionOnDrag:le,children:[t,V&&d.jsx(Gk,{onSelectionContextMenu:P,noPanClassName:B,disableKeyboardA11y:H})]})})}Sg.displayName="FlowRenderer";const Kk=F.memo(Sg),Zk=t=>r=>t?Hc(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(s=>s.id):Array.from(r.nodeLookup.keys());function Jk(t){return je(F.useCallback(Zk(t),[t]),$e)}const eS=t=>t.updateNodeInternals;function tS(){const t=je(eS),[r]=F.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(s=>{const i=new Map;s.forEach(a=>{const u=a.target.getAttribute("data-id");i.set(u,{id:u,nodeElement:a.target,force:!0})}),t(i)}));return F.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function nS({node:t,nodeType:r,hasDimensions:s,resizeObserver:i}){const a=Oe(),u=F.useRef(null),c=F.useRef(null),p=F.useRef(t.sourcePosition),h=F.useRef(t.targetPosition),g=F.useRef(r),v=s&&!!t.internals.handleBounds;return F.useEffect(()=>{u.current&&!t.hidden&&(!v||c.current!==u.current)&&(c.current&&(i==null||i.unobserve(c.current)),i==null||i.observe(u.current),c.current=u.current)},[v,t.hidden]),F.useEffect(()=>()=>{c.current&&(i==null||i.unobserve(c.current),c.current=null)},[]),F.useEffect(()=>{if(u.current){const y=g.current!==r,x=p.current!==t.sourcePosition,k=h.current!==t.targetPosition;(y||x||k)&&(g.current=r,p.current=t.sourcePosition,h.current=t.targetPosition,a.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:u.current,force:!0}]])))}},[t.id,r,t.sourcePosition,t.targetPosition]),u}function rS({id:t,onClick:r,onMouseEnter:s,onMouseMove:i,onMouseLeave:a,onContextMenu:u,onDoubleClick:c,nodesDraggable:p,elementsSelectable:h,nodesConnectable:g,nodesFocusable:v,resizeObserver:y,noDragClassName:x,noPanClassName:k,disableKeyboardA11y:S,rfId:E,nodeTypes:C,nodeClickDistance:b,onError:D}){const{node:N,internals:_,isParent:A}=je(te=>{const ce=te.nodeLookup.get(t),ke=te.parentLookup.has(t);return{node:ce,internals:ce.internals,isParent:ke}},$e);let R=N.type||"default",$=(C==null?void 0:C[R])||$h[R];$===void 0&&(D==null||D("003",on.error003(R)),R="default",$=(C==null?void 0:C.default)||$h.default);const G=!!(N.draggable||p&&typeof N.draggable>"u"),Q=!!(N.selectable||h&&typeof N.selectable>"u"),re=!!(N.connectable||g&&typeof N.connectable>"u"),U=!!(N.focusable||v&&typeof N.focusable>"u"),Y=Oe(),Z=Hm(N),P=nS({node:N,nodeType:R,hasDimensions:Z,resizeObserver:y}),q=vg({nodeRef:P,disabled:N.hidden||!G,noDragClassName:x,handleSelector:N.dragHandle,nodeId:t,isSelectable:Q,nodeClickDistance:b}),B=wg();if(N.hidden)return null;const H=bn(N),T=Yk(N),z=Q||G||r||s||i||a,V=s?te=>s(te,{..._.userNode}):void 0,j=i?te=>i(te,{..._.userNode}):void 0,L=a?te=>a(te,{..._.userNode}):void 0,J=u?te=>u(te,{..._.userNode}):void 0,ee=c?te=>c(te,{..._.userNode}):void 0,ae=te=>{const{selectNodesOnDrag:ce,nodeDragThreshold:ke}=Y.getState();Q&&(!ce||!G||ke>0)&&Mc({id:t,store:Y,nodeRef:P}),r&&r(te,{..._.userNode})},le=te=>{if(!(Wm(te.nativeEvent)||S)){if(zm.includes(te.key)&&Q){const ce=te.key==="Escape";Mc({id:t,store:Y,unselect:ce,nodeRef:P})}else if(G&&N.selected&&Object.prototype.hasOwnProperty.call(Oa,te.key)){te.preventDefault();const{ariaLabelConfig:ce}=Y.getState();Y.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),B({direction:Oa[te.key],factor:te.shiftKey?4:1})}}},ue=()=>{var _e;if(S||!((_e=P.current)!=null&&_e.matches(":focus-visible")))return;const{transform:te,width:ce,height:ke,autoPanOnNodeFocus:Ne,setCenter:Se}=Y.getState();if(!Ne)return;Hc(new Map([[t,N]]),{x:0,y:0,width:ce,height:ke},te,!0).length>0||Se(N.position.x+H.width/2,N.position.y+H.height/2,{zoom:te[2]})};return d.jsx("div",{className:Ge(["react-flow__node",`react-flow__node-${R}`,{[k]:G},N.className,{selected:N.selected,selectable:Q,parent:A,draggable:G,dragging:q}]),ref:P,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:z?"all":"none",visibility:Z?"visible":"hidden",...N.style,...T},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:V,onMouseMove:j,onMouseLeave:L,onContextMenu:J,onClick:ae,onDoubleClick:ee,onKeyDown:U?le:void 0,tabIndex:U?0:void 0,onFocus:U?ue:void 0,role:N.ariaRole??(U?"group":void 0),"aria-roledescription":"node","aria-describedby":S?void 0:`${dg}-${E}`,"aria-label":N.ariaLabel,...N.domAttributes,children:d.jsx(Ok,{value:t,children:d.jsx($,{id:t,data:N.data,type:R,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:N.selected??!1,selectable:Q,draggable:G,deletable:N.deletable??!0,isConnectable:re,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:q,dragHandle:N.dragHandle,zIndex:_.z,parentId:N.parentId,...H})})})}var sS=F.memo(rS);const oS=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Ng(t){const{nodesDraggable:r,nodesConnectable:s,nodesFocusable:i,elementsSelectable:a,onError:u}=je(oS,$e),c=Jk(t.onlyRenderVisibleElements),p=tS();return d.jsx("div",{className:"react-flow__nodes",style:Ja,children:c.map(h=>d.jsx(sS,{id:h,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:p,nodesDraggable:r,nodesConnectable:s,nodesFocusable:i,elementsSelectable:a,nodeClickDistance:t.nodeClickDistance,onError:u},h))})}Ng.displayName="NodeRenderer";const iS=F.memo(Ng);function aS(t){return je(F.useCallback(s=>{if(!t)return s.edges.map(a=>a.id);const i=[];if(s.width&&s.height)for(const a of s.edges){const u=s.nodeLookup.get(a.source),c=s.nodeLookup.get(a.target);u&&c&&i2({sourceNode:u,targetNode:c,width:s.width,height:s.height,transform:s.transform})&&i.push(a.id)}return i},[t]),$e)}const lS=({color:t="none",strokeWidth:r=1})=>{const s={strokeWidth:r,...t&&{stroke:t}};return d.jsx("polyline",{className:"arrow",style:s,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},uS=({color:t="none",strokeWidth:r=1})=>{const s={strokeWidth:r,...t&&{stroke:t,fill:t}};return d.jsx("polyline",{className:"arrowclosed",style:s,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Bh={[La.Arrow]:lS,[La.ArrowClosed]:uS};function cS(t){const r=Oe();return F.useMemo(()=>{var a,u;return Object.prototype.hasOwnProperty.call(Bh,t)?Bh[t]:((u=(a=r.getState()).onError)==null||u.call(a,"009",on.error009(t)),null)},[t])}const dS=({id:t,type:r,color:s,width:i=12.5,height:a=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:p="auto-start-reverse"})=>{const h=cS(r);return h?d.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${i}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:p,refX:"0",refY:"0",children:d.jsx(h,{color:s,strokeWidth:c})}):null},Eg=({defaultColor:t,rfId:r})=>{const s=je(u=>u.edges),i=je(u=>u.defaultEdgeOptions),a=F.useMemo(()=>p2(s,{id:r,defaultColor:t,defaultMarkerStart:i==null?void 0:i.markerStart,defaultMarkerEnd:i==null?void 0:i.markerEnd}),[s,i,r,t]);return a.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:a.map(u=>d.jsx(dS,{id:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,strokeWidth:u.strokeWidth,orient:u.orient},u.id))})}):null};Eg.displayName="MarkerDefinitions";var fS=F.memo(Eg);function Cg({x:t,y:r,label:s,labelStyle:i,labelShowBg:a=!0,labelBgStyle:u,labelBgPadding:c=[2,4],labelBgBorderRadius:p=2,children:h,className:g,...v}){const[y,x]=F.useState({x:1,y:0,width:0,height:0}),k=Ge(["react-flow__edge-textwrapper",g]),S=F.useRef(null);return F.useEffect(()=>{if(S.current){const E=S.current.getBBox();x({x:E.x,y:E.y,width:E.width,height:E.height})}},[s]),s?d.jsxs("g",{transform:`translate(${t-y.width/2} ${r-y.height/2})`,className:k,visibility:y.width?"visible":"hidden",...v,children:[a&&d.jsx("rect",{width:y.width+2*c[0],x:-c[0],y:-c[1],height:y.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:p,ry:p}),d.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:S,style:i,children:s}),h]}):null}Cg.displayName="EdgeText";const pS=F.memo(Cg);function el({path:t,labelX:r,labelY:s,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:p,labelBgBorderRadius:h,interactionWidth:g=20,...v}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...v,d:t,fill:"none",className:Ge(["react-flow__edge-path",v.className])}),g?d.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}):null,i&&Xt(r)&&Xt(s)?d.jsx(pS,{x:r,y:s,label:i,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:p,labelBgBorderRadius:h}):null]})}function Fh({pos:t,x1:r,y1:s,x2:i,y2:a}){return t===ge.Left||t===ge.Right?[.5*(r+i),s]:[r,.5*(s+a)]}function _g({sourceX:t,sourceY:r,sourcePosition:s=ge.Bottom,targetX:i,targetY:a,targetPosition:u=ge.Top}){const[c,p]=Fh({pos:s,x1:t,y1:r,x2:i,y2:a}),[h,g]=Fh({pos:u,x1:i,y1:a,x2:t,y2:r}),[v,y,x,k]=Ym({sourceX:t,sourceY:r,targetX:i,targetY:a,sourceControlX:c,sourceControlY:p,targetControlX:h,targetControlY:g});return[`M${t},${r} C${c},${p} ${h},${g} ${i},${a}`,v,y,x,k]}function bg(t){return F.memo(({id:r,sourceX:s,sourceY:i,targetX:a,targetY:u,sourcePosition:c,targetPosition:p,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:k,style:S,markerEnd:E,markerStart:C,interactionWidth:b})=>{const[D,N,_]=_g({sourceX:s,sourceY:i,sourcePosition:c,targetX:a,targetY:u,targetPosition:p}),A=t.isInternal?void 0:r;return d.jsx(el,{id:A,path:D,labelX:N,labelY:_,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:k,style:S,markerEnd:E,markerStart:C,interactionWidth:b})})}const hS=bg({isInternal:!1}),jg=bg({isInternal:!0});hS.displayName="SimpleBezierEdge";jg.displayName="SimpleBezierEdgeInternal";function Mg(t){return F.memo(({id:r,sourceX:s,sourceY:i,targetX:a,targetY:u,label:c,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,style:x,sourcePosition:k=ge.Bottom,targetPosition:S=ge.Top,markerEnd:E,markerStart:C,pathOptions:b,interactionWidth:D})=>{const[N,_,A]=Cc({sourceX:s,sourceY:i,sourcePosition:k,targetX:a,targetY:u,targetPosition:S,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset,stepPosition:b==null?void 0:b.stepPosition}),R=t.isInternal?void 0:r;return d.jsx(el,{id:R,path:N,labelX:_,labelY:A,label:c,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,style:x,markerEnd:E,markerStart:C,interactionWidth:D})})}const Tg=Mg({isInternal:!1}),Dg=Mg({isInternal:!0});Tg.displayName="SmoothStepEdge";Dg.displayName="SmoothStepEdgeInternal";function Pg(t){return F.memo(({id:r,...s})=>{var a;const i=t.isInternal?void 0:r;return d.jsx(Tg,{...s,id:i,pathOptions:F.useMemo(()=>{var u;return{borderRadius:0,offset:(u=s.pathOptions)==null?void 0:u.offset}},[(a=s.pathOptions)==null?void 0:a.offset])})})}const mS=Pg({isInternal:!1}),zg=Pg({isInternal:!0});mS.displayName="StepEdge";zg.displayName="StepEdgeInternal";function Ig(t){return F.memo(({id:r,sourceX:s,sourceY:i,targetX:a,targetY:u,label:c,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,style:x,markerEnd:k,markerStart:S,interactionWidth:E})=>{const[C,b,D]=Km({sourceX:s,sourceY:i,targetX:a,targetY:u}),N=t.isInternal?void 0:r;return d.jsx(el,{id:N,path:C,labelX:b,labelY:D,label:c,labelStyle:p,labelShowBg:h,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,style:x,markerEnd:k,markerStart:S,interactionWidth:E})})}const gS=Ig({isInternal:!1}),Rg=Ig({isInternal:!0});gS.displayName="StraightEdge";Rg.displayName="StraightEdgeInternal";function Lg(t){return F.memo(({id:r,sourceX:s,sourceY:i,targetX:a,targetY:u,sourcePosition:c=ge.Bottom,targetPosition:p=ge.Top,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:k,style:S,markerEnd:E,markerStart:C,pathOptions:b,interactionWidth:D})=>{const[N,_,A]=Xm({sourceX:s,sourceY:i,sourcePosition:c,targetX:a,targetY:u,targetPosition:p,curvature:b==null?void 0:b.curvature}),R=t.isInternal?void 0:r;return d.jsx(el,{id:R,path:N,labelX:_,labelY:A,label:h,labelStyle:g,labelShowBg:v,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:k,style:S,markerEnd:E,markerStart:C,interactionWidth:D})})}const yS=Lg({isInternal:!1}),Ag=Lg({isInternal:!0});yS.displayName="BezierEdge";Ag.displayName="BezierEdgeInternal";const Hh={default:Ag,straight:Rg,step:zg,smoothstep:Dg,simplebezier:jg},Vh={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},xS=(t,r,s)=>s===ge.Left?t-r:s===ge.Right?t+r:t,vS=(t,r,s)=>s===ge.Top?t-r:s===ge.Bottom?t+r:t,Uh="react-flow__edgeupdater";function Wh({position:t,centerX:r,centerY:s,radius:i=10,onMouseDown:a,onMouseEnter:u,onMouseOut:c,type:p}){return d.jsx("circle",{onMouseDown:a,onMouseEnter:u,onMouseOut:c,className:Ge([Uh,`${Uh}-${p}`]),cx:xS(r,i,t),cy:vS(s,i,t),r:i,stroke:"transparent",fill:"transparent"})}function wS({isReconnectable:t,reconnectRadius:r,edge:s,sourceX:i,sourceY:a,targetX:u,targetY:c,sourcePosition:p,targetPosition:h,onReconnect:g,onReconnectStart:v,onReconnectEnd:y,setReconnecting:x,setUpdateHover:k}){const S=Oe(),E=(_,A)=>{if(_.button!==0)return;const{autoPanOnConnect:R,domNode:$,isValidConnection:G,connectionMode:Q,connectionRadius:re,lib:U,onConnectStart:Y,onConnectEnd:Z,cancelConnection:P,nodeLookup:q,rfId:B,panBy:H,updateConnection:T}=S.getState(),z=A.type==="target",V=(J,ee)=>{x(!1),y==null||y(J,s,A.type,ee)},j=J=>g==null?void 0:g(s,J),L=(J,ee)=>{x(!0),v==null||v(_,s,A.type),Y==null||Y(J,ee)};jc.onPointerDown(_.nativeEvent,{autoPanOnConnect:R,connectionMode:Q,connectionRadius:re,domNode:$,handleId:A.id,nodeId:A.nodeId,nodeLookup:q,isTarget:z,edgeUpdaterType:A.type,lib:U,flowId:B,cancelConnection:P,panBy:H,isValidConnection:G,onConnect:j,onConnectStart:L,onConnectEnd:Z,onReconnectEnd:V,updateConnection:T,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,dragThreshold:S.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},C=_=>E(_,{nodeId:s.target,id:s.targetHandle??null,type:"target"}),b=_=>E(_,{nodeId:s.source,id:s.sourceHandle??null,type:"source"}),D=()=>k(!0),N=()=>k(!1);return d.jsxs(d.Fragment,{children:[(t===!0||t==="source")&&d.jsx(Wh,{position:p,centerX:i,centerY:a,radius:r,onMouseDown:C,onMouseEnter:D,onMouseOut:N,type:"source"}),(t===!0||t==="target")&&d.jsx(Wh,{position:h,centerX:u,centerY:c,radius:r,onMouseDown:b,onMouseEnter:D,onMouseOut:N,type:"target"})]})}function kS({id:t,edgesFocusable:r,edgesReconnectable:s,elementsSelectable:i,onClick:a,onDoubleClick:u,onContextMenu:c,onMouseEnter:p,onMouseMove:h,onMouseLeave:g,reconnectRadius:v,onReconnect:y,onReconnectStart:x,onReconnectEnd:k,rfId:S,edgeTypes:E,noPanClassName:C,onError:b,disableKeyboardA11y:D}){let N=je(Se=>Se.edgeLookup.get(t));const _=je(Se=>Se.defaultEdgeOptions);N=_?{..._,...N}:N;let A=N.type||"default",R=(E==null?void 0:E[A])||Hh[A];R===void 0&&(b==null||b("011",on.error011(A)),A="default",R=(E==null?void 0:E.default)||Hh.default);const $=!!(N.focusable||r&&typeof N.focusable>"u"),G=typeof y<"u"&&(N.reconnectable||s&&typeof N.reconnectable>"u"),Q=!!(N.selectable||i&&typeof N.selectable>"u"),re=F.useRef(null),[U,Y]=F.useState(!1),[Z,P]=F.useState(!1),q=Oe(),{zIndex:B,sourceX:H,sourceY:T,targetX:z,targetY:V,sourcePosition:j,targetPosition:L}=je(F.useCallback(Se=>{const xe=Se.nodeLookup.get(N.source),_e=Se.nodeLookup.get(N.target);if(!xe||!_e)return{zIndex:N.zIndex,...Vh};const Pe=f2({id:t,sourceNode:xe,targetNode:_e,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:Se.connectionMode,onError:b});return{zIndex:o2({selected:N.selected,zIndex:N.zIndex,sourceNode:xe,targetNode:_e,elevateOnSelect:Se.elevateEdgesOnSelect,zIndexMode:Se.zIndexMode}),...Pe||Vh}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),$e),J=F.useMemo(()=>N.markerStart?`url('#${_c(N.markerStart,S)}')`:void 0,[N.markerStart,S]),ee=F.useMemo(()=>N.markerEnd?`url('#${_c(N.markerEnd,S)}')`:void 0,[N.markerEnd,S]);if(N.hidden||H===null||T===null||z===null||V===null)return null;const ae=Se=>{var be;const{addSelectedEdges:xe,unselectNodesAndEdges:_e,multiSelectionActive:Pe}=q.getState();Q&&(q.setState({nodesSelectionActive:!1}),N.selected&&Pe?(_e({nodes:[],edges:[N]}),(be=re.current)==null||be.blur()):xe([t])),a&&a(Se,N)},le=u?Se=>{u(Se,{...N})}:void 0,ue=c?Se=>{c(Se,{...N})}:void 0,te=p?Se=>{p(Se,{...N})}:void 0,ce=h?Se=>{h(Se,{...N})}:void 0,ke=g?Se=>{g(Se,{...N})}:void 0,Ne=Se=>{var xe;if(!D&&zm.includes(Se.key)&&Q){const{unselectNodesAndEdges:_e,addSelectedEdges:Pe}=q.getState();Se.key==="Escape"?((xe=re.current)==null||xe.blur(),_e({edges:[N]})):Pe([t])}};return d.jsx("svg",{style:{zIndex:B},children:d.jsxs("g",{className:Ge(["react-flow__edge",`react-flow__edge-${A}`,N.className,C,{selected:N.selected,animated:N.animated,inactive:!Q&&!a,updating:U,selectable:Q}]),onClick:ae,onDoubleClick:le,onContextMenu:ue,onMouseEnter:te,onMouseMove:ce,onMouseLeave:ke,onKeyDown:$?Ne:void 0,tabIndex:$?0:void 0,role:N.ariaRole??($?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":$?`${fg}-${S}`:void 0,ref:re,...N.domAttributes,children:[!Z&&d.jsx(R,{id:t,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:Q,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:H,sourceY:T,targetX:z,targetY:V,sourcePosition:j,targetPosition:L,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:J,markerEnd:ee,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),G&&d.jsx(wS,{edge:N,isReconnectable:G,reconnectRadius:v,onReconnect:y,onReconnectStart:x,onReconnectEnd:k,sourceX:H,sourceY:T,targetX:z,targetY:V,sourcePosition:j,targetPosition:L,setUpdateHover:Y,setReconnecting:P})]})})}var SS=F.memo(kS);const NS=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function $g({defaultMarkerColor:t,onlyRenderVisibleElements:r,rfId:s,edgeTypes:i,noPanClassName:a,onReconnect:u,onEdgeContextMenu:c,onEdgeMouseEnter:p,onEdgeMouseMove:h,onEdgeMouseLeave:g,onEdgeClick:v,reconnectRadius:y,onEdgeDoubleClick:x,onReconnectStart:k,onReconnectEnd:S,disableKeyboardA11y:E}){const{edgesFocusable:C,edgesReconnectable:b,elementsSelectable:D,onError:N}=je(NS,$e),_=aS(r);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(fS,{defaultColor:t,rfId:s}),_.map(A=>d.jsx(SS,{id:A,edgesFocusable:C,edgesReconnectable:b,elementsSelectable:D,noPanClassName:a,onReconnect:u,onContextMenu:c,onMouseEnter:p,onMouseMove:h,onMouseLeave:g,onClick:v,reconnectRadius:y,onDoubleClick:x,onReconnectStart:k,onReconnectEnd:S,rfId:s,onError:N,edgeTypes:i,disableKeyboardA11y:E},A))]})}$g.displayName="EdgeRenderer";const ES=F.memo($g),CS=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function _S({children:t}){const r=je(CS);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:t})}function bS(t){const r=Uo(),s=F.useRef(!1);F.useEffect(()=>{!s.current&&r.viewportInitialized&&t&&(setTimeout(()=>t(r),1),s.current=!0)},[t,r.viewportInitialized])}const jS=t=>{var r;return(r=t.panZoom)==null?void 0:r.syncViewport};function MS(t){const r=je(jS),s=Oe();return F.useEffect(()=>{t&&(r==null||r(t),s.setState({transform:[t.x,t.y,t.zoom]}))},[t,r]),null}function TS(t){return t.connection.inProgress?{...t.connection,to:Vo(t.connection.to,t.transform)}:{...t.connection}}function DS(t){return TS}function PS(t){const r=DS();return je(r,$e)}const zS=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function IS({containerStyle:t,style:r,type:s,component:i}){const{nodesConnectable:a,width:u,height:c,isValid:p,inProgress:h}=je(zS,$e);return!(u&&a&&h)?null:d.jsx("svg",{style:t,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:Ge(["react-flow__connection",Lm(p)]),children:d.jsx(Og,{style:r,type:s,CustomComponent:i,isValid:p})})})}const Og=({style:t,type:r=Zn.Bezier,CustomComponent:s,isValid:i})=>{const{inProgress:a,from:u,fromNode:c,fromHandle:p,fromPosition:h,to:g,toNode:v,toHandle:y,toPosition:x,pointer:k}=PS();if(!a)return;if(s)return d.jsx(s,{connectionLineType:r,connectionLineStyle:t,fromNode:c,fromHandle:p,fromX:u.x,fromY:u.y,toX:g.x,toY:g.y,fromPosition:h,toPosition:x,connectionStatus:Lm(i),toNode:v,toHandle:y,pointer:k});let S="";const E={sourceX:u.x,sourceY:u.y,sourcePosition:h,targetX:g.x,targetY:g.y,targetPosition:x};switch(r){case Zn.Bezier:[S]=Xm(E);break;case Zn.SimpleBezier:[S]=_g(E);break;case Zn.Step:[S]=Cc({...E,borderRadius:0});break;case Zn.SmoothStep:[S]=Cc(E);break;default:[S]=Km(E)}return d.jsx("path",{d:S,fill:"none",className:"react-flow__connection-path",style:t})};Og.displayName="ConnectionLine";const RS={};function qh(t=RS){F.useRef(t),Oe(),F.useEffect(()=>{},[t])}function LS(){Oe(),F.useRef(!1),F.useEffect(()=>{},[])}function Bg({nodeTypes:t,edgeTypes:r,onInit:s,onNodeClick:i,onEdgeClick:a,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:p,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:v,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:k,connectionLineType:S,connectionLineStyle:E,connectionLineComponent:C,connectionLineContainerStyle:b,selectionKeyCode:D,selectionOnDrag:N,selectionMode:_,multiSelectionKeyCode:A,panActivationKeyCode:R,zoomActivationKeyCode:$,deleteKeyCode:G,onlyRenderVisibleElements:Q,elementsSelectable:re,defaultViewport:U,translateExtent:Y,minZoom:Z,maxZoom:P,preventScrolling:q,defaultMarkerColor:B,zoomOnScroll:H,zoomOnPinch:T,panOnScroll:z,panOnScrollSpeed:V,panOnScrollMode:j,zoomOnDoubleClick:L,panOnDrag:J,onPaneClick:ee,onPaneMouseEnter:ae,onPaneMouseMove:le,onPaneMouseLeave:ue,onPaneScroll:te,onPaneContextMenu:ce,paneClickDistance:ke,nodeClickDistance:Ne,onEdgeContextMenu:Se,onEdgeMouseEnter:xe,onEdgeMouseMove:_e,onEdgeMouseLeave:Pe,reconnectRadius:be,onReconnect:qe,onReconnectStart:Ot,onReconnectEnd:kt,noDragClassName:St,noWheelClassName:Dt,noPanClassName:cn,disableKeyboardA11y:jn,nodeExtent:Mr,rfId:er,viewport:dn,onViewportChange:fn}){return qh(t),qh(r),LS(),bS(s),MS(dn),d.jsx(Kk,{onPaneClick:ee,onPaneMouseEnter:ae,onPaneMouseMove:le,onPaneMouseLeave:ue,onPaneContextMenu:ce,onPaneScroll:te,paneClickDistance:ke,deleteKeyCode:G,selectionKeyCode:D,selectionOnDrag:N,selectionMode:_,onSelectionStart:x,onSelectionEnd:k,multiSelectionKeyCode:A,panActivationKeyCode:R,zoomActivationKeyCode:$,elementsSelectable:re,zoomOnScroll:H,zoomOnPinch:T,zoomOnDoubleClick:L,panOnScroll:z,panOnScrollSpeed:V,panOnScrollMode:j,panOnDrag:J,defaultViewport:U,translateExtent:Y,minZoom:Z,maxZoom:P,onSelectionContextMenu:y,preventScrolling:q,noDragClassName:St,noWheelClassName:Dt,noPanClassName:cn,disableKeyboardA11y:jn,onViewportChange:fn,isControlledViewport:!!dn,children:d.jsxs(_S,{children:[d.jsx(ES,{edgeTypes:r,onEdgeClick:a,onEdgeDoubleClick:c,onReconnect:qe,onReconnectStart:Ot,onReconnectEnd:kt,onlyRenderVisibleElements:Q,onEdgeContextMenu:Se,onEdgeMouseEnter:xe,onEdgeMouseMove:_e,onEdgeMouseLeave:Pe,reconnectRadius:be,defaultMarkerColor:B,noPanClassName:cn,disableKeyboardA11y:jn,rfId:er}),d.jsx(IS,{style:E,type:S,component:C,containerStyle:b}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(iS,{nodeTypes:t,onNodeClick:i,onNodeDoubleClick:u,onNodeMouseEnter:p,onNodeMouseMove:h,onNodeMouseLeave:g,onNodeContextMenu:v,nodeClickDistance:Ne,onlyRenderVisibleElements:Q,noPanClassName:cn,noDragClassName:St,disableKeyboardA11y:jn,nodeExtent:Mr,rfId:er}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}Bg.displayName="GraphView";const AS=F.memo(Bg),Yh=({nodes:t,edges:r,defaultNodes:s,defaultEdges:i,width:a,height:u,fitView:c,fitViewOptions:p,minZoom:h=.5,maxZoom:g=2,nodeOrigin:v,nodeExtent:y,zIndexMode:x="basic"}={})=>{const k=new Map,S=new Map,E=new Map,C=new Map,b=i??r??[],D=s??t??[],N=v??[0,0],_=y??To;eg(E,C,b);const A=bc(D,k,S,{nodeOrigin:N,nodeExtent:_,zIndexMode:x});let R=[0,0,1];if(c&&a&&u){const $=Fo(k,{filter:U=>!!((U.width||U.initialWidth)&&(U.height||U.initialHeight))}),{x:G,y:Q,zoom:re}=Vc($,a,u,h,g,(p==null?void 0:p.padding)??.1);R=[G,Q,re]}return{rfId:"1",width:a??0,height:u??0,transform:R,nodes:D,nodesInitialized:A,nodeLookup:k,parentLookup:S,edges:b,edgeLookup:C,connectionLookup:E,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:s!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:h,maxZoom:g,translateExtent:To,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:hs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:p,fitViewResolver:null,connection:{...Rm},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Jw,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Im,zIndexMode:x,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},$S=({nodes:t,edges:r,defaultNodes:s,defaultEdges:i,width:a,height:u,fitView:c,fitViewOptions:p,minZoom:h,maxZoom:g,nodeOrigin:v,nodeExtent:y,zIndexMode:x})=>nk((k,S)=>{async function E(){const{nodeLookup:C,panZoom:b,fitViewOptions:D,fitViewResolver:N,width:_,height:A,minZoom:R,maxZoom:$}=S();b&&(await Kw({nodes:C,width:_,height:A,panZoom:b,minZoom:R,maxZoom:$},D),N==null||N.resolve(!0),k({fitViewResolver:null}))}return{...Yh({nodes:t,edges:r,width:a,height:u,fitView:c,fitViewOptions:p,minZoom:h,maxZoom:g,nodeOrigin:v,nodeExtent:y,defaultNodes:s,defaultEdges:i,zIndexMode:x}),setNodes:C=>{const{nodeLookup:b,parentLookup:D,nodeOrigin:N,elevateNodesOnSelect:_,fitViewQueued:A,zIndexMode:R}=S(),$=bc(C,b,D,{nodeOrigin:N,nodeExtent:y,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:R});A&&$?(E(),k({nodes:C,nodesInitialized:$,fitViewQueued:!1,fitViewOptions:void 0})):k({nodes:C,nodesInitialized:$})},setEdges:C=>{const{connectionLookup:b,edgeLookup:D}=S();eg(b,D,C),k({edges:C})},setDefaultNodesAndEdges:(C,b)=>{if(C){const{setNodes:D}=S();D(C),k({hasDefaultNodes:!0})}if(b){const{setEdges:D}=S();D(b),k({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:b,nodeLookup:D,parentLookup:N,domNode:_,nodeOrigin:A,nodeExtent:R,debug:$,fitViewQueued:G,zIndexMode:Q}=S(),{changes:re,updatedInternals:U}=w2(C,D,N,_,A,R,Q);U&&(g2(D,N,{nodeOrigin:A,nodeExtent:R,zIndexMode:Q}),G?(E(),k({fitViewQueued:!1,fitViewOptions:void 0})):k({}),(re==null?void 0:re.length)>0&&($&&console.log("React Flow: trigger node changes",re),b==null||b(re)))},updateNodePositions:(C,b=!1)=>{const D=[];let N=[];const{nodeLookup:_,triggerNodeChanges:A,connection:R,updateConnection:$,onNodesChangeMiddlewareMap:G}=S();for(const[Q,re]of C){const U=_.get(Q),Y=!!(U!=null&&U.expandParent&&(U!=null&&U.parentId)&&(re!=null&&re.position)),Z={id:Q,type:"position",position:Y?{x:Math.max(0,re.position.x),y:Math.max(0,re.position.y)}:re.position,dragging:b};if(U&&R.inProgress&&R.fromNode.id===U.id){const P=jr(U,R.fromHandle,ge.Left,!0);$({...R,from:P})}Y&&U.parentId&&D.push({id:Q,parentId:U.parentId,rect:{...re.internals.positionAbsolute,width:re.measured.width??0,height:re.measured.height??0}}),N.push(Z)}if(D.length>0){const{parentLookup:Q,nodeOrigin:re}=S(),U=Gc(D,_,Q,re);N.push(...U)}for(const Q of G.values())N=Q(N);A(N)},triggerNodeChanges:C=>{const{onNodesChange:b,setNodes:D,nodes:N,hasDefaultNodes:_,debug:A}=S();if(C!=null&&C.length){if(_){const R=mg(C,N);D(R)}A&&console.log("React Flow: trigger node changes",C),b==null||b(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:b,setEdges:D,edges:N,hasDefaultEdges:_,debug:A}=S();if(C!=null&&C.length){if(_){const R=gg(C,N);D(R)}A&&console.log("React Flow: trigger edge changes",C),b==null||b(C)}},addSelectedNodes:C=>{const{multiSelectionActive:b,edgeLookup:D,nodeLookup:N,triggerNodeChanges:_,triggerEdgeChanges:A}=S();if(b){const R=C.map($=>wr($,!0));_(R);return}_(us(N,new Set([...C]),!0)),A(us(D))},addSelectedEdges:C=>{const{multiSelectionActive:b,edgeLookup:D,nodeLookup:N,triggerNodeChanges:_,triggerEdgeChanges:A}=S();if(b){const R=C.map($=>wr($,!0));A(R);return}A(us(D,new Set([...C]))),_(us(N,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:b}={})=>{const{edges:D,nodes:N,nodeLookup:_,triggerNodeChanges:A,triggerEdgeChanges:R}=S(),$=C||N,G=b||D,Q=$.map(U=>{const Y=_.get(U.id);return Y&&(Y.selected=!1),wr(U.id,!1)}),re=G.map(U=>wr(U.id,!1));A(Q),R(re)},setMinZoom:C=>{const{panZoom:b,maxZoom:D}=S();b==null||b.setScaleExtent([C,D]),k({minZoom:C})},setMaxZoom:C=>{const{panZoom:b,minZoom:D}=S();b==null||b.setScaleExtent([D,C]),k({maxZoom:C})},setTranslateExtent:C=>{var b;(b=S().panZoom)==null||b.setTranslateExtent(C),k({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:b,triggerNodeChanges:D,triggerEdgeChanges:N,elementsSelectable:_}=S();if(!_)return;const A=b.reduce(($,G)=>G.selected?[...$,wr(G.id,!1)]:$,[]),R=C.reduce(($,G)=>G.selected?[...$,wr(G.id,!1)]:$,[]);D(A),N(R)},setNodeExtent:C=>{const{nodes:b,nodeLookup:D,parentLookup:N,nodeOrigin:_,elevateNodesOnSelect:A,nodeExtent:R,zIndexMode:$}=S();C[0][0]===R[0][0]&&C[0][1]===R[0][1]&&C[1][0]===R[1][0]&&C[1][1]===R[1][1]||(bc(b,D,N,{nodeOrigin:_,nodeExtent:C,elevateNodesOnSelect:A,checkEquality:!1,zIndexMode:$}),k({nodeExtent:C}))},panBy:C=>{const{transform:b,width:D,height:N,panZoom:_,translateExtent:A}=S();return k2({delta:C,panZoom:_,transform:b,translateExtent:A,width:D,height:N})},setCenter:async(C,b,D)=>{const{width:N,height:_,maxZoom:A,panZoom:R}=S();if(!R)return Promise.resolve(!1);const $=typeof(D==null?void 0:D.zoom)<"u"?D.zoom:A;return await R.setViewport({x:N/2-C*$,y:_/2-b*$,zoom:$},{duration:D==null?void 0:D.duration,ease:D==null?void 0:D.ease,interpolate:D==null?void 0:D.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{k({connection:{...Rm}})},updateConnection:C=>{k({connection:C})},reset:()=>k({...Yh()})}},Object.is);function Fg({initialNodes:t,initialEdges:r,defaultNodes:s,defaultEdges:i,initialWidth:a,initialHeight:u,initialMinZoom:c,initialMaxZoom:p,initialFitViewOptions:h,fitView:g,nodeOrigin:v,nodeExtent:y,zIndexMode:x,children:k}){const[S]=F.useState(()=>$S({nodes:t,edges:r,defaultNodes:s,defaultEdges:i,width:a,height:u,fitView:g,minZoom:c,maxZoom:p,fitViewOptions:h,nodeOrigin:v,nodeExtent:y,zIndexMode:x}));return d.jsx(rk,{value:S,children:d.jsx(_k,{children:k})})}function OS({children:t,nodes:r,edges:s,defaultNodes:i,defaultEdges:a,width:u,height:c,fitView:p,fitViewOptions:h,minZoom:g,maxZoom:v,nodeOrigin:y,nodeExtent:x,zIndexMode:k}){return F.useContext(Ka)?d.jsx(d.Fragment,{children:t}):d.jsx(Fg,{initialNodes:r,initialEdges:s,defaultNodes:i,defaultEdges:a,initialWidth:u,initialHeight:c,fitView:p,initialFitViewOptions:h,initialMinZoom:g,initialMaxZoom:v,nodeOrigin:y,nodeExtent:x,zIndexMode:k,children:t})}const BS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function FS({nodes:t,edges:r,defaultNodes:s,defaultEdges:i,className:a,nodeTypes:u,edgeTypes:c,onNodeClick:p,onEdgeClick:h,onInit:g,onMove:v,onMoveStart:y,onMoveEnd:x,onConnect:k,onConnectStart:S,onConnectEnd:E,onClickConnectStart:C,onClickConnectEnd:b,onNodeMouseEnter:D,onNodeMouseMove:N,onNodeMouseLeave:_,onNodeContextMenu:A,onNodeDoubleClick:R,onNodeDragStart:$,onNodeDrag:G,onNodeDragStop:Q,onNodesDelete:re,onEdgesDelete:U,onDelete:Y,onSelectionChange:Z,onSelectionDragStart:P,onSelectionDrag:q,onSelectionDragStop:B,onSelectionContextMenu:H,onSelectionStart:T,onSelectionEnd:z,onBeforeDelete:V,connectionMode:j,connectionLineType:L=Zn.Bezier,connectionLineStyle:J,connectionLineComponent:ee,connectionLineContainerStyle:ae,deleteKeyCode:le="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:te=!1,selectionMode:ce=Do.Full,panActivationKeyCode:ke="Space",multiSelectionKeyCode:Ne=zo()?"Meta":"Control",zoomActivationKeyCode:Se=zo()?"Meta":"Control",snapToGrid:xe,snapGrid:_e,onlyRenderVisibleElements:Pe=!1,selectNodesOnDrag:be,nodesDraggable:qe,autoPanOnNodeFocus:Ot,nodesConnectable:kt,nodesFocusable:St,nodeOrigin:Dt=pg,edgesFocusable:cn,edgesReconnectable:jn,elementsSelectable:Mr=!0,defaultViewport:er=gk,minZoom:dn=.5,maxZoom:fn=2,translateExtent:tr=To,preventScrolling:qo=!0,nodeExtent:pn,defaultMarkerColor:nr="#b1b1b7",zoomOnScroll:rl=!0,zoomOnPinch:Yo=!0,panOnScroll:Xo=!1,panOnScrollSpeed:sl=.5,panOnScrollMode:Ns=Nr.Free,zoomOnDoubleClick:Es=!0,panOnDrag:Cs=!0,onPaneClick:_s,onPaneMouseEnter:bs,onPaneMouseMove:Mn,onPaneMouseLeave:Tn,onPaneScroll:Go,onPaneContextMenu:Qo,paneClickDistance:Ko=1,nodeClickDistance:Zo=0,children:Jo,onReconnect:js,onReconnectStart:ei,onReconnectEnd:rr,onEdgeContextMenu:Ms,onEdgeDoubleClick:sr,onEdgeMouseEnter:ol,onEdgeMouseMove:or,onEdgeMouseLeave:Tr,reconnectRadius:Dr=10,onNodesChange:Ts,onEdgesChange:il,noDragClassName:al="nodrag",noWheelClassName:ll="nowheel",noPanClassName:Kt="nopan",fitView:Ds,fitViewOptions:Ps,connectOnClick:ul,attributionPosition:ti,proOptions:ni,defaultEdgeOptions:ri,elevateNodesOnSelect:si=!0,elevateEdgesOnSelect:cl=!1,disableKeyboardA11y:oi=!1,autoPanOnConnect:Be,autoPanOnNodeDrag:dl,autoPanSpeed:zs,connectionRadius:ii,isValidConnection:Pr,onError:fl,style:ai,id:ir,nodeDragThreshold:Pt,connectionDragThreshold:pl,viewport:Nt,onViewportChange:hl,width:ml,height:gl,colorMode:zr="light",debug:Ir,onScroll:Zt,ariaLabelConfig:Rr,zIndexMode:li="basic",...yl},Is){const Lr=ir||"1",Rs=wk(zr),ar=F.useCallback(ui=>{ui.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Zt==null||Zt(ui)},[Zt]);return d.jsx("div",{"data-testid":"rf__wrapper",...yl,onScroll:ar,style:{...ai,...BS},ref:Is,className:Ge(["react-flow",a,Rs]),id:ir,role:"application",children:d.jsxs(OS,{nodes:t,edges:r,width:ml,height:gl,fitView:Ds,fitViewOptions:Ps,minZoom:dn,maxZoom:fn,nodeOrigin:Dt,nodeExtent:pn,zIndexMode:li,children:[d.jsx(AS,{onInit:g,onNodeClick:p,onEdgeClick:h,onNodeMouseEnter:D,onNodeMouseMove:N,onNodeMouseLeave:_,onNodeContextMenu:A,onNodeDoubleClick:R,nodeTypes:u,edgeTypes:c,connectionLineType:L,connectionLineStyle:J,connectionLineComponent:ee,connectionLineContainerStyle:ae,selectionKeyCode:ue,selectionOnDrag:te,selectionMode:ce,deleteKeyCode:le,multiSelectionKeyCode:Ne,panActivationKeyCode:ke,zoomActivationKeyCode:Se,onlyRenderVisibleElements:Pe,defaultViewport:er,translateExtent:tr,minZoom:dn,maxZoom:fn,preventScrolling:qo,zoomOnScroll:rl,zoomOnPinch:Yo,zoomOnDoubleClick:Es,panOnScroll:Xo,panOnScrollSpeed:sl,panOnScrollMode:Ns,panOnDrag:Cs,onPaneClick:_s,onPaneMouseEnter:bs,onPaneMouseMove:Mn,onPaneMouseLeave:Tn,onPaneScroll:Go,onPaneContextMenu:Qo,paneClickDistance:Ko,nodeClickDistance:Zo,onSelectionContextMenu:H,onSelectionStart:T,onSelectionEnd:z,onReconnect:js,onReconnectStart:ei,onReconnectEnd:rr,onEdgeContextMenu:Ms,onEdgeDoubleClick:sr,onEdgeMouseEnter:ol,onEdgeMouseMove:or,onEdgeMouseLeave:Tr,reconnectRadius:Dr,defaultMarkerColor:nr,noDragClassName:al,noWheelClassName:ll,noPanClassName:Kt,rfId:Lr,disableKeyboardA11y:oi,nodeExtent:pn,viewport:Nt,onViewportChange:hl}),d.jsx(vk,{nodes:t,edges:r,defaultNodes:s,defaultEdges:i,onConnect:k,onConnectStart:S,onConnectEnd:E,onClickConnectStart:C,onClickConnectEnd:b,nodesDraggable:qe,autoPanOnNodeFocus:Ot,nodesConnectable:kt,nodesFocusable:St,edgesFocusable:cn,edgesReconnectable:jn,elementsSelectable:Mr,elevateNodesOnSelect:si,elevateEdgesOnSelect:cl,minZoom:dn,maxZoom:fn,nodeExtent:pn,onNodesChange:Ts,onEdgesChange:il,snapToGrid:xe,snapGrid:_e,connectionMode:j,translateExtent:tr,connectOnClick:ul,defaultEdgeOptions:ri,fitView:Ds,fitViewOptions:Ps,onNodesDelete:re,onEdgesDelete:U,onDelete:Y,onNodeDragStart:$,onNodeDrag:G,onNodeDragStop:Q,onSelectionDrag:q,onSelectionDragStart:P,onSelectionDragStop:B,onMove:v,onMoveStart:y,onMoveEnd:x,noPanClassName:Kt,nodeOrigin:Dt,rfId:Lr,autoPanOnConnect:Be,autoPanOnNodeDrag:dl,autoPanSpeed:zs,onError:fl,connectionRadius:ii,isValidConnection:Pr,selectNodesOnDrag:be,nodeDragThreshold:Pt,connectionDragThreshold:pl,onBeforeDelete:V,debug:Ir,ariaLabelConfig:Rr,zIndexMode:li}),d.jsx(mk,{onSelectionChange:Z}),Jo,d.jsx(ck,{proOptions:ni,position:ti}),d.jsx(uk,{rfId:Lr,disableKeyboardA11y:oi})]})})}var HS=yg(FS);function VS({dimensions:t,lineWidth:r,variant:s,className:i}){return d.jsx("path",{strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Ge(["react-flow__background-pattern",s,i])})}function US({radius:t,className:r}){return d.jsx("circle",{cx:t,cy:t,r:t,className:Ge(["react-flow__background-pattern","dots",r])})}var Cn;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Cn||(Cn={}));const WS={[Cn.Dots]:1,[Cn.Lines]:1,[Cn.Cross]:6},qS=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Hg({id:t,variant:r=Cn.Dots,gap:s=20,size:i,lineWidth:a=1,offset:u=0,color:c,bgColor:p,style:h,className:g,patternClassName:v}){const y=F.useRef(null),{transform:x,patternId:k}=je(qS,$e),S=i||WS[r],E=r===Cn.Dots,C=r===Cn.Cross,b=Array.isArray(s)?s:[s,s],D=[b[0]*x[2]||1,b[1]*x[2]||1],N=S*x[2],_=Array.isArray(u)?u:[u,u],A=C?[N,N]:D,R=[_[0]*x[2]||1+A[0]/2,_[1]*x[2]||1+A[1]/2],$=`${k}${t||""}`;return d.jsxs("svg",{className:Ge(["react-flow__background",g]),style:{...h,...Ja,"--xy-background-color-props":p,"--xy-background-pattern-color-props":c},ref:y,"data-testid":"rf__background",children:[d.jsx("pattern",{id:$,x:x[0]%D[0],y:x[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${R[0]},-${R[1]})`,children:E?d.jsx(US,{radius:N/2,className:v}):d.jsx(VS,{dimensions:A,lineWidth:a,variant:r,className:v})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${$})`})]})}Hg.displayName="Background";const YS=F.memo(Hg);function XS(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function GS(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function QS(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function KS(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ZS(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function va({children:t,className:r,...s}){return d.jsx("button",{type:"button",className:Ge(["react-flow__controls-button",r]),...s,children:t})}const JS=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Vg({style:t,showZoom:r=!0,showFitView:s=!0,showInteractive:i=!0,fitViewOptions:a,onZoomIn:u,onZoomOut:c,onFitView:p,onInteractiveChange:h,className:g,children:v,position:y="bottom-left",orientation:x="vertical","aria-label":k}){const S=Oe(),{isInteractive:E,minZoomReached:C,maxZoomReached:b,ariaLabelConfig:D}=je(JS,$e),{zoomIn:N,zoomOut:_,fitView:A}=Uo(),R=()=>{N(),u==null||u()},$=()=>{_(),c==null||c()},G=()=>{A(a),p==null||p()},Q=()=>{S.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),h==null||h(!E)},re=x==="horizontal"?"horizontal":"vertical";return d.jsxs(Za,{className:Ge(["react-flow__controls",re,g]),position:y,style:t,"data-testid":"rf__controls","aria-label":k??D["controls.ariaLabel"],children:[r&&d.jsxs(d.Fragment,{children:[d.jsx(va,{onClick:R,className:"react-flow__controls-zoomin",title:D["controls.zoomIn.ariaLabel"],"aria-label":D["controls.zoomIn.ariaLabel"],disabled:b,children:d.jsx(XS,{})}),d.jsx(va,{onClick:$,className:"react-flow__controls-zoomout",title:D["controls.zoomOut.ariaLabel"],"aria-label":D["controls.zoomOut.ariaLabel"],disabled:C,children:d.jsx(GS,{})})]}),s&&d.jsx(va,{className:"react-flow__controls-fitview",onClick:G,title:D["controls.fitView.ariaLabel"],"aria-label":D["controls.fitView.ariaLabel"],children:d.jsx(QS,{})}),i&&d.jsx(va,{className:"react-flow__controls-interactive",onClick:Q,title:D["controls.interactive.ariaLabel"],"aria-label":D["controls.interactive.ariaLabel"],children:E?d.jsx(ZS,{}):d.jsx(KS,{})}),v]})}Vg.displayName="Controls";const eN=F.memo(Vg);function tN({id:t,x:r,y:s,width:i,height:a,style:u,color:c,strokeColor:p,strokeWidth:h,className:g,borderRadius:v,shapeRendering:y,selected:x,onClick:k}){const{background:S,backgroundColor:E}=u||{},C=c||S||E;return d.jsx("rect",{className:Ge(["react-flow__minimap-node",{selected:x},g]),x:r,y:s,rx:v,ry:v,width:i,height:a,style:{fill:C,stroke:p,strokeWidth:h},shapeRendering:y,onClick:k?b=>k(b,t):void 0})}const nN=F.memo(tN),rN=t=>t.nodes.map(r=>r.id),fc=t=>t instanceof Function?t:()=>t;function sN({nodeStrokeColor:t,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:u=nN,onClick:c}){const p=je(rN,$e),h=fc(r),g=fc(t),v=fc(s),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:p.map(x=>d.jsx(iN,{id:x,nodeColorFunc:h,nodeStrokeColorFunc:g,nodeClassNameFunc:v,nodeBorderRadius:i,nodeStrokeWidth:a,NodeComponent:u,onClick:c,shapeRendering:y},x))})}function oN({id:t,nodeColorFunc:r,nodeStrokeColorFunc:s,nodeClassNameFunc:i,nodeBorderRadius:a,nodeStrokeWidth:u,shapeRendering:c,NodeComponent:p,onClick:h}){const{node:g,x:v,y,width:x,height:k}=je(S=>{const{internals:E}=S.nodeLookup.get(t),C=E.userNode,{x:b,y:D}=E.positionAbsolute,{width:N,height:_}=bn(C);return{node:C,x:b,y:D,width:N,height:_}},$e);return!g||g.hidden||!Hm(g)?null:d.jsx(p,{x:v,y,width:x,height:k,style:g.style,selected:!!g.selected,className:i(g),color:r(g),borderRadius:a,strokeColor:s(g),strokeWidth:u,shapeRendering:c,onClick:h,id:g.id})}const iN=F.memo(oN);var aN=F.memo(sN);const lN=200,uN=150,cN=t=>!t.hidden,dN=t=>{const r={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:r,boundingRect:t.nodeLookup.size>0?Fm(Fo(t.nodeLookup,{filter:cN}),r):r,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},fN="react-flow__minimap-desc";function Ug({style:t,className:r,nodeStrokeColor:s,nodeColor:i,nodeClassName:a="",nodeBorderRadius:u=5,nodeStrokeWidth:c,nodeComponent:p,bgColor:h,maskColor:g,maskStrokeColor:v,maskStrokeWidth:y,position:x="bottom-right",onClick:k,onNodeClick:S,pannable:E=!1,zoomable:C=!1,ariaLabel:b,inversePan:D,zoomStep:N=1,offsetScale:_=5}){const A=Oe(),R=F.useRef(null),{boundingRect:$,viewBB:G,rfId:Q,panZoom:re,translateExtent:U,flowWidth:Y,flowHeight:Z,ariaLabelConfig:P}=je(dN,$e),q=(t==null?void 0:t.width)??lN,B=(t==null?void 0:t.height)??uN,H=$.width/q,T=$.height/B,z=Math.max(H,T),V=z*q,j=z*B,L=_*z,J=$.x-(V-$.width)/2-L,ee=$.y-(j-$.height)/2-L,ae=V+L*2,le=j+L*2,ue=`${fN}-${Q}`,te=F.useRef(0),ce=F.useRef();te.current=z,F.useEffect(()=>{if(R.current&&re)return ce.current=T2({domNode:R.current,panZoom:re,getTransform:()=>A.getState().transform,getViewScale:()=>te.current}),()=>{var xe;(xe=ce.current)==null||xe.destroy()}},[re]),F.useEffect(()=>{var xe;(xe=ce.current)==null||xe.update({translateExtent:U,width:Y,height:Z,inversePan:D,pannable:E,zoomStep:N,zoomable:C})},[E,C,D,N,U,Y,Z]);const ke=k?xe=>{var be;const[_e,Pe]=((be=ce.current)==null?void 0:be.pointer(xe))||[0,0];k(xe,{x:_e,y:Pe})}:void 0,Ne=S?F.useCallback((xe,_e)=>{const Pe=A.getState().nodeLookup.get(_e).internals.userNode;S(xe,Pe)},[]):void 0,Se=b??P["minimap.ariaLabel"];return d.jsx(Za,{position:x,style:{...t,"--xy-minimap-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof v=="string"?v:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*z:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:Ge(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:q,height:B,viewBox:`${J} ${ee} ${ae} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ue,ref:R,onClick:ke,children:[Se&&d.jsx("title",{id:ue,children:Se}),d.jsx(aN,{onClick:Ne,nodeColor:i,nodeStrokeColor:s,nodeBorderRadius:u,nodeClassName:a,nodeStrokeWidth:c,nodeComponent:p}),d.jsx("path",{className:"react-flow__minimap-mask",d:`M${J-L},${ee-L}h${ae+L*2}v${le+L*2}h${-ae-L*2}z
        M${G.x},${G.y}h${G.width}v${G.height}h${-G.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ug.displayName="MiniMap";const pN=F.memo(Ug),hN=t=>r=>t?`${Math.max(1/r.transform[2],1)}`:void 0,mN={[xs.Line]:"right",[xs.Handle]:"bottom-right"};function gN({nodeId:t,position:r,variant:s=xs.Handle,className:i,style:a=void 0,children:u,color:c,minWidth:p=10,minHeight:h=10,maxWidth:g=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:x,autoScale:k=!0,shouldResize:S,onResizeStart:E,onResize:C,onResizeEnd:b}){const D=kg(),N=typeof t=="string"?t:D,_=Oe(),A=F.useRef(null),R=s===xs.Handle,$=je(F.useCallback(hN(R&&k),[R,k]),$e),G=F.useRef(null),Q=r??mN[s];F.useEffect(()=>{if(!(!A.current||!N))return G.current||(G.current=U2({domNode:A.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:U,transform:Y,snapGrid:Z,snapToGrid:P,nodeOrigin:q,domNode:B}=_.getState();return{nodeLookup:U,transform:Y,snapGrid:Z,snapToGrid:P,nodeOrigin:q,paneDomNode:B}},onChange:(U,Y)=>{const{triggerNodeChanges:Z,nodeLookup:P,parentLookup:q,nodeOrigin:B}=_.getState(),H=[],T={x:U.x,y:U.y},z=P.get(N);if(z&&z.expandParent&&z.parentId){const V=z.origin??B,j=U.width??z.measured.width??0,L=U.height??z.measured.height??0,J={id:z.id,parentId:z.parentId,rect:{width:j,height:L,...Vm({x:U.x??z.position.x,y:U.y??z.position.y},{width:j,height:L},z.parentId,P,V)}},ee=Gc([J],P,q,B);H.push(...ee),T.x=U.x?Math.max(V[0]*j,U.x):void 0,T.y=U.y?Math.max(V[1]*L,U.y):void 0}if(T.x!==void 0&&T.y!==void 0){const V={id:N,type:"position",position:{...T}};H.push(V)}if(U.width!==void 0&&U.height!==void 0){const j={id:N,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:U.width,height:U.height}};H.push(j)}for(const V of Y){const j={...V,type:"position"};H.push(j)}Z(H)},onEnd:({width:U,height:Y})=>{const Z={id:N,type:"dimensions",resizing:!1,dimensions:{width:U,height:Y}};_.getState().triggerNodeChanges([Z])}})),G.current.update({controlPosition:Q,boundaries:{minWidth:p,minHeight:h,maxWidth:g,maxHeight:v},keepAspectRatio:y,resizeDirection:x,onResizeStart:E,onResize:C,onResizeEnd:b,shouldResize:S}),()=>{var U;(U=G.current)==null||U.destroy()}},[Q,p,h,g,v,y,E,C,b,S]);const re=Q.split("-");return d.jsx("div",{className:Ge(["react-flow__resize-control","nodrag",...re,s,i]),ref:A,style:{...a,scale:$,...c&&{[R?"backgroundColor":"borderColor"]:c}},children:u})}F.memo(gN);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wg=(...t)=>t.filter((r,s,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=F.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:u,iconNode:c,...p},h)=>F.createElement("svg",{ref:h,...xN,width:r,height:r,stroke:t,strokeWidth:i?Number(s)*24/Number(r):s,className:Wg("lucide",a),...p},[...c.map(([g,v])=>F.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,r)=>{const s=F.forwardRef(({className:i,...a},u)=>F.createElement(vN,{ref:u,iconNode:r,className:Wg(`lucide-${yN(t)}`,i),...a}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ye("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ye("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ye("Binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ye("Cable",[["path",{d:"M17 21v-2a1 1 0 0 1-1-1v-1a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1",key:"10bnsj"}],["path",{d:"M19 15V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V9",key:"1eqmu1"}],["path",{d:"M21 21v-2h-4",key:"14zm7j"}],["path",{d:"M3 5h4V3",key:"z442eg"}],["path",{d:"M7 5a1 1 0 0 1 1 1v1a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1V3",key:"ebdjd7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ye("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ye("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ye("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ye("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ye("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ye("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ye("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ye("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ye("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ye("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ye("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ye("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ye("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ye("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ye("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=ye("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ie=F.forwardRef(({className:t="",variant:r="primary",size:s="md",children:i,...a},u)=>{const c="inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",p={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},h={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return d.jsx("button",{ref:u,className:`${c} ${p[r]} ${h[s]} ${t}`,...a,children:i})});Ie.displayName="Button";const Xh=t=>{let r;const s=new Set,i=(g,v)=>{const y=typeof g=="function"?g(r):g;if(!Object.is(y,r)){const x=r;r=v??(typeof y!="object"||y===null)?y:Object.assign({},r,y),s.forEach(k=>k(r,x))}},a=()=>r,p={setState:i,getState:a,getInitialState:()=>h,subscribe:g=>(s.add(g),()=>s.delete(g))},h=r=t(i,a,p);return p},IN=(t=>t?Xh(t):Xh),RN=t=>t;function LN(t,r=RN){const s=vo.useSyncExternalStore(t.subscribe,vo.useCallback(()=>r(t.getState()),[t,r]),vo.useCallback(()=>r(t.getInitialState()),[t,r]));return vo.useDebugValue(s),s}const Gh=t=>{const r=IN(t),s=i=>LN(r,i);return Object.assign(s,r),s},Wo=(t=>t?Gh(t):Gh);let AN=0;const $N={success:3e3,error:5e3,warning:4e3,info:3e3},No=Wo((t,r)=>({toasts:[],addToast:s=>{const i=`toast-${++AN}`,a=s.duration??$N[s.type],u={...s,id:i,duration:a};return t({toasts:[...r().toasts,u]}),a>0&&setTimeout(()=>{r().removeToast(i)},a),i},removeToast:s=>{t({toasts:r().toasts.filter(i=>i.id!==s)})}})),En={success:(t,r)=>No.getState().addToast({type:"success",message:t,duration:3e3,action:r}),error:(t,r)=>No.getState().addToast({type:"error",message:t,duration:5e3,action:r}),warning:(t,r)=>No.getState().addToast({type:"warning",message:t,duration:4e3,action:r}),info:(t,r)=>No.getState().addToast({type:"info",message:t,duration:3e3,action:r})},ON={DataStream:new Set(["DataStream","Batch"]),Batch:new Set(["Batch","DataStream"]),SingleValue:new Set(["SingleValue"]),Signal:new Set(["Signal"]),Transaction:new Set(["Transaction"]),Schema:new Set(["Schema","DataStream"]),Statistics:new Set(["Statistics"]),Config:new Set(["Config"])},rt=Wo((t,r)=>{function s(){const{nodes:i,edges:a,_past:u}=r(),c={nodes:JSON.parse(JSON.stringify(i)),edges:JSON.parse(JSON.stringify(a))};return{_past:[...u,c].slice(-50),_future:[],canUndo:!0,canRedo:!1}}return{nodes:[],edges:[],selectedNodeId:null,designName:"Untitled Design",_past:[],_future:[],canUndo:!1,canRedo:!1,undo:()=>{const{_past:i,_future:a,nodes:u,edges:c}=r();if(i.length===0)return;const p=i[i.length-1],h=i.slice(0,-1),g={nodes:JSON.parse(JSON.stringify(u)),edges:JSON.parse(JSON.stringify(c))};t({nodes:p.nodes,edges:p.edges,_past:h,_future:[...a,g],canUndo:h.length>0,canRedo:!0})},redo:()=>{const{_past:i,_future:a,nodes:u,edges:c}=r();if(a.length===0)return;const p=a[a.length-1],h=a.slice(0,-1),g={nodes:JSON.parse(JSON.stringify(u)),edges:JSON.parse(JSON.stringify(c))};t({nodes:p.nodes,edges:p.edges,_past:[...i,g],_future:h,canUndo:!0,canRedo:h.length>0})},onNodesChange:i=>{const u=i.some(c=>c.type==="remove")?s():{};t({nodes:mg(i,r().nodes),...u})},addNode:i=>{t({nodes:[...r().nodes,i],...s()})},removeNode:i=>{const a=s();t({nodes:r().nodes.filter(u=>u.id!==i),edges:r().edges.filter(u=>u.source!==i&&u.target!==i),selectedNodeId:r().selectedNodeId===i?null:r().selectedNodeId,...a})},updateNodeData:(i,a)=>{t({nodes:r().nodes.map(u=>u.id===i?{...u,data:{...u.data,...a}}:u),...s()})},onEdgesChange:i=>{const u=i.some(c=>c.type==="remove")?s():{};t({edges:gg(i,r().edges),...u})},onConnect:i=>{if(i.source===i.target)return;const a=r().nodes,u=a.find(h=>h.id===i.source),c=a.find(h=>h.id===i.target);if(u&&c&&i.sourceHandle&&i.targetHandle){const h=u.data.outputs.find(v=>v.name===i.sourceHandle),g=c.data.inputs.find(v=>v.name===i.targetHandle);if(h&&g){const v=ON[h.dataType];if(v&&!v.has(g.dataType)){En.warning(`Type mismatch: ${h.dataType}  ${g.dataType}. Connection not created.`);return}}}if(r().edges.find(h=>h.target===i.target&&h.targetHandle===i.targetHandle)){En.info("That input port already has a connection.");return}t({edges:Qm({...i,type:"smoothstep",animated:!1,style:{strokeWidth:2,stroke:"#94A3B8"}},r().edges),...s()})},removeEdge:i=>{t({edges:r().edges.filter(a=>a.id!==i),...s()})},setSelectedNode:i=>{t({selectedNodeId:i})},setDesignName:i=>{t({designName:i})},clearCanvas:()=>{t({nodes:[],edges:[],selectedNodeId:null,_past:[],_future:[],canUndo:!1,canRedo:!1})},loadDesign:(i,a,u)=>{t({designName:i,nodes:a,edges:u,selectedNodeId:null,_past:[],_future:[],canUndo:!1,canRedo:!1})}}}),xt={INSERT:"INSERT INTO {table} VALUES (?)",SELECT:"SELECT * FROM {table} WHERE id = ?",UPDATE:"UPDATE {table} SET col = ? WHERE id = ?",DELETE:"DELETE FROM {table} WHERE id = ?",SCAN:"SELECT * FROM {table} WHERE id BETWEEN ? AND ?"},h0=[{id:"ycsb-a",name:"YCSB-A",description:"50% read, 50% update  Update-heavy",workload:{name:"YCSB-A (Update Heavy)",operations:[{id:"op-1",type:"SELECT",weight:50,template:xt.SELECT},{id:"op-2",type:"UPDATE",weight:50,template:xt.UPDATE}],distribution:"zipfian",concurrency:100,totalOperations:1e4}},{id:"ycsb-b",name:"YCSB-B",description:"95% read, 5% update  Read-mostly",workload:{name:"YCSB-B (Read Mostly)",operations:[{id:"op-1",type:"SELECT",weight:95,template:xt.SELECT},{id:"op-2",type:"UPDATE",weight:5,template:xt.UPDATE}],distribution:"zipfian",concurrency:100,totalOperations:1e4}},{id:"ycsb-c",name:"YCSB-C",description:"100% read  Read-only",workload:{name:"YCSB-C (Read Only)",operations:[{id:"op-1",type:"SELECT",weight:100,template:xt.SELECT}],distribution:"zipfian",concurrency:100,totalOperations:1e4}},{id:"tpc-c",name:"TPC-C",description:"45% insert, 43% update, 4% select, 4% scan, 4% delete",workload:{name:"TPC-C (OLTP)",operations:[{id:"op-1",type:"INSERT",weight:45,template:xt.INSERT},{id:"op-2",type:"UPDATE",weight:43,template:xt.UPDATE},{id:"op-3",type:"SELECT",weight:4,template:xt.SELECT},{id:"op-4",type:"SCAN",weight:4,template:xt.SCAN},{id:"op-5",type:"DELETE",weight:4,template:xt.DELETE}],distribution:"zipfian",concurrency:50,totalOperations:1e4}}];let BN=1;function Ba(){return`op-${Date.now()}-${BN++}`}function FN(){return{name:"Custom Workload",operations:[{id:Ba(),type:"SELECT",weight:50,template:xt.SELECT},{id:Ba(),type:"INSERT",weight:50,template:xt.INSERT}],distribution:"zipfian",concurrency:100,totalOperations:1e4}}function HN(t,r){if(t.length<=1)return t;const s=Math.min(100,Math.max(0,t[r].weight)),i=100-s,a=t.length-1,u=t.reduce((c,p,h)=>h===r?c:c+p.weight,0);return t.map((c,p)=>p===r?{...c,weight:s}:u===0?{...c,weight:Math.round(i/a)}:{...c,weight:Math.round(c.weight/u*i)})}const an=Wo((t,r)=>({workload:FN(),isEditorOpen:!1,openEditor:()=>t({isEditorOpen:!0}),closeEditor:()=>t({isEditorOpen:!1}),setWorkloadName:s=>t({workload:{...r().workload,name:s}}),setDistribution:s=>t({workload:{...r().workload,distribution:s}}),setConcurrency:s=>t({workload:{...r().workload,concurrency:Math.max(1,s)}}),setTotalOperations:s=>t({workload:{...r().workload,totalOperations:Math.max(1,s)}}),addOperation:(s="SELECT")=>{const i=r().workload.operations,a={id:Ba(),type:s,weight:0,template:xt[s]},u=[...i,a],c=Math.round(100/u.length),p=u.map((h,g)=>({...h,weight:g===u.length-1?100-c*(u.length-1):c}));t({workload:{...r().workload,operations:p}})},removeOperation:s=>{const i=r().workload.operations.filter(c=>c.id!==s);if(i.length===0)return;const a=i.reduce((c,p)=>c+p.weight,0),u=a===0?i.map((c,p)=>({...c,weight:p===i.length-1?100-Math.round(100/i.length)*(i.length-1):Math.round(100/i.length)})):i.map(c=>({...c,weight:Math.round(c.weight/a*100)}));t({workload:{...r().workload,operations:u}})},updateOperationType:(s,i)=>{const a=r().workload.operations.map(u=>u.id===s?{...u,type:i,template:xt[i]}:u);t({workload:{...r().workload,operations:a}})},updateOperationWeight:(s,i)=>{const a=r().workload.operations,u=a.findIndex(p=>p.id===s);if(u===-1)return;const c=a.map((p,h)=>h===u?{...p,weight:i}:p);t({workload:{...r().workload,operations:HN(c,u)}})},updateOperationTemplate:(s,i)=>{const a=r().workload.operations.map(u=>u.id===s?{...u,template:i}:u);t({workload:{...r().workload,operations:a}})},loadPreset:s=>{const i=h0.find(u=>u.id===s);if(!i)return;const a={...i.workload,operations:i.workload.operations.map(u=>({...u,id:Ba()}))};t({workload:a})}})),VN="modulepreload",UN=function(t){return"/"+t},Qh={},WN=function(r,s,i){let a=Promise.resolve();if(s&&s.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),h=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));a=c(s.map(g=>{if(g=UN(g),g in Qh)return;Qh[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":VN,v||(x.as="script"),x.crossOrigin="",x.href=g,h&&x.setAttribute("nonce",h),document.head.appendChild(x),v)return new Promise((k,S)=>{x.addEventListener("load",k),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=c,window.dispatchEvent(p),!p.defaultPrevented)throw c}return a.then(c=>{for(const p of c||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})};let Fa=null,pc=null;async function qN(){if(Fa)return!0;try{const r=await import("../pkg/block_system");return typeof r.default=="function"&&await r.default(),Fa=r,pc=null,console.info("[DB Simulator] WASM module loaded successfully."),!0}catch(t){return pc=t instanceof Error?t.message:String(t),console.info("[DB Simulator] WASM module not available  using mock engine.",pc),!1}}function ja(){return Fa!==null}function aC(){return Fa}function Kh(t){return new Promise(r=>setTimeout(r,t))}function Xe(t,r){return t+Math.random()*(r-t)}function as(t,r,s){return Math.max(r,Math.min(s,t))}function Zh(t,r){const s=new Map,i=new Map;for(const c of t)s.set(c,0),i.set(c,[]);for(const c of r)!s.has(c.source)||!s.has(c.target)||(i.get(c.source).push(c.target),s.set(c.target,(s.get(c.target)??0)+1));const a=[];for(const[c,p]of s)p===0&&a.push(c);const u=[];for(;a.length>0;){const c=a.shift();u.push(c);for(const p of i.get(c)??[]){const h=(s.get(p)??1)-1;s.set(p,h),h===0&&a.push(p)}}return u.length===t.length?u:null}const YN={heap_storage:{estimateMs:(t,r)=>r*Xe(.03,.06),counters:(t,r)=>{const s=Number(t.pageSize??8192),i=Math.ceil(r*100/s);return{pages_written:i,pages_read:Math.ceil(i*1.2)}}},clustered_storage:{estimateMs:(t,r)=>r*Xe(.04,.08),counters:(t,r)=>{const s=Number(t.pageSize??8192),i=Math.ceil(r*100/s);return{pages_written:i,reorg_count:Math.ceil(i*.1)}}},lsm_tree:{estimateMs:(t,r)=>r*Xe(.02,.04),counters:(t,r)=>{const s=Number(t.memtableSize??64),i=Math.ceil(r/(s*1e3));return{memtable_writes:r,flushes:i,compactions:Math.ceil(i*.3)}}},schema_definition:{estimateMs:()=>Xe(1,5),counters:()=>({schemas_created:1})},btree_index:{estimateMs:(t,r,s)=>{const i=Number(t.fanout??128),a=Math.max(1,Math.ceil(Math.log(r)/Math.log(i)));return r*s*a*Xe(.05,.1)},counters:(t,r,s)=>{const i=Number(t.fanout??128),a=Math.max(1,Math.ceil(Math.log(r)/Math.log(i)));return{lookups:Math.ceil(r*s),tree_depth:a,pages_read:Math.ceil(r*s*a)}}},hash_index:{estimateMs:(t,r,s)=>r*s*Xe(.02,.05),counters:(t,r,s)=>{const i=Math.ceil(r*s);return{lookups:i,collisions:Math.ceil(i*.05)}}},covering_index:{estimateMs:(t,r,s)=>r*s*Xe(.03,.07),counters:(t,r,s)=>({lookups:Math.ceil(r*s),table_lookups_avoided:Math.ceil(r*s*.8)})},lru_buffer:{estimateMs:(t,r)=>{const s=Number(t.size??128),i=as(.5+s/1e3,.5,.99);return r*(1-i)*Xe(.5,1)},counters:(t,r)=>{const s=Number(t.size??128),i=as(.5+s/1e3,.5,.99);return{cache_hits:Math.ceil(r*i),cache_misses:Math.ceil(r*(1-i)),hit_rate_pct:Math.round(i*100),evictions:Math.ceil(r*(1-i)*.8)}}},clock_buffer:{estimateMs:(t,r)=>{const s=Number(t.size??128),i=as(.45+s/1100,.45,.97);return r*(1-i)*Xe(.5,1)},counters:(t,r)=>{const s=Number(t.size??128),i=as(.45+s/1100,.45,.97);return{cache_hits:Math.ceil(r*i),cache_misses:Math.ceil(r*(1-i)),hit_rate_pct:Math.round(i*100),clock_hand_sweeps:Math.ceil(r*(1-i)*1.5)}}},sequential_scan:{estimateMs:(t,r)=>r*Xe(.08,.15),counters:(t,r)=>{const s=Number(t.prefetchPages??32);return{pages_scanned:Math.ceil(r/10),prefetch_batches:Math.ceil(r/(10*s))}}},index_scan:{estimateMs:(t,r,s)=>r*s*Xe(.04,.08),counters:(t,r,s)=>({index_lookups:Math.ceil(r*s),rows_fetched:Math.ceil(r*s)})},filter:{estimateMs:(t,r)=>r*Xe(.01,.03),counters:(t,r)=>{const s=Xe(.1,.5);return{rows_in:r,rows_out:Math.ceil(r*s),selectivity_pct:Math.round(s*100)}}},sort:{estimateMs:(t,r)=>{const s=Number(t.memoryLimit??256),i=r>s*5e3;return r*Math.log2(r)*Xe(.001,.003)*(i?3:1)},counters:(t,r)=>{const s=Number(t.memoryLimit??256),i=r>s*5e3;return{comparisons:Math.ceil(r*Math.log2(r)),external_sort:i?1:0,temp_files:i?Math.ceil(r/(s*5e3)):0}}},hash_join:{estimateMs:(t,r)=>{const s=Number(t.buildMemory??256),i=r>s*3e3;return r*Xe(.05,.1)*(i?2.5:1)},counters:(t,r)=>{const s=Number(t.buildMemory??256),i=r>s*3e3;return{build_rows:Math.ceil(r*.3),probe_rows:Math.ceil(r*.7),output_rows:Math.ceil(r*.25),spilled_partitions:i?Math.ceil(r/(s*3e3)):0}}},row_lock:{estimateMs:(t,r)=>r*Xe(.01,.03),counters:(t,r)=>{const s=Number(t.lockTimeout??5e3),i=as(.05-s/2e5,.001,.1);return{locks_acquired:r,lock_waits:Math.ceil(r*i),deadlocks:Math.ceil(r*i*.01)}}},mvcc:{estimateMs:(t,r)=>r*Xe(.02,.05),counters:(t,r)=>({versions_created:Math.ceil(r*.3),versions_gc:Math.ceil(r*.2),snapshot_reads:Math.ceil(r*.7)})},wal:{estimateMs:(t,r)=>{const s=Number(t.bufferSize??16),i=t.syncMode==="none"?.01:t.syncMode==="fdatasync"?.04:.06;return r*i*(16/Math.max(1,s))},counters:(t,r)=>{const s=Number(t.bufferSize??16);return{log_entries:r,log_flushes:Math.ceil(r/(s*100)),bytes_written:r*Math.ceil(Xe(50,200))}}}},XN={estimateMs:(t,r)=>r*Xe(.02,.05),counters:()=>({})};class GN{constructor(){Pp(this,"cancelled",!1)}validate(r,s){const i=[],a=[];if(r.length===0)return i.push({message:"Canvas is empty  add at least one block.",suggestion:"Drag a block from the palette on the left onto the canvas."}),{valid:!1,errors:i,warnings:a};r.filter(v=>v.data.category==="storage").length===0&&i.push({message:"Design needs at least one storage block.",suggestion:"Add a storage block (Heap Storage, B-tree, LSM Tree, or Clustered Storage)."});const c=new Set(s.map(v=>`${v.target}:${v.targetHandle}`));for(const v of r){const y=v.data;for(const x of y.inputs)x.required&&!c.has(`${v.id}:${x.name}`)&&i.push({nodeId:v.id,message:`"${y.label}" is missing required input "${x.name}".`,suggestion:`Connect a compatible block's output to the "${x.name}" input.`})}const p=r.map(v=>v.id);Zh(p,s)||i.push({message:"Design contains a cycle  connections must form a DAG.",suggestion:"Remove one of the connections to break the cycle."});const g=new Set;for(const v of s)g.add(v.source),g.add(v.target);for(const v of r)!g.has(v.id)&&r.length>1&&a.push({nodeId:v.id,message:`"${v.data.label}" is disconnected from the design.`,suggestion:"Connect it to other blocks or remove it."});for(const v of r){const y=v.data;if(y.category==="buffer"){const x=Number(y.parameters.size??0);x>0&&x<64&&a.push({nodeId:v.id,message:`"${y.label}" has a small buffer size (${x} MB).`,suggestion:"Consider increasing the buffer size for better cache performance."})}}return{valid:i.length===0,errors:i,warnings:a}}cancel(){this.cancelled=!0}async execute(r,s,i,a){this.cancelled=!1;const u=r.map(C=>C.id),c=Zh(u,s)??u,p=new Map(r.map(C=>[C.id,C])),h=i.totalOperations,g=i.operations.reduce((C,b)=>C+(b.type==="SELECT"||b.type==="SCAN"?b.weight:0),0)/100,v=[];let y=0;for(let C=0;C<c.length;C++){if(this.cancelled)return{success:!1,duration:y,metrics:this.emptyMetrics(h),blockMetrics:v,errors:["Execution cancelled by user."]};const b=c[C],D=p.get(b);if(!D)continue;const N=D.data,_=Math.round((C+1)/c.length*100);a({phase:"executing",progress:_,currentBlock:b,message:`Running ${N.label}...`});const A=YN[N.blockType]??XN,R=A.estimateMs(N.parameters,h,g),$=A.counters(N.parameters,h,g);y+=R,v.push({blockId:b,blockType:N.blockType,blockName:N.label,executionTime:Math.round(R*100)/100,percentage:0,counters:$});const G=as(50+c.length*10,50,200);await Kh(G)}for(const C of v)C.percentage=y>0?Math.round(C.executionTime/y*1e3)/10:0;a({phase:"aggregating",progress:100,currentBlock:null,message:"Computing final metrics..."}),await Kh(100);const x=y/1e3,k=x>0?Math.round(h/x):h,S=Math.ceil(h*Xe(1e-4,.005)),E=this.generateLatency(y,h);return{success:!0,duration:Math.round(y*100)/100,metrics:{throughput:k,latency:E,totalOperations:h,successfulOperations:h-S,failedOperations:S},blockMetrics:v}}generateLatency(r,s){const i=s>0?r/s:0;return{avg:Math.round(i*1e3)/1e3,p50:Math.round(i*.8*1e3)/1e3,p95:Math.round(i*2.5*1e3)/1e3,p99:Math.round(i*5*1e3)/1e3}}emptyMetrics(r){return{throughput:0,latency:{avg:0,p50:0,p95:0,p99:0},totalOperations:r,successfulOperations:0,failedOperations:0}}}async function QN(){if(ja()){const{WASMExecutionEngine:t}=await WN(async()=>{const{WASMExecutionEngine:r}=await import("./WASMExecutionEngine-CZBV1Hrh.js");return{WASMExecutionEngine:r}},[]);return new t}return new GN}let yo=null;const Ss=Wo(t=>({status:"idle",progress:0,currentBlock:null,progressMessage:"",validation:null,result:null,error:null,engineType:ja()?"wasm":"mock",startExecution:async(r,s,i)=>{var p;yo=await QN();const a=ja()?"wasm":"mock";t({status:"validating",progress:0,currentBlock:null,progressMessage:"Validating design...",validation:null,result:null,error:null,engineType:a});const u=yo.validate(r,s);if(t({validation:u}),!u.valid){t({status:"error",error:`Design has ${u.errors.length} error(s).`,progressMessage:""});return}t({status:"running",progress:0});const c=h=>{t({progress:h.progress,currentBlock:h.currentBlock,progressMessage:h.message})};try{const h=await yo.execute(r,s,i,c);h.success?t({status:"complete",progress:100,currentBlock:null,progressMessage:"Done!",result:h}):t({status:"error",progress:0,currentBlock:null,progressMessage:"",error:((p=h.errors)==null?void 0:p.join("; "))??"Execution failed."})}catch(h){t({status:"error",progress:0,currentBlock:null,progressMessage:"",error:h instanceof Error?h.message:"Unknown error."})}},cancelExecution:()=>{yo&&yo.cancel(),t({status:"idle",progress:0,currentBlock:null,progressMessage:""})},clearResults:()=>{t({status:"idle",progress:0,currentBlock:null,progressMessage:"",validation:null,result:null,error:null})},dismissValidation:()=>{t({validation:null,status:"idle",error:null})},refreshEngineType:()=>{t({engineType:ja()?"wasm":"mock"})}})),m0=1,Jn={designs:"db-sim-designs",workload:"db-sim-workload",activeDesignId:"db-sim-active-design",schemaVersion:"db-sim-schema-version"};function wa(t){try{return localStorage.getItem(t)}catch{return null}}function ka(t,r){try{localStorage.setItem(t,r)}catch{}}function KN(t){ka(Jn.schemaVersion,String(m0)),ka(Jn.designs,JSON.stringify(t.designs)),ka(Jn.activeDesignId,t.activeDesignId),ka(Jn.workload,JSON.stringify(t.workload))}function ZN(){const t=wa(Jn.designs);if(!t)return null;try{const r=Number(wa(Jn.schemaVersion)??"0");if(r>m0)return null;const s=JSON.parse(t);if(!Array.isArray(s)||s.length===0)return null;const i=wa(Jn.activeDesignId)??s[0].id;let a=null;const u=wa(Jn.workload);return u&&(a=JSON.parse(u)),{version:r,designs:s,activeDesignId:i,workload:a??{name:"Custom Workload",operations:[{id:"op-1",type:"SELECT",weight:50,template:"SELECT * FROM {table} WHERE id = ?"},{id:"op-2",type:"INSERT",weight:50,template:"INSERT INTO {table} VALUES (?)"}],distribution:"zipfian",concurrency:100,totalOperations:1e4}}}catch{return null}}function JN(t,r,s,i,a){return{version:"1.0",exportedAt:new Date().toISOString(),design:{name:t,nodes:JSON.parse(JSON.stringify(r)),edges:JSON.parse(JSON.stringify(s)),workload:JSON.parse(JSON.stringify(i)),lastResult:a?JSON.parse(JSON.stringify(a)):null}}}function g0(t){if(!t||typeof t!="object")return{valid:!1,error:"Invalid file: not a JSON object."};const r=t;if(typeof r.version!="string")return{valid:!1,error:"Invalid file: missing version field."};const s=parseInt(r.version,10);if(isNaN(s)||s>1)return{valid:!1,error:`Incompatible version: ${r.version}. This app supports version 1.x.`};if(!r.design||typeof r.design!="object")return{valid:!1,error:"Invalid file: missing design data."};const i=r.design;return Array.isArray(i.nodes)?Array.isArray(i.edges)?{valid:!0,design:t}:{valid:!1,error:"Invalid file: design.edges must be an array."}:{valid:!1,error:"Invalid file: design.nodes must be an array."}}function y0(t,r,s="application/json"){const i=new Blob([r],{type:s}),a=URL.createObjectURL(i),u=document.createElement("a");u.href=a,u.download=t,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(a)}let eE=1;function x0(){return`design-${Date.now()}-${eE++}`}function v0(t){return{id:x0(),name:t,nodes:[],edges:[],lastResult:null,createdAt:Date.now(),updatedAt:Date.now()}}const Jh=v0("Design A"),Mt=Wo((t,r)=>({designs:[Jh],activeDesignId:Jh.id,saveStatus:"saved",createDesign:s=>{r().saveCurrentCanvas();const i=v0(s??`Design ${String.fromCharCode(65+r().designs.length)}`);return t({designs:[...r().designs,i],activeDesignId:i.id,saveStatus:"unsaved"}),rt.getState().loadDesign(i.name,[],[]),i.id},duplicateDesign:s=>{r().saveCurrentCanvas();const i=r().designs.find(u=>u.id===s);if(!i)return s;const a={...i,id:x0(),name:`${i.name} (Copy)`,nodes:JSON.parse(JSON.stringify(i.nodes)),edges:JSON.parse(JSON.stringify(i.edges)),lastResult:null,createdAt:Date.now(),updatedAt:Date.now()};return t({designs:[...r().designs,a],activeDesignId:a.id,saveStatus:"unsaved"}),rt.getState().loadDesign(a.name,a.nodes,a.edges),a.id},deleteDesign:s=>{const i=r().designs;if(i.length<=1)return;const a=i.filter(p=>p.id!==s),u=r().activeDesignId===s,c=u?a[0].id:r().activeDesignId;if(t({designs:a,activeDesignId:c,saveStatus:"unsaved"}),u){const p=a.find(h=>h.id===c);rt.getState().loadDesign(p.name,p.nodes,p.edges)}},setActiveDesign:s=>{if(s===r().activeDesignId)return;r().saveCurrentCanvas(),t({activeDesignId:s});const i=r().designs.find(a=>a.id===s);i&&rt.getState().loadDesign(i.name,i.nodes,i.edges)},renameDesign:(s,i)=>{t({designs:r().designs.map(a=>a.id===s?{...a,name:i,updatedAt:Date.now()}:a),saveStatus:"unsaved"}),s===r().activeDesignId&&rt.getState().setDesignName(i)},saveCurrentCanvas:()=>{const s=rt.getState(),i=r().activeDesignId;t({designs:r().designs.map(a=>a.id===i?{...a,name:s.designName,nodes:s.nodes,edges:s.edges,updatedAt:Date.now()}:a),saveStatus:"unsaved"})},setDesignResult:(s,i)=>{t({designs:r().designs.map(a=>a.id===s?{...a,lastResult:i,updatedAt:Date.now()}:a),saveStatus:"unsaved"})},persist:()=>{t({saveStatus:"saving"});const s=rt.getState(),i=r().activeDesignId,a=r().designs.map(p=>p.id===i?{...p,name:s.designName,nodes:s.nodes,edges:s.edges,updatedAt:Date.now()}:p),u=a.map(p=>({id:p.id,name:p.name,version:1,nodes:p.nodes,edges:p.edges,lastResult:p.lastResult,createdAt:new Date(p.createdAt).toISOString(),updatedAt:new Date(p.updatedAt).toISOString()})),c=an.getState().workload;KN({designs:u,activeDesignId:i,workload:c}),t({designs:a,saveStatus:"saved"})},hydrate:()=>{var c;const s=ZN();if(!s)return;const i=s.designs.map(p=>({id:p.id,name:p.name,nodes:p.nodes,edges:p.edges,lastResult:p.lastResult,createdAt:new Date(p.createdAt).getTime(),updatedAt:new Date(p.updatedAt).getTime()}));if(i.length===0)return;const a=((c=i.find(p=>p.id===s.activeDesignId))==null?void 0:c.id)??i[0].id,u=i.find(p=>p.id===a);t({designs:i,activeDesignId:a,saveStatus:"saved"}),rt.getState().loadDesign(u.name,u.nodes,u.edges),s.workload&&an.setState({workload:s.workload})}}));let hc=null;function ad(){hc&&clearTimeout(hc),hc=setTimeout(()=>{Mt.getState().persist()},500)}Mt.subscribe((t,r)=>{(t.designs!==r.designs||t.activeDesignId!==r.activeDesignId)&&ad()});rt.subscribe((t,r)=>{(t.nodes!==r.nodes||t.edges!==r.edges)&&(Mt.setState({saveStatus:"unsaved"}),ad())});an.subscribe((t,r)=>{t.workload!==r.workload&&(Mt.setState({saveStatus:"unsaved"}),ad())});function tE({onOpenComparison:t,onOpenTemplates:r}){const{designName:s,setDesignName:i,nodes:a,edges:u,undo:c,redo:p,canUndo:h,canRedo:g}=rt(),{openEditor:v,workload:y}=an(),{status:x,result:k,startExecution:S,cancelExecution:E,engineType:C}=Ss(),{activeDesignId:b,setDesignResult:D,saveCurrentCanvas:N,renameDesign:_,saveStatus:A,createDesign:R}=Mt(),[$,G]=F.useState(!1),[Q,re]=F.useState(s),U=x==="running"||x==="validating";F.useEffect(()=>{re(s)},[s]),F.useEffect(()=>{x==="complete"&&k&&(N(),D(b,k))},[x,k,b,D,N]);const Y=()=>{Q.trim()?(i(Q.trim()),_(b,Q.trim())):re(s),G(!1)},Z=H=>{H.key==="Enter"?Y():H.key==="Escape"&&(re(s),G(!1))},P=F.useCallback(()=>{U?E():S(a,u,y)},[U,E,S,a,u,y]),q=F.useCallback(()=>{const H=Mt.getState().designs.find(j=>j.id===b),T=JN(s,a,u,y,(H==null?void 0:H.lastResult)??null),z=JSON.stringify(T,null,2),V=s.replace(/[^a-zA-Z0-9_-]/g,"_").toLowerCase();y0(`${V}.dbsim.json`,z),En.success("Design exported.")},[b,s,a,u,y]),B=F.useCallback(()=>{const H=document.createElement("input");H.type="file",H.accept=".json,.dbsim,.dbsim.json",H.onchange=()=>{var V;const T=(V=H.files)==null?void 0:V[0];if(!T)return;const z=new FileReader;z.onload=()=>{try{const j=JSON.parse(z.result),L=g0(j);if(!L.valid||!L.design){En.error(L.error??"Invalid file.");return}const J=L.design.design;N();const ee=R(J.name);rt.getState().loadDesign(J.name,J.nodes,J.edges),J.workload&&an.setState({workload:J.workload}),J.lastResult&&Mt.getState().setDesignResult(ee,J.lastResult),En.success(`Imported "${J.name}".`)}catch{En.error("Failed to parse file. Make sure it is valid JSON.")}},z.readAsText(T)},H.click()},[N,R]);return d.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-4",children:[d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:d.jsx(ks,{className:"w-5 h-5 text-white"})}),d.jsx("span",{className:"font-semibold text-gray-900",children:"DB Simulator"})]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[$?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:Q,onChange:H=>re(H.target.value),onBlur:Y,onKeyDown:Z,className:"px-3 py-1.5 text-sm border border-primary-500 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:Y,children:d.jsx(Qg,{className:"w-4 h-4"})})]}):d.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[d.jsx("span",{children:s}),d.jsx(u0,{className:"w-3.5 h-3.5 text-gray-400"})]}),d.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-400",children:[A==="saving"&&d.jsxs(d.Fragment,{children:[d.jsx(s0,{className:"w-3 h-3 animate-spin"}),"Saving..."]}),A==="saved"&&d.jsxs(d.Fragment,{children:[d.jsx(Er,{className:"w-3 h-3 text-green-500"}),"Saved"]}),A==="unsaved"&&d.jsxs(d.Fragment,{children:[d.jsx(EN,{className:"w-3 h-3"}),"Unsaved"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-0.5 mr-1",children:[d.jsx(Ie,{variant:"ghost",size:"sm",onClick:c,disabled:!h||U,title:"Undo (Cmd+Z)",children:d.jsx(PN,{className:"w-4 h-4"})}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:p,disabled:!g||U,title:"Redo (Cmd+Shift+Z)",children:d.jsx(jN,{className:"w-4 h-4"})})]}),d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:r,disabled:U,children:[d.jsx(nl,{className:"w-4 h-4"}),"Templates"]}),d.jsxs(Ie,{variant:"secondary",size:"sm",onClick:v,disabled:U,children:[d.jsx(bN,{className:"w-4 h-4"}),"Workload",d.jsxs("span",{className:"text-xs text-gray-400 ml-0.5",children:["(",y.operations.length,")"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ie,{variant:"primary",size:"sm",onClick:P,children:U?d.jsxs(d.Fragment,{children:[d.jsx(DN,{className:"w-4 h-4"}),"Stop"]}):d.jsxs(d.Fragment,{children:[d.jsx(c0,{className:"w-4 h-4"}),"Run"]})}),d.jsx("span",{className:`text-[9px] font-semibold px-1.5 py-0.5 rounded ${C==="wasm"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,title:C==="wasm"?"Using WASM engine (Rust)":"Using mock engine (simulated)",children:C==="wasm"?"WASM":"Mock"})]}),d.jsxs(Ie,{variant:"secondary",size:"sm",disabled:U,onClick:t,children:[d.jsx(Pc,{className:"w-4 h-4"}),"Compare"]}),d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:q,disabled:U,children:[d.jsx(So,{className:"w-4 h-4"}),"Export"]}),d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:B,disabled:U,children:[d.jsx(zN,{className:"w-4 h-4"}),"Import"]})]})]})}function nE({design:t,isActive:r,canDelete:s}){const{setActiveDesign:i,renameDesign:a,duplicateDesign:u,deleteDesign:c}=Mt(),[p,h]=F.useState(!1),[g,v]=F.useState(t.name),y=F.useRef(null);F.useEffect(()=>{var E;p&&((E=y.current)==null||E.focus())},[p]);const x=F.useCallback(()=>{const E=g.trim();E&&E!==t.name?a(t.id,E):v(t.name),h(!1)},[g,t.id,t.name,a]),k=E=>{E.key==="Enter"&&x(),E.key==="Escape"&&(v(t.name),h(!1))},S=t.lastResult!==null;return d.jsxs("div",{className:`group flex items-center gap-1 px-3 py-1.5 rounded-t-lg border border-b-0 cursor-pointer transition-colors select-none ${r?"bg-white border-gray-200 -mb-px z-10":"bg-gray-50 border-transparent hover:bg-gray-100"}`,onClick:()=>!p&&i(t.id),children:[S&&d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 flex-shrink-0",title:"Has execution results"}),p?d.jsx("input",{ref:y,type:"text",value:g,onChange:E=>v(E.target.value),onBlur:x,onKeyDown:k,className:"w-24 px-1 py-0 text-xs border border-primary-400 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",onClick:E=>E.stopPropagation()}):d.jsx("span",{className:`text-xs font-medium truncate max-w-[120px] ${r?"text-gray-900":"text-gray-600"}`,onDoubleClick:E=>{E.stopPropagation(),h(!0)},children:t.name}),d.jsxs("div",{className:`flex items-center gap-0.5 ml-1 ${r?"opacity-100":"opacity-0 group-hover:opacity-100"} transition-opacity`,children:[!p&&d.jsx("button",{onClick:E=>{E.stopPropagation(),h(!0)},className:"p-0.5 text-gray-400 hover:text-gray-600 rounded",title:"Rename",children:d.jsx(u0,{className:"w-3 h-3"})}),p&&d.jsx("button",{onClick:E=>{E.stopPropagation(),x()},className:"p-0.5 text-primary-500 hover:text-primary-700 rounded",title:"Confirm",children:d.jsx(Qg,{className:"w-3 h-3"})}),d.jsx("button",{onClick:E=>{E.stopPropagation(),u(t.id)},className:"p-0.5 text-gray-400 hover:text-gray-600 rounded",title:"Duplicate",children:d.jsx(ed,{className:"w-3 h-3"})}),s&&d.jsx("button",{onClick:E=>{E.stopPropagation(),c(t.id)},className:"p-0.5 text-gray-400 hover:text-red-500 rounded",title:"Delete",children:d.jsx(un,{className:"w-3 h-3"})})]})]})}function rE(){const{designs:t,activeDesignId:r,createDesign:s}=Mt();return d.jsxs("div",{className:"flex items-end gap-0.5 px-4 pt-1 bg-gray-100 border-b border-gray-200 overflow-x-auto",children:[t.map(i=>d.jsx(nE,{design:i,isActive:i.id===r,canDelete:t.length>1},i.id)),d.jsxs("button",{onClick:()=>s(),className:"flex items-center gap-1 px-2 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded-t-lg transition-colors",title:"New design",children:[d.jsx(d0,{className:"w-3 h-3"}),"New"]})]})}const sE=[{id:"storage",name:"Storage",description:"Data storage mechanisms",icon:"HardDrive",color:"#8B5CF6"},{id:"index",name:"Index",description:"Index structures for fast lookups",icon:"Binary",color:"#3B82F6"},{id:"buffer",name:"Buffer",description:"Memory management and caching",icon:"Layers",color:"#14B8A6"},{id:"execution",name:"Execution",description:"Query execution operators",icon:"Cpu",color:"#EC4899"},{id:"concurrency",name:"Concurrency",description:"Locking and isolation",icon:"Lock",color:"#F59E0B"},{id:"transaction",name:"Transaction",description:"Transaction management",icon:"GitBranch",color:"#6366F1"},{id:"compression",name:"Compression",description:"Data compression techniques",icon:"Archive",color:"#84CC16"},{id:"partitioning",name:"Partitioning",description:"Data partitioning strategies",icon:"Grid3x3",color:"#F97316"},{id:"optimization",name:"Optimization",description:"Query optimization components",icon:"Sparkles",color:"#06B6D4"},{id:"distribution",name:"Distribution",description:"Distributed system components",icon:"Network",color:"#A855F7"}],Lo=[{type:"schema_definition",name:"Schema Definition",description:"Define table structure with columns and types",category:"storage",icon:"Database",inputs:[],outputs:[{name:"schema",type:"output",dataType:"Schema",description:"Table schema definition",required:!1}],parameters:[{name:"tableName",type:"string",default:"users",description:"Name of the table",constraints:{pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"},uiHint:"input"},{name:"columns",type:"string",default:"id:int,name:varchar,email:varchar",description:"Column definitions (name:type pairs)",uiHint:"input"}],documentation:{summary:"Defines the structure of a database table",details:"The schema definition block is the starting point for most database designs. It specifies the columns, their data types, and constraints.",examples:["id:int,name:varchar(255),created_at:timestamp"]}},{type:"heap_storage",name:"Heap File Storage",description:"Unordered page-based storage for records",category:"storage",icon:"HardDrive",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to store",required:!0}],outputs:[{name:"stored",type:"output",dataType:"DataStream",description:"Access to stored records",required:!1}],parameters:[{name:"pageSize",type:"number",default:8192,description:"Size of each page in bytes",constraints:{min:1024,max:65536,step:1024},uiHint:"slider"},{name:"fillFactor",type:"number",default:90,description:"Percentage of page to fill before creating new page",constraints:{min:50,max:100,step:5},uiHint:"slider"}],documentation:{summary:"Simple heap file storage without ordering",details:"Heap storage is the simplest form of storage. Records are inserted in any available space. Good for write-heavy workloads but requires full scans for queries."}},{type:"clustered_storage",name:"Clustered Storage",description:"Records stored in sorted order by key",category:"storage",icon:"Database",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to store",required:!0}],outputs:[{name:"stored",type:"output",dataType:"DataStream",description:"Access to stored records",required:!1}],parameters:[{name:"clusterKey",type:"string",default:"id",description:"Column to cluster by",uiHint:"input"},{name:"pageSize",type:"number",default:8192,description:"Size of each page in bytes",constraints:{min:1024,max:65536,step:1024},uiHint:"slider"}],documentation:{summary:"Storage with records physically sorted by cluster key",details:"Clustered storage keeps records in sorted order, which improves range query performance but may slow down inserts."}},{type:"lsm_tree",name:"LSM Tree Storage",description:"Log-structured merge tree for write-optimized storage",category:"storage",icon:"Layers",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to store",required:!0}],outputs:[{name:"stored",type:"output",dataType:"DataStream",description:"Access to stored records",required:!1}],parameters:[{name:"memtableSize",type:"number",default:64,description:"Size of in-memory table (MB)",constraints:{min:1,max:512,step:1},uiHint:"slider"},{name:"levelMultiplier",type:"number",default:10,description:"Size ratio between levels",constraints:{min:2,max:20,step:1},uiHint:"slider"},{name:"bloomFilterBits",type:"number",default:10,description:"Bits per key for bloom filter",constraints:{min:1,max:20,step:1},uiHint:"slider"}],documentation:{summary:"Write-optimized storage using log-structured merge trees",details:"LSM trees batch writes in memory and periodically flush to disk. Excellent for write-heavy workloads but may have higher read amplification."}},{type:"btree_index",name:"B-tree Index",description:"Balanced tree index for range queries",category:"index",icon:"Binary",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to index",required:!0}],outputs:[{name:"lookup",type:"output",dataType:"SingleValue",description:"Index lookup capability",required:!1}],parameters:[{name:"keyColumn",type:"string",default:"id",description:"Column to index",uiHint:"input"},{name:"fanout",type:"number",default:128,description:"Number of children per node",constraints:{min:4,max:512,step:4},uiHint:"slider"},{name:"unique",type:"boolean",default:!1,description:"Enforce unique values",uiHint:"checkbox"}],documentation:{summary:"B-tree index for efficient point and range lookups",details:"B-trees are the most common index structure in databases. They provide O(log n) lookups and support range queries efficiently."}},{type:"hash_index",name:"Hash Index",description:"Hash-based index for point lookups",category:"index",icon:"Hash",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to index",required:!0}],outputs:[{name:"lookup",type:"output",dataType:"SingleValue",description:"Index lookup capability",required:!1}],parameters:[{name:"keyColumn",type:"string",default:"id",description:"Column to index",uiHint:"input"},{name:"buckets",type:"number",default:1024,description:"Number of hash buckets",constraints:{min:16,max:65536,step:16},uiHint:"slider"}],documentation:{summary:"Hash index for O(1) point lookups",details:"Hash indexes provide constant-time lookups but do not support range queries. Best for equality predicates."}},{type:"covering_index",name:"Covering Index",description:"Index that includes additional columns",category:"index",icon:"FileStack",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to index",required:!0}],outputs:[{name:"lookup",type:"output",dataType:"DataStream",description:"Index lookup with included columns",required:!1}],parameters:[{name:"keyColumns",type:"string",default:"id",description:"Columns to index (comma-separated)",uiHint:"input"},{name:"includeColumns",type:"string",default:"name,email",description:"Additional columns to include",uiHint:"input"}],documentation:{summary:"Index with additional columns to avoid table lookups",details:"Covering indexes include extra columns so queries can be answered from the index alone without accessing the main table."}},{type:"lru_buffer",name:"LRU Buffer Pool",description:"Page cache with LRU eviction policy",category:"buffer",icon:"Layers",inputs:[{name:"requests",type:"input",dataType:"DataStream",description:"Page requests",required:!0}],outputs:[{name:"pages",type:"output",dataType:"DataStream",description:"Cached pages",required:!1}],parameters:[{name:"size",type:"number",default:128,description:"Buffer pool size (MB)",constraints:{min:1,max:4096,step:1},uiHint:"slider"},{name:"pageSize",type:"number",default:8192,description:"Page size (bytes)",constraints:{min:1024,max:65536,step:1024},uiHint:"slider"}],documentation:{summary:"Buffer pool with Least Recently Used eviction",details:"LRU evicts the least recently accessed pages when the buffer is full. Simple and effective for most workloads."}},{type:"clock_buffer",name:"Clock Buffer Pool",description:"Page cache with clock eviction (approximates LRU)",category:"buffer",icon:"Clock",inputs:[{name:"requests",type:"input",dataType:"DataStream",description:"Page requests",required:!0}],outputs:[{name:"pages",type:"output",dataType:"DataStream",description:"Cached pages",required:!1}],parameters:[{name:"size",type:"number",default:128,description:"Buffer pool size (MB)",constraints:{min:1,max:4096,step:1},uiHint:"slider"}],documentation:{summary:"Buffer pool with Clock eviction algorithm",details:"Clock is an approximation of LRU that is more efficient to implement. Uses a circular buffer with reference bits."}},{type:"sequential_scan",name:"Sequential Scan",description:"Full table scan operator",category:"execution",icon:"Cpu",inputs:[{name:"storage",type:"input",dataType:"DataStream",description:"Storage to scan",required:!0}],outputs:[{name:"records",type:"output",dataType:"DataStream",description:"Scanned records",required:!1}],parameters:[{name:"prefetchPages",type:"number",default:32,description:"Number of pages to prefetch",constraints:{min:1,max:128,step:1},uiHint:"slider"}],documentation:{summary:"Reads all records from storage sequentially",details:"Sequential scan reads every page in the table. Efficient for reading large portions of data but slow for selective queries."}},{type:"index_scan",name:"Index Scan",description:"Uses index for selective lookups",category:"execution",icon:"Search",inputs:[{name:"index",type:"input",dataType:"SingleValue",description:"Index to use for lookup",required:!0},{name:"storage",type:"input",dataType:"DataStream",description:"Storage containing records",required:!0}],outputs:[{name:"records",type:"output",dataType:"DataStream",description:"Matching records",required:!1}],parameters:[],documentation:{summary:"Uses an index to find matching records",details:"Index scan first looks up matching record IDs in the index, then fetches those records from storage."}},{type:"filter",name:"Filter",description:"Filters records based on predicate",category:"execution",icon:"Filter",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to filter",required:!0}],outputs:[{name:"filtered",type:"output",dataType:"DataStream",description:"Filtered records",required:!1}],parameters:[{name:"predicate",type:"string",default:"age > 18",description:"Filter condition",uiHint:"input"}],documentation:{summary:"Filters records matching a predicate",details:"The filter operator evaluates a predicate on each record and only passes through matching records."}},{type:"sort",name:"Sort",description:"Sorts records by specified columns",category:"execution",icon:"ArrowUpDown",inputs:[{name:"records",type:"input",dataType:"DataStream",description:"Records to sort",required:!0}],outputs:[{name:"sorted",type:"output",dataType:"DataStream",description:"Sorted records",required:!1}],parameters:[{name:"sortColumns",type:"string",default:"id ASC",description:"Columns to sort by",uiHint:"input"},{name:"memoryLimit",type:"number",default:256,description:"Memory limit for sorting (MB)",constraints:{min:1,max:4096,step:1},uiHint:"slider"}],documentation:{summary:"Sorts records by one or more columns",details:"If data fits in memory, uses quicksort. Otherwise, uses external merge sort with temporary files."}},{type:"hash_join",name:"Hash Join",description:"Joins two inputs using hashing",category:"execution",icon:"Merge",inputs:[{name:"left",type:"input",dataType:"DataStream",description:"Left input (build side)",required:!0},{name:"right",type:"input",dataType:"DataStream",description:"Right input (probe side)",required:!0}],outputs:[{name:"joined",type:"output",dataType:"DataStream",description:"Joined records",required:!1}],parameters:[{name:"joinKey",type:"string",default:"id",description:"Column to join on",uiHint:"input"},{name:"buildMemory",type:"number",default:256,description:"Memory for hash table (MB)",constraints:{min:1,max:4096,step:1},uiHint:"slider"}],documentation:{summary:"Joins two inputs using a hash table",details:"Builds a hash table from the smaller input (left), then probes it with records from the larger input (right)."}},{type:"row_lock",name:"Row-Level Locking",description:"Fine-grained locking at row level",category:"concurrency",icon:"Lock",inputs:[{name:"operations",type:"input",dataType:"Transaction",description:"Operations requiring locks",required:!0}],outputs:[{name:"locked",type:"output",dataType:"Transaction",description:"Operations with locks acquired",required:!1}],parameters:[{name:"lockTimeout",type:"number",default:5e3,description:"Lock wait timeout (ms)",constraints:{min:100,max:6e4,step:100},uiHint:"slider"},{name:"deadlockDetection",type:"boolean",default:!0,description:"Enable deadlock detection",uiHint:"checkbox"}],documentation:{summary:"Provides row-level locking for concurrent access",details:"Row-level locks allow high concurrency by only blocking access to specific rows being modified."}},{type:"mvcc",name:"MVCC",description:"Multi-version concurrency control",category:"concurrency",icon:"GitBranch",inputs:[{name:"operations",type:"input",dataType:"Transaction",description:"Operations to coordinate",required:!0}],outputs:[{name:"versioned",type:"output",dataType:"Transaction",description:"Version-controlled operations",required:!1}],parameters:[{name:"isolationLevel",type:"enum",default:"snapshot",description:"Transaction isolation level",constraints:{options:["read_committed","snapshot","serializable"]},uiHint:"select"},{name:"gcInterval",type:"number",default:1e3,description:"Version garbage collection interval (ms)",constraints:{min:100,max:6e4,step:100},uiHint:"slider"}],documentation:{summary:"Multi-version concurrency control for snapshot isolation",details:"MVCC maintains multiple versions of records, allowing readers to see a consistent snapshot without blocking writers."}},{type:"wal",name:"Write-Ahead Log",description:"Durability through write-ahead logging",category:"transaction",icon:"FileText",inputs:[{name:"writes",type:"input",dataType:"DataStream",description:"Write operations to log",required:!0}],outputs:[{name:"durable",type:"output",dataType:"DataStream",description:"Durably logged writes",required:!1}],parameters:[{name:"bufferSize",type:"number",default:16,description:"WAL buffer size (MB)",constraints:{min:1,max:256,step:1},uiHint:"slider"},{name:"syncMode",type:"enum",default:"fsync",description:"Sync mode for durability",constraints:{options:["none","fsync","fdatasync"]},uiHint:"select"}],documentation:{summary:"Write-ahead logging for crash recovery",details:"WAL writes all changes to a log before applying them to data files. This ensures durability and enables crash recovery."}}];function oE(t){return Lo.filter(r=>r.category===t)}function ld(t){return Lo.find(r=>r.type===t)}function iE(t){const r=t.toLowerCase();return Lo.filter(s=>s.name.toLowerCase().includes(r)||s.description.toLowerCase().includes(r))}const w0={Database:d.jsx(ks,{className:"w-4 h-4"}),Binary:d.jsx(Xg,{className:"w-4 h-4"}),HardDrive:d.jsx(nd,{className:"w-4 h-4"}),Layers:d.jsx(rd,{className:"w-4 h-4"}),Cpu:d.jsx(Dc,{className:"w-4 h-4"}),Lock:d.jsx(o0,{className:"w-4 h-4"}),GitBranch:d.jsx(e0,{className:"w-4 h-4"}),Archive:d.jsx(qg,{className:"w-4 h-4"}),Grid3x3:d.jsx(t0,{className:"w-4 h-4"}),Sparkles:d.jsx(sd,{className:"w-4 h-4"}),Network:d.jsx(l0,{className:"w-4 h-4"}),Hash:d.jsx(n0,{className:"w-4 h-4"}),FileStack:d.jsx(Zg,{className:"w-4 h-4"}),Clock:d.jsx(tl,{className:"w-4 h-4"}),Search:d.jsx(Dc,{className:"w-4 h-4"}),Filter:d.jsx(Jg,{className:"w-4 h-4"}),ArrowUpDown:d.jsx(Yg,{className:"w-4 h-4"}),Merge:d.jsx(i0,{className:"w-4 h-4"}),FileText:d.jsx(td,{className:"w-4 h-4"})},aE={storage:{bg:"bg-purple-50",border:"border-storage",text:"text-storage"},index:{bg:"bg-blue-50",border:"border-index",text:"text-index"},buffer:{bg:"bg-teal-50",border:"border-buffer",text:"text-buffer"},concurrency:{bg:"bg-amber-50",border:"border-concurrency",text:"text-concurrency"},execution:{bg:"bg-pink-50",border:"border-execution",text:"text-execution"},transaction:{bg:"bg-indigo-50",border:"border-transaction",text:"text-transaction"},compression:{bg:"bg-lime-50",border:"border-compression",text:"text-compression"},partitioning:{bg:"bg-orange-50",border:"border-partitioning",text:"text-partitioning"},optimization:{bg:"bg-cyan-50",border:"border-optimization",text:"text-optimization"},distribution:{bg:"bg-violet-50",border:"border-distribution",text:"text-distribution"}};function k0({block:t,onDragStart:r}){const s=aE[t.category],i=w0[t.icon]||d.jsx(ks,{className:"w-4 h-4"});return d.jsxs("div",{draggable:!0,onDragStart:a=>r(a,t),className:`
        p-2.5 rounded-lg border-2 cursor-grab active:cursor-grabbing
        ${s.bg} ${s.border} border-opacity-50
        hover:border-opacity-100 hover:shadow-sm
        transition-all duration-150
      `,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[d.jsx("span",{className:s.text,children:i}),d.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:t.name})]}),d.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:t.description})]})}function lE({category:t,blocks:r,isExpanded:s,onToggle:i,onDragStart:a}){const u=w0[t.icon]||d.jsx(ks,{className:"w-4 h-4"});return d.jsxs("div",{className:"mb-2",children:[d.jsxs("button",{onClick:i,className:"w-full flex items-center gap-2 px-2 py-1.5 text-left hover:bg-gray-50 rounded-lg transition-colors",children:[d.jsx("span",{className:"text-gray-400",children:s?d.jsx(Zc,{className:"w-4 h-4"}):d.jsx(kN,{className:"w-4 h-4"})}),d.jsx("span",{style:{color:t.color},children:u}),d.jsx("span",{className:"text-sm font-medium text-gray-700 flex-1",children:t.name}),d.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:r.length})]}),s&&d.jsx("div",{className:"mt-1 ml-6 space-y-1.5",children:r.map(c=>d.jsx(k0,{block:c,onDragStart:a},c.type))})]})}function uE(){const[t,r]=F.useState(""),[s,i]=F.useState(new Set(["storage","index","buffer","execution"])),a=g=>{i(v=>{const y=new Set(v);return y.has(g)?y.delete(g):y.add(g),y})},u=(g,v)=>{const y={type:v.type,name:v.name,description:v.description,category:v.category};g.dataTransfer.setData("application/json",JSON.stringify(y)),g.dataTransfer.effectAllowed="move"},c=t.trim().length>0,p=c?iE(t):[],h=sE.filter(g=>Lo.some(v=>v.category===g.id));return d.jsxs("aside",{className:"w-60 bg-white border-r border-gray-200 flex flex-col",children:[d.jsxs("div",{className:"p-3 border-b border-gray-200",children:[d.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Blocks"}),d.jsxs("div",{className:"relative",children:[d.jsx(f0,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search blocks...",value:t,onChange:g=>r(g.target.value),className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:c?d.jsx("div",{className:"space-y-1.5",children:p.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-gray-500 px-2 py-1",children:[p.length," result",p.length!==1?"s":""]}),p.map(g=>d.jsx(k0,{block:g,onDragStart:u},g.type))]}):d.jsxs("p",{className:"text-sm text-gray-500 text-center py-8",children:['No blocks found for "',t,'"']})}):d.jsx("div",{children:h.map(g=>{const v=oE(g.id);return v.length===0?null:d.jsx(lE,{category:g,blocks:v,isExpanded:s.has(g.id),onToggle:()=>a(g.id),onDragStart:u},g.id)})})}),d.jsx("div",{className:"p-2 border-t border-gray-200",children:d.jsxs("p",{className:"text-xs text-gray-400 text-center",children:[Lo.length," blocks available"]})})]})}const ws={storage:"#8B5CF6",index:"#3B82F6",buffer:"#14B8A6",concurrency:"#F59E0B",execution:"#EC4899",transaction:"#6366F1",compression:"#84CC16",partitioning:"#F97316",optimization:"#06B6D4",distribution:"#A855F7"},Ha={DataStream:"#3B82F6",SingleValue:"#10B981",Batch:"#8B5CF6",Signal:"#F59E0B",Transaction:"#6366F1",Schema:"#EC4899",Statistics:"#06B6D4",Config:"#6B7280"},cE={Database:d.jsx(ks,{className:"w-4 h-4"}),Binary:d.jsx(Xg,{className:"w-4 h-4"}),HardDrive:d.jsx(nd,{className:"w-4 h-4"}),Layers:d.jsx(rd,{className:"w-4 h-4"}),Cpu:d.jsx(Dc,{className:"w-4 h-4"}),Settings:d.jsx(Ro,{className:"w-4 h-4"}),Lock:d.jsx(o0,{className:"w-4 h-4"}),GitBranch:d.jsx(e0,{className:"w-4 h-4"}),Archive:d.jsx(qg,{className:"w-4 h-4"}),Grid3x3:d.jsx(t0,{className:"w-4 h-4"}),Sparkles:d.jsx(sd,{className:"w-4 h-4"}),Network:d.jsx(l0,{className:"w-4 h-4"}),Hash:d.jsx(n0,{className:"w-4 h-4"}),FileStack:d.jsx(Zg,{className:"w-4 h-4"}),Clock:d.jsx(tl,{className:"w-4 h-4"}),Filter:d.jsx(Jg,{className:"w-4 h-4"}),ArrowUpDown:d.jsx(Yg,{className:"w-4 h-4"}),Merge:d.jsx(i0,{className:"w-4 h-4"}),FileText:d.jsx(td,{className:"w-4 h-4"}),Search:d.jsx(f0,{className:"w-4 h-4"})};function dE({data:t,selected:r}){const s=t,i=ws[s.category],a=cE[s.icon]||d.jsx(Ro,{className:"w-4 h-4"}),u=s.inputs.length,c=s.outputs.length,p=Math.max(u,c,1),h=24,g=p*h+8;return d.jsxs("div",{className:`
        bg-white rounded-lg shadow-sm border-2 min-w-[200px]
        transition-all duration-150
        ${r?"shadow-md ring-2 ring-primary-500 ring-offset-2":"hover:shadow-md"}
        ${s.state==="running"?"animate-pulse":""}
        ${s.state==="error"?"border-error":""}
      `,style:{borderColor:s.state==="error"?void 0:i},children:[d.jsxs("div",{className:"px-3 py-2 rounded-t-md flex items-center gap-2",style:{backgroundColor:`${i}15`},children:[d.jsx("span",{style:{color:i},children:a}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:s.label})]}),d.jsxs("div",{className:"relative px-3 py-2",style:{minHeight:g},children:[s.inputs.map((v,y)=>{const x=8+y*h+h/2;return d.jsxs("div",{className:"flex items-center gap-2",style:{position:"absolute",left:12,top:x-8,height:h},children:[d.jsx(vs,{type:"target",position:ge.Left,id:v.name,style:{backgroundColor:Ha[v.dataType],width:10,height:10,left:-17,top:"50%",transform:"translateY(-50%)",border:"2px solid white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"}}),d.jsx("span",{className:"text-xs text-gray-500",children:v.name})]},`input-${v.name}`)}),s.outputs.map((v,y)=>{const x=8+y*h+h/2;return d.jsxs("div",{className:"flex items-center justify-end gap-2",style:{position:"absolute",right:12,top:x-8,height:h},children:[d.jsx("span",{className:"text-xs text-gray-500",children:v.name}),d.jsx(vs,{type:"source",position:ge.Right,id:v.name,style:{backgroundColor:Ha[v.dataType],width:10,height:10,right:-17,top:"50%",transform:"translateY(-50%)",border:"2px solid white",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"}})]},`output-${v.name}`)}),u===0&&c===0&&d.jsx("p",{className:"text-xs text-gray-400 text-center py-2",children:"No ports"})]})]})}const fE=F.memo(dE),pE={blockNode:fE};function hE(){const{nodes:t,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:a,addNode:u,setSelectedNode:c,removeNode:p,selectedNodeId:h,undo:g,redo:v,canUndo:y,canRedo:x}=rt(),{screenToFlowPosition:k}=Uo();F.useEffect(()=>{const D=N=>{var R;const _=(R=N.target)==null?void 0:R.tagName;if(_==="INPUT"||_==="TEXTAREA"||_==="SELECT")return;if((N.metaKey||N.ctrlKey)&&N.key==="z"){N.preventDefault(),N.shiftKey?x&&v():y&&g();return}(N.key==="Delete"||N.key==="Backspace")&&h&&(N.preventDefault(),p(h))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[h,p,g,v,y,x]);const S=F.useCallback(D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},[]),E=F.useCallback(D=>{D.preventDefault();const N=D.dataTransfer.files;if(N.length>0){const Z=N[0];if(Z.name.endsWith(".json")||Z.name.endsWith(".dbsim")){const P=new FileReader;P.onload=()=>{try{const q=JSON.parse(P.result),B=g0(q);if(!B.valid||!B.design){En.error(B.error??"Invalid file.");return}const H=B.design.design,{saveCurrentCanvas:T,createDesign:z,setDesignResult:V}=Mt.getState();T();const j=z(H.name);rt.getState().loadDesign(H.name,H.nodes,H.edges),H.workload&&an.setState({workload:H.workload}),H.lastResult&&V(j,H.lastResult),En.success(`Imported "${H.name}" from file.`)}catch{En.error("Failed to parse dropped file.")}},P.readAsText(Z);return}}const _=D.dataTransfer.getData("application/json");if(!_)return;const A=JSON.parse(_),R=k({x:D.clientX,y:D.clientY}),$=ld(A.type),G=($==null?void 0:$.inputs)||[],Q=($==null?void 0:$.outputs)||[],re=($==null?void 0:$.icon)||"Database",U={};if($!=null&&$.parameters)for(const Z of $.parameters)U[Z.name]=Z.default;const Y={id:`${A.type}-${Date.now()}`,type:"blockNode",position:R,data:{blockType:A.type,label:A.name,category:A.category,icon:re,color:ws[A.category],inputs:G,outputs:Q,parameters:U,state:"idle"}};u(Y)},[k,u]),C=F.useCallback((D,N)=>{c(N.id)},[c]),b=F.useCallback(()=>{c(null)},[c]);return d.jsx("div",{className:"flex-1 h-full",children:d.jsxs(HS,{nodes:t,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:a,onNodeClick:C,onPaneClick:b,onDragOver:S,onDrop:E,nodeTypes:pE,fitView:!0,snapToGrid:!0,snapGrid:[16,16],defaultEdgeOptions:{type:"smoothstep",style:{strokeWidth:2,stroke:"#94A3B8"}},children:[d.jsx(YS,{variant:Cn.Dots,gap:16,size:1,color:"#D1D5DB"}),d.jsx(eN,{position:"bottom-right",className:"!bg-white !border !border-gray-200 !rounded-lg !shadow-sm"}),d.jsx(pN,{position:"bottom-right",className:"!bg-white !border !border-gray-200 !rounded-lg !shadow-sm",style:{marginBottom:60},nodeColor:D=>{var _;const N=(_=D.data)==null?void 0:_.category;return N?ws[N]:"#94A3B8"}})]})})}function mE(t,r){var a;if(r.type==="boolean")return{valid:!0};if(r.type==="enum"){const u=((a=r.constraints)==null?void 0:a.options)??[];return u.length>0&&!u.includes(String(t))?{valid:!1,error:`Must be one of: ${u.join(", ")}`}:{valid:!0}}if(r.type==="number"){const u=Number(t);if(Number.isNaN(u))return{valid:!1,error:"Must be a number"};const c=r.constraints;return(c==null?void 0:c.min)!==void 0&&u<c.min?{valid:!1,error:`Minimum value is ${c.min}`}:(c==null?void 0:c.max)!==void 0&&u>c.max?{valid:!1,error:`Maximum value is ${c.max}`}:{valid:!0}}const s=String(t),i=r.constraints;if(i!=null&&i.pattern)try{if(!new RegExp(i.pattern).test(s))return{valid:!1,error:`Must match pattern: ${i.pattern}`}}catch{}return{valid:!0}}function gE({param:t,show:r,onToggle:s}){var a;const i=F.useRef(null);return F.useEffect(()=>{if(!r)return;function u(c){i.current&&!i.current.contains(c.target)&&s()}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[r,s]),d.jsxs("div",{className:"relative",ref:i,children:[d.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:s,title:t.description,children:d.jsx(NN,{className:"w-3 h-3"})}),r&&d.jsxs("div",{className:"absolute right-0 top-5 z-50 w-56 p-3 bg-white rounded-lg shadow-lg border border-gray-200 text-xs",children:[d.jsx("p",{className:"text-gray-700 mb-1.5",children:t.description}),d.jsxs("p",{className:"text-gray-500",children:["Default: ",d.jsx("span",{className:"font-mono text-gray-700",children:String(t.default)})]}),((a=t.constraints)==null?void 0:a.min)!==void 0&&d.jsxs("p",{className:"text-gray-500 mt-0.5",children:["Range: ",t.constraints.min,"  ",t.constraints.max]})]})]})}function yE({value:t,onChange:r}){return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:t,onChange:s=>r(s.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-500 focus:ring-primary-500 cursor-pointer"}),d.jsx("span",{className:"text-xs text-gray-500",children:t?"Enabled":"Disabled"})]})}function xE({value:t,options:r,onChange:s}){return d.jsx("select",{value:t,onChange:i=>s(i.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent cursor-pointer",children:r.map(i=>d.jsx("option",{value:i,children:i},i))})}function vE({value:t,constraints:r,onChange:s}){return d.jsxs("div",{className:"space-y-1",children:[d.jsx("input",{type:"range",value:t,min:r.min,max:r.max,step:r.step,onChange:i=>s(Number(i.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-500"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[d.jsx("span",{children:r.min}),d.jsx("span",{className:"font-medium text-gray-700",children:t}),d.jsx("span",{children:r.max})]})]})}function wE({value:t,constraints:r,error:s,onChange:i}){return d.jsxs("div",{children:[d.jsx("input",{type:"number",value:t,min:r==null?void 0:r.min,max:r==null?void 0:r.max,step:r==null?void 0:r.step,onChange:a=>i(Number(a.target.value)),className:`w-full px-2 py-1.5 text-sm border rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent ${s?"border-red-400":"border-gray-200"}`}),s&&d.jsx("p",{className:"text-xs text-red-500 mt-0.5",children:s})]})}function kE({value:t,error:r,onChange:s}){return d.jsxs("div",{children:[d.jsx("input",{type:"text",value:t,onChange:i=>s(i.target.value),className:`w-full px-2 py-1.5 text-sm border rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent ${r?"border-red-400":"border-gray-200"}`}),r&&d.jsx("p",{className:"text-xs text-red-500 mt-0.5",children:r})]})}function SE({param:t,value:r,onUpdate:s}){var S;const[i,a]=F.useState(!1),[u,c]=F.useState(r),[p,h]=F.useState(),g=F.useRef();F.useEffect(()=>{c(r),h(void 0)},[r]);const v=F.useCallback(E=>{const C=mE(E,t);C.valid?(h(void 0),s(t.name,E)):h(C.error)},[t,s]),y=F.useCallback(E=>{g.current&&clearTimeout(g.current),g.current=setTimeout(()=>v(E),300)},[v]),x=F.useCallback(E=>{c(E),t.type==="boolean"||t.type==="enum"||t.uiHint==="slider"?v(E):y(E)},[t,v,y]),k=F.useCallback(()=>a(E=>!E),[]);return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:"text-xs font-medium text-gray-700",children:t.name}),d.jsx(gE,{param:t,show:i,onToggle:k})]}),t.type==="boolean"?d.jsx(yE,{value:!!u,onChange:E=>x(E)}):t.type==="enum"&&((S=t.constraints)!=null&&S.options)?d.jsx(xE,{value:String(u),options:t.constraints.options,onChange:E=>x(E)}):t.uiHint==="slider"&&t.constraints?d.jsx(vE,{value:Number(u),constraints:t.constraints,onChange:E=>x(E)}):t.type==="number"?d.jsx(wE,{value:Number(u),constraints:t.constraints,error:p,onChange:E=>x(E)}):d.jsx(kE,{value:String(u),error:p,onChange:E=>x(E)})]})}function NE(){const{nodes:t,selectedNodeId:r,setSelectedNode:s,removeNode:i,updateNodeData:a}=rt(),u=t.find(x=>x.id===r);if(!u)return d.jsx("aside",{className:"w-72 bg-white border-l border-gray-200 flex flex-col",children:d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"text-center px-6",children:[d.jsx(Ro,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Select a block on the canvas to view its configuration"})]})})});const c=u.data,p=ws[c.category],h=ld(c.blockType),g=()=>{i(u.id)},v=F.useCallback((x,k)=>{a(u.id,{parameters:{...c.parameters,[x]:k}})},[u.id,c.parameters,a]),y=F.useCallback(()=>{if(!h)return;const x={};for(const k of h.parameters)x[k.name]=k.default;a(u.id,{parameters:x})},[h,u.id,a]);return d.jsxs("aside",{className:"w-72 bg-white border-l border-gray-200 flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b",style:{borderBottomColor:p,borderBottomWidth:3},children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:c.label}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ie,{variant:"ghost",size:"sm",onClick:g,className:"text-gray-400 hover:text-error",title:"Delete block",children:d.jsx(od,{className:"w-4 h-4"})}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600",title:"Close panel",children:d.jsx(un,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded",style:{backgroundColor:`${p}20`,color:p},children:c.category.charAt(0).toUpperCase()+c.category.slice(1)})}),(h==null?void 0:h.description)&&d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:h.description})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[h&&h.parameters.length>0&&d.jsxs("div",{className:"p-4 border-b border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[d.jsx(Ro,{className:"w-4 h-4 text-gray-400"}),"Configuration"]}),d.jsxs("button",{onClick:y,className:"text-xs text-gray-400 hover:text-gray-600 flex items-center gap-1",title:"Reset all parameters to defaults",children:[d.jsx(MN,{className:"w-3 h-3"}),"Reset"]})]}),d.jsx("div",{className:"space-y-3",children:h.parameters.map(x=>{const k=c.parameters[x.name]??x.default;return d.jsx(SE,{param:x,value:k,onUpdate:v},x.name)})})]}),d.jsxs("div",{className:"p-4",children:[d.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center gap-2",children:[d.jsx(r0,{className:"w-4 h-4 text-gray-400"}),"Ports"]}),c.inputs.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Inputs"}),d.jsx("div",{className:"space-y-2",children:c.inputs.map(x=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Ha[x.dataType]}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-sm text-gray-700 block truncate",children:x.name}),d.jsxs("span",{className:"text-xs text-gray-400",children:[x.dataType,x.required&&d.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]})]},x.name))})]}),c.outputs.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Outputs"}),d.jsx("div",{className:"space-y-2",children:c.outputs.map(x=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[d.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Ha[x.dataType]}}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-sm text-gray-700 block truncate",children:x.name}),d.jsx("span",{className:"text-xs text-gray-400",children:x.dataType})]})]},x.name))})]}),c.inputs.length===0&&c.outputs.length===0&&d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"This block has no ports"})]}),(h==null?void 0:h.documentation)&&d.jsxs("div",{className:"p-4 border-t border-gray-100",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Documentation"}),d.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:h.documentation.details||h.documentation.summary})]})]}),d.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:d.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:["ID: ",u.id]})})]})}const S0=[{value:"SELECT",label:"SELECT",color:"#3B82F6"},{value:"INSERT",label:"INSERT",color:"#10B981"},{value:"UPDATE",label:"UPDATE",color:"#F59E0B"},{value:"DELETE",label:"DELETE",color:"#EF4444"},{value:"SCAN",label:"SCAN",color:"#8B5CF6"}],EE=[{value:"zipfian",label:"Zipfian",description:"Hot keys  realistic OLTP"},{value:"uniform",label:"Uniform",description:"All keys equally likely"},{value:"latest",label:"Latest",description:"Recent records more likely"}];function zc(t){var r;return((r=S0.find(s=>s.value===t))==null?void 0:r.color)??"#6B7280"}function CE({operation:t,canDelete:r}){const{removeOperation:s,updateOperationType:i,updateOperationWeight:a,updateOperationTemplate:u}=an(),c=zc(t.type);return d.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 space-y-2.5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-8 rounded-full flex-shrink-0",style:{backgroundColor:c}}),d.jsx("select",{value:t.type,onChange:p=>i(t.id,p.target.value),className:"flex-1 px-2 py-1.5 text-sm font-medium border border-gray-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:S0.map(p=>d.jsx("option",{value:p.value,children:p.label},p.value))}),r&&d.jsx("button",{onClick:()=>s(t.id),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Remove operation",children:d.jsx(od,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs text-gray-500",children:"Weight"}),d.jsxs("span",{className:"text-xs font-mono font-medium text-gray-700",children:[t.weight,"%"]})]}),d.jsx("input",{type:"range",value:t.weight,min:0,max:100,step:1,onChange:p=>a(t.id,Number(p.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer accent-primary-500",style:{background:`linear-gradient(to right, ${c} ${t.weight}%, #E5E7EB ${t.weight}%)`}})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("span",{className:"text-xs text-gray-500",children:"Template"}),d.jsx("input",{type:"text",value:t.template,onChange:p=>u(t.id,p.target.value),className:"w-full px-2 py-1 text-xs font-mono border border-gray-200 rounded bg-gray-50 text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:bg-white"})]})]})}function _E({operations:t}){const r=t.reduce((s,i)=>s+i.weight,0);return d.jsxs("div",{className:"space-y-1.5",children:[d.jsx("div",{className:"flex h-3 rounded-full overflow-hidden bg-gray-100",children:t.map(s=>d.jsx("div",{style:{width:`${s.weight}%`,backgroundColor:zc(s.type)},className:"transition-all duration-200",title:`${s.type}: ${s.weight}%`},s.id))}),d.jsx("div",{className:"flex flex-wrap gap-3",children:t.map(s=>d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:zc(s.type)}}),d.jsxs("span",{className:"text-xs text-gray-600",children:[s.type," ",s.weight,"%"]})]},s.id))}),r!==100&&d.jsxs("p",{className:"text-xs text-amber-600",children:["Weights sum to ",r,"% (should be 100%)"]})]})}function bE(){const{workload:t,isEditorOpen:r,closeEditor:s,setWorkloadName:i,setDistribution:a,setConcurrency:u,setTotalOperations:c,addOperation:p,loadPreset:h}=an(),g=F.useCallback(v=>{v.target===v.currentTarget&&s()},[s]);return r?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:g,children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Tc,{className:"w-5 h-5 text-primary-500"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Define Workload"})]}),d.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(un,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-6",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5",children:[d.jsx(td,{className:"w-4 h-4 text-gray-400"}),"Workload Name"]}),d.jsx("input",{type:"text",value:t.name,onChange:v=>i(v.target.value),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"My workload"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Presets"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:h0.map(v=>d.jsx("button",{onClick:()=>h(v.id),className:"px-3 py-1.5 text-xs font-medium border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-primary-300 transition-colors",title:v.description,children:v.name},v.id))})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Operations"}),d.jsxs(Ie,{variant:"ghost",size:"sm",onClick:()=>p(),className:"text-primary-600",children:[d.jsx(d0,{className:"w-4 h-4"}),"Add"]})]}),d.jsx(_E,{operations:t.operations}),d.jsx("div",{className:"space-y-2",children:t.operations.map(v=>d.jsx(CE,{operation:v,canDelete:t.operations.length>1},v.id))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5",children:[d.jsx(TN,{className:"w-4 h-4 text-gray-400"}),"Key Distribution"]}),d.jsx("div",{className:"grid grid-cols-3 gap-2",children:EE.map(v=>d.jsxs("button",{onClick:()=>a(v.value),className:`p-3 rounded-lg border-2 text-left transition-colors ${t.distribution===v.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[d.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:v.label}),d.jsx("span",{className:"text-xs text-gray-500",children:v.description})]},v.value))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5",children:[d.jsx(p0,{className:"w-4 h-4 text-gray-400"}),"Concurrency"]}),d.jsx("input",{type:"number",value:t.concurrency,min:1,max:1e3,onChange:v=>u(Number(v.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),d.jsx("input",{type:"range",value:t.concurrency,min:1,max:1e3,step:1,onChange:v=>u(Number(v.target.value)),className:"w-full h-2 rounded-lg appearance-none cursor-pointer accent-primary-500"})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1.5",children:[d.jsx(tl,{className:"w-4 h-4 text-gray-400"}),"Total Operations"]}),d.jsx("input",{type:"number",value:t.totalOperations,min:1,max:1e6,step:1e3,onChange:v=>c(Number(v.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),d.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[d.jsx("span",{children:"1"}),d.jsx("span",{children:t.totalOperations.toLocaleString()}),d.jsx("span",{children:"1M"})]})]})]})]}),d.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[d.jsx(Ie,{variant:"secondary",size:"md",onClick:s,children:"Cancel"}),d.jsx(Ie,{variant:"primary",size:"md",onClick:s,children:"Save & Close"})]})]})}):null}function jE(){const{validation:t,dismissValidation:r}=Ss(),{setSelectedNode:s,removeNode:i}=rt(),a=Uo();if(!t||t.valid)return null;const u=h=>{s(h);const g=rt.getState().nodes.find(v=>v.id===h);g&&a.setCenter(g.position.x+100,g.position.y+40,{zoom:1.2,duration:400}),r()},c=h=>{i(h)},p=(h,g,v)=>{const y=v==="error";return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[y?d.jsx(Jc,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}):d.jsx(id,{className:"w-4 h-4 text-amber-500 mt-0.5 flex-shrink-0"}),d.jsx("span",{className:`text-sm ${y?"text-gray-700":"text-gray-600"}`,children:h.message})]}),h.suggestion&&d.jsxs("p",{className:"ml-6 text-xs text-gray-400 italic",children:[" ",h.suggestion]}),h.nodeId&&d.jsxs("div",{className:"ml-6 flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>u(h.nodeId),className:"flex items-center gap-1 text-xs text-primary-500 hover:text-primary-700 font-medium",children:[d.jsx(a0,{className:"w-3 h-3"}),"Show on Canvas"]}),d.jsxs("button",{onClick:()=>c(h.nodeId),className:"flex items-center gap-1 text-xs text-gray-400 hover:text-red-500",children:[d.jsx(od,{className:"w-3 h-3"}),"Delete Block"]})]})]},`${v}-${g}`)};return d.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 w-full max-w-lg",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-red-200 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-red-50 border-b border-red-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(SN,{className:"w-5 h-5 text-red-500"}),d.jsx("span",{className:"text-sm font-semibold text-red-800",children:"Design Has Issues"}),d.jsxs("span",{className:"text-xs text-red-500",children:["(",t.errors.length," error",t.errors.length!==1?"s":"",t.warnings.length>0&&`, ${t.warnings.length} warning${t.warnings.length!==1?"s":""}`,")"]})]}),d.jsx("button",{onClick:r,className:"p-1 text-red-400 hover:text-red-600",children:d.jsx(un,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"px-4 py-3 space-y-3 max-h-64 overflow-y-auto",children:[t.errors.map((h,g)=>p(h,g,"error")),t.warnings.map((h,g)=>p(h,g,"warning"))]}),d.jsx("div",{className:"flex items-center justify-end px-4 py-3 border-t border-gray-100 bg-gray-50",children:d.jsx(Ie,{variant:"secondary",size:"sm",onClick:r,children:"Dismiss"})})]})})}function ME(){const{status:t,progress:r,progressMessage:s,cancelExecution:i}=Ss();return t!=="validating"&&t!=="running"?null:d.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 w-full max-w-md",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 px-5 py-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(s0,{className:"w-4 h-4 text-primary-500 animate-spin"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:t==="validating"?"Validating...":"Running workload..."})]}),d.jsx("button",{onClick:i,className:"text-xs text-gray-400 hover:text-gray-600",children:"Cancel"})]}),d.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary-500 rounded-full transition-all duration-300 ease-out",style:{width:`${r}%`}})}),d.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:s})]})})}function TE(){const{status:t,error:r,validation:s,clearResults:i}=Ss();return t!=="error"||!r||s&&!s.valid?null:d.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 w-full max-w-md",children:d.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-red-200 px-5 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Jc,{className:"w-5 h-5 text-red-500"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:r})]}),d.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-gray-600",children:d.jsx(un,{className:"w-4 h-4"})})]})})})}function DE(){return d.jsxs(d.Fragment,{children:[d.jsx(jE,{}),d.jsx(ME,{}),d.jsx(TE,{})]})}function nt(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:String(Math.round(t))}function We(t){return t>=1e3?`${(t/1e3).toFixed(2)}s`:`${t.toFixed(2)}ms`}function N0(t){return{schema_definition:"storage",heap_storage:"storage",clustered_storage:"storage",lsm_tree:"storage",btree_index:"index",hash_index:"index",covering_index:"index",lru_buffer:"buffer",clock_buffer:"buffer",sequential_scan:"execution",index_scan:"execution",filter:"execution",sort:"execution",hash_join:"execution",row_lock:"concurrency",mvcc:"concurrency",wal:"transaction"}[t]??"storage"}function PE(t){const r=[],s=[...t.blockMetrics].sort((a,u)=>u.percentage-a.percentage);if(s.length===0)return r;const i=s[0];if(i.percentage>40){const a=N0(i.blockType);a==="storage"?r.push({type:"performance",icon:"alert",message:`Storage is the bottleneck  "${i.blockName}" consumed ${i.percentage}% of execution time.`,detail:"Consider adding a buffer pool (LRU or Clock) to reduce disk I/O, or switch to clustered storage for better locality."}):a==="index"?r.push({type:"performance",icon:"alert",message:`Index lookup is the bottleneck  "${i.blockName}" consumed ${i.percentage}% of time.`,detail:"Try increasing the B-tree fanout to reduce tree depth, or use a hash index for point lookups."}):a==="execution"?r.push({type:"performance",icon:"alert",message:`Query execution is the bottleneck  "${i.blockName}" consumed ${i.percentage}% of time.`,detail:"Add an index to avoid sequential scans, or increase the memory limit for sort/join operations."}):r.push({type:"performance",icon:"alert",message:`"${i.blockName}" consumed ${i.percentage}% of execution time.`,detail:"Review its parameters to see if tuning can reduce overhead."})}for(const a of t.blockMetrics){const u=a.counters.hit_rate_pct;u!==void 0&&u<70&&r.push({type:"warning",icon:"lightbulb",message:`Cache hit rate is low (${u}%) on "${a.blockName}".`,detail:"Increase the buffer pool size to keep more pages in memory and reduce disk reads."})}return t.metrics.latency.p99>t.metrics.latency.avg*10&&r.push({type:"warning",icon:"lightbulb",message:"High tail latency  p99 is 10x the average.",detail:"This typically indicates contention or spilling to disk. Check concurrency settings and memory limits."}),r}function zE(t){const r=JSON.stringify(t,null,2),s=new Blob([r],{type:"application/json"}),i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download="db-simulator-metrics.json",a.click(),URL.revokeObjectURL(i)}function IE(t){const r="Block,Type,Execution Time (ms),Percentage (%)",s=t.blockMetrics.map(g=>`"${g.blockName}","${g.blockType}",${g.executionTime},${g.percentage}`),i=`
Metric,Value`,a=[`Throughput (ops/sec),${t.metrics.throughput}`,`Avg Latency (ms),${t.metrics.latency.avg}`,`p50 Latency (ms),${t.metrics.latency.p50}`,`p95 Latency (ms),${t.metrics.latency.p95}`,`p99 Latency (ms),${t.metrics.latency.p99}`,`Total Operations,${t.metrics.totalOperations}`,`Successful,${t.metrics.successfulOperations}`,`Failed,${t.metrics.failedOperations}`,`Total Duration (ms),${t.duration}`],u=[r,...s,i,...a].join(`
`),c=new Blob([u],{type:"text/csv"}),p=URL.createObjectURL(c),h=document.createElement("a");h.href=p,h.download="db-simulator-metrics.csv",h.click(),URL.revokeObjectURL(p)}function RE(t){const r=t.metrics;return["DB Simulator  Execution Results","",`Throughput:  ${nt(r.throughput)} ops/sec`,`Latency:     avg ${We(r.latency.avg)}  |  p50 ${We(r.latency.p50)}  |  p95 ${We(r.latency.p95)}  |  p99 ${We(r.latency.p99)}`,`Operations:  ${nt(r.successfulOperations)} / ${nt(r.totalOperations)} (${r.failedOperations} failed)`,`Duration:    ${We(t.duration)}`,"","Block Breakdown:",...t.blockMetrics.sort((s,i)=>i.percentage-s.percentage).map(s=>`  ${s.blockName.padEnd(24)} ${s.percentage.toFixed(1).padStart(5)}%  ${We(s.executionTime)}`)].join(`
`)}function xo({icon:t,label:r,value:s,sub:i,iconColor:a}){return d.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-white rounded-lg border border-gray-100",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${a}15`,color:a},children:t}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-bold text-gray-900 tabular-nums leading-tight",children:s}),d.jsx("p",{className:"text-xs text-gray-500",children:r}),d.jsx("p",{className:"text-[10px] text-gray-400",children:i})]})]})}function LE({bm:t,maxPct:r}){const s=N0(t.blockType),i=ws[s],a=r>0?t.percentage/r*100:0,[u,c]=F.useState(!1),p=Object.entries(t.counters);return d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>p.length>0&&c(!u),className:"w-full flex items-center gap-3 py-1.5 group text-left",children:[d.jsx("span",{className:"text-xs text-gray-700 w-36 truncate flex-shrink-0 font-medium",children:t.blockName}),d.jsx("div",{className:"flex-1 h-5 bg-gray-100 rounded overflow-hidden",children:d.jsx("div",{className:"h-full rounded transition-all duration-500",style:{width:`${a}%`,backgroundColor:i}})}),d.jsxs("span",{className:"text-xs text-gray-500 tabular-nums w-20 text-right flex-shrink-0",children:[t.percentage.toFixed(1),"% (",We(t.executionTime),")"]}),p.length>0&&d.jsx("span",{className:"text-gray-300 group-hover:text-gray-500 w-4",children:u?d.jsx(Kg,{className:"w-3 h-3"}):d.jsx(Zc,{className:"w-3 h-3"})})]}),u&&p.length>0&&d.jsx("div",{className:"ml-40 mb-2 grid grid-cols-3 gap-x-4 gap-y-0.5",children:p.map(([h,g])=>d.jsxs("div",{className:"flex justify-between text-[11px]",children:[d.jsx("span",{className:"text-gray-400",children:h.replace(/_/g," ")}),d.jsx("span",{className:"font-mono text-gray-600",children:nt(g)})]},h))})]})}function AE({suggestions:t}){return t.length===0?null:d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Insights"}),t.map((r,s)=>d.jsxs("div",{className:`flex items-start gap-2 px-3 py-2 rounded-lg text-sm ${r.type==="performance"?"bg-amber-50 border border-amber-200":"bg-blue-50 border border-blue-200"}`,children:[r.icon==="alert"?d.jsx(id,{className:"w-4 h-4 text-amber-500 mt-0.5 flex-shrink-0"}):d.jsx(_N,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:`text-xs font-medium ${r.type==="performance"?"text-amber-800":"text-blue-800"}`,children:r.message}),d.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:r.detail})]})]},s))]})}function $E(t){const r=t.metrics,{designName:s,nodes:i}=rt.getState(),{workload:a}=an.getState(),u=i.map(h=>{const g=h.data,v=Object.entries(g.parameters).filter(([,y])=>y!==""&&y!==!1).map(([y,x])=>`${y}: ${x}`).join(", ");return`- **${g.label}** (${g.category})${v?`  ${v}`:""}`}).join(`
`),c=a.operations.map(h=>`${h.weight}% ${h.type}`).join(", "),p=t.blockMetrics.sort((h,g)=>g.percentage-h.percentage).map(h=>`| ${h.blockName} | ${We(h.executionTime)} | ${h.percentage.toFixed(1)}% |`).join(`
`);return`# Database Design Report

Generated: ${new Date().toISOString().slice(0,19).replace("T"," ")}

## Design: ${s}

### Architecture
${u}

### Workload
- **${a.name}**
- ${nt(a.totalOperations)} operations
- ${c}
- ${a.distribution} distribution
- ${a.concurrency} concurrent operations

### Results

| Metric | Value |
|--------|-------|
| Throughput | ${nt(r.throughput)} ops/sec |
| Latency (avg) | ${We(r.latency.avg)} |
| Latency (p50) | ${We(r.latency.p50)} |
| Latency (p95) | ${We(r.latency.p95)} |
| Latency (p99) | ${We(r.latency.p99)} |
| Total Operations | ${nt(r.totalOperations)} |
| Successful | ${nt(r.successfulOperations)} |
| Failed | ${nt(r.failedOperations)} |
| Duration | ${We(t.duration)} |

### Block Breakdown

| Block | Time | Percentage |
|-------|------|------------|
${p}

---
*Generated by DB Simulator*
`}function OE({result:t}){const[r,s]=F.useState(!1),[i,a]=F.useState(!1),u=F.useCallback(()=>{navigator.clipboard.writeText(RE(t)),a(!0),setTimeout(()=>a(!1),2e3),s(!1)},[t]);return d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>s(!r),className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:[d.jsx(So,{className:"w-3.5 h-3.5"}),"Export"]}),r&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),d.jsxs("div",{className:"absolute right-0 top-8 z-50 w-44 bg-white rounded-lg shadow-lg border border-gray-200 py-1",children:[d.jsxs("button",{onClick:()=>{zE(t),s(!1)},className:"w-full px-3 py-1.5 text-left text-xs text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[d.jsx(So,{className:"w-3 h-3"}),"Export JSON"]}),d.jsxs("button",{onClick:()=>{IE(t),s(!1)},className:"w-full px-3 py-1.5 text-left text-xs text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[d.jsx(So,{className:"w-3 h-3"}),"Export CSV"]}),d.jsxs("button",{onClick:()=>{const c=$E(t);y0("db-simulator-report.md",c,"text/markdown"),s(!1)},className:"w-full px-3 py-1.5 text-left text-xs text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[d.jsx(So,{className:"w-3 h-3"}),"Export Report (.md)"]}),d.jsx("div",{className:"border-t border-gray-100 my-1"}),d.jsxs("button",{onClick:u,className:"w-full px-3 py-1.5 text-left text-xs text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[i?d.jsx(Er,{className:"w-3 h-3 text-green-500"}):d.jsx(ed,{className:"w-3 h-3"}),i?"Copied!":"Copy to clipboard"]})]})]})]})}function BE(){const{status:t,result:r,clearResults:s}=Ss(),[i,a]=F.useState(!1),u=F.useMemo(()=>r?PE(r):[],[r]);if(t!=="complete"||!r)return null;const c=r.metrics,p=[...r.blockMetrics].sort((E,C)=>C.percentage-E.percentage),h=p.length>0?p[0].percentage:100,g=r.blockMetrics.reduce((E,C)=>E+(C.counters.cache_hits??0),0),v=r.blockMetrics.reduce((E,C)=>E+(C.counters.cache_misses??0),0),y=g+v,x=y>0?Math.round(g/y*100):null,k=r.blockMetrics.reduce((E,C)=>E+(C.counters.pages_read??0)+(C.counters.pages_scanned??0),0),S=r.blockMetrics.reduce((E,C)=>E+(C.counters.pages_written??0),0);return d.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Er,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Execution Complete"}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",We(r.duration),")"]}),u.length>0&&d.jsxs("span",{className:"text-xs bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded font-medium",children:[u.length," insight",u.length>1?"s":""]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(OE,{result:r}),d.jsx("button",{onClick:()=>a(!i),className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:i?d.jsxs(d.Fragment,{children:[d.jsx(Kg,{className:"w-3.5 h-3.5"}),"Expand"]}):d.jsxs(d.Fragment,{children:[d.jsx(Zc,{className:"w-3.5 h-3.5"}),"Collapse"]})}),d.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600",title:"Close dashboard",children:d.jsx(un,{className:"w-4 h-4"})})]})]}),!i&&d.jsxs("div",{className:"px-4 py-4 space-y-5 max-h-[45vh] overflow-y-auto",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[d.jsx(xo,{icon:d.jsx(CN,{className:"w-5 h-5"}),label:"Throughput",value:nt(c.throughput),sub:"ops/sec",iconColor:"#3B82F6"}),d.jsx(xo,{icon:d.jsx(tl,{className:"w-5 h-5"}),label:"Latency (p99)",value:We(c.latency.p99),sub:`avg ${We(c.latency.avg)}  p50 ${We(c.latency.p50)}`,iconColor:"#F59E0B"}),x!==null?d.jsx(xo,{icon:d.jsx(Tc,{className:"w-5 h-5"}),label:"Cache Hit Rate",value:`${x}%`,sub:`${nt(g)} hits  ${nt(v)} misses`,iconColor:"#10B981"}):d.jsx(xo,{icon:d.jsx(Tc,{className:"w-5 h-5"}),label:"Operations",value:nt(c.successfulOperations),sub:`${c.failedOperations} failed of ${nt(c.totalOperations)}`,iconColor:"#10B981"}),d.jsx(xo,{icon:d.jsx(nd,{className:"w-5 h-5"}),label:"I/O",value:nt(k+S),sub:`${nt(k)} reads  ${nt(S)} writes`,iconColor:"#8B5CF6"})]}),d.jsxs("div",{className:"flex gap-6 text-xs px-1",children:[d.jsxs("span",{className:"text-gray-500",children:["avg"," ",d.jsx("span",{className:"font-mono text-gray-700",children:We(c.latency.avg)})]}),d.jsxs("span",{className:"text-gray-500",children:["p50"," ",d.jsx("span",{className:"font-mono text-gray-700",children:We(c.latency.p50)})]}),d.jsxs("span",{className:"text-gray-500",children:["p95"," ",d.jsx("span",{className:"font-mono text-gray-700",children:We(c.latency.p95)})]}),d.jsxs("span",{className:"text-gray-500",children:["p99"," ",d.jsx("span",{className:"font-mono text-gray-700",children:We(c.latency.p99)})]}),c.failedOperations>0&&d.jsxs("span",{className:"text-red-500 ml-auto",children:[nt(c.failedOperations)," failed ops"]})]}),p.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider mb-2",children:"Block Breakdown"}),d.jsx("div",{className:"space-y-0.5",children:p.map(E=>d.jsx(LE,{bm:E,maxPct:h},E.blockId))})]}),d.jsx(AE,{suggestions:u})]})]})}function FE(t,r){const s=[];function i(y,x,k,S,E){const C=k===0?0:(S-k)/k*100;let b="tie";Math.abs(C)>1&&(E?b=S<k?"B":"A":b=S>k?"B":"A"),s.push({label:y,unit:x,valueA:k,valueB:S,winner:b,diffPct:C,lowerIsBetter:E})}i("Throughput","ops/sec",t.metrics.throughput,r.metrics.throughput,!1),i("Avg Latency","ms",t.metrics.latency.avg,r.metrics.latency.avg,!0),i("p50 Latency","ms",t.metrics.latency.p50,r.metrics.latency.p50,!0),i("p95 Latency","ms",t.metrics.latency.p95,r.metrics.latency.p95,!0),i("p99 Latency","ms",t.metrics.latency.p99,r.metrics.latency.p99,!0),i("Failed Ops","",t.metrics.failedOperations,r.metrics.failedOperations,!0),i("Duration","ms",t.duration,r.duration,!0);const a=[],u=s[0];if(u.winner!=="tie"){const y=u.winner,x=Math.abs(u.diffPct).toFixed(0);a.push(`Design ${y} has ${x}% higher throughput.`)}const c=s[4];if(c.winner!=="tie"){const y=c.winner,x=Math.abs(c.diffPct).toFixed(0);a.push(`Design ${y} has ${x}% lower p99 latency.`)}const p=s[6];if(p.winner!=="tie"){const y=p.winner,x=Math.abs(p.diffPct).toFixed(0);a.push(`Design ${y} completes ${x}% faster.`)}const h=s.filter(y=>y.winner==="A").length,g=s.filter(y=>y.winner==="B").length;let v;return h>g?v="Design A wins on more metrics and is the better overall choice for this workload.":g>h?v="Design B wins on more metrics and is the better overall choice for this workload.":v="Both designs perform similarly. Choose based on your priority (throughput vs latency).",{metrics:s,summaries:a,recommendation:v}}function Sa(t,r){return r==="ops/sec"?t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:String(Math.round(t)):r==="ms"?t.toFixed(2):String(Math.round(t))}function HE(t){return`${t>0?"+":""}${t.toFixed(0)}%`}function em({label:t,selectedId:r,designs:s,onChange:i}){return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase",children:t}),d.jsx("select",{value:r,onChange:a=>i(a.target.value),className:"px-2 py-1 text-sm border border-gray-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:s.map(a=>d.jsx("option",{value:a.id,children:a.name},a.id))})]})}function VE({open:t,onClose:r}){var b,D,N;const{designs:s,setActiveDesign:i,saveCurrentCanvas:a}=Mt(),u=F.useMemo(()=>s.filter(_=>_.lastResult!==null),[s]),[c,p]=F.useState(((b=u[0])==null?void 0:b.id)??""),[h,g]=F.useState(((D=u[1])==null?void 0:D.id)??((N=u[0])==null?void 0:N.id)??""),[v,y]=F.useState(!1),x=s.find(_=>_.id===c),k=s.find(_=>_.id===h),S=F.useMemo(()=>!(x!=null&&x.lastResult)||!(k!=null&&k.lastResult)?null:FE(x.lastResult,k.lastResult),[x,k]),E=F.useCallback(_=>{a(),i(_),r()},[a,i,r]),C=F.useCallback(()=>{if(!S||!x||!k)return;const _=[`Comparison: ${x.name} vs ${k.name}`,"".repeat(50),...S.metrics.map(A=>`${A.label.padEnd(16)} ${Sa(A.valueA,A.unit).padStart(10)} ${A.unit}  vs  ${Sa(A.valueB,A.unit).padStart(10)} ${A.unit}  ${A.winner==="tie"?"  tie":`   ${A.winner}`}`),"",...S.summaries,"",S.recommendation];navigator.clipboard.writeText(_.join(`
`)),y(!0),setTimeout(()=>y(!1),2e3)},[S,x,k]);return t?u.length<2?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:r,children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 text-center",onClick:_=>_.stopPropagation(),children:[d.jsx(Pc,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nothing to Compare"}),d.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Run at least 2 designs to compare their results. Create a new design tab, configure it differently, and run both."}),d.jsx(Ie,{variant:"secondary",onClick:r,children:"Close"})]})}):d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:r,children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col",onClick:_=>_.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Pc,{className:"w-5 h-5 text-primary-500"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Compare Designs"})]}),d.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600",children:d.jsx(un,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-gray-50 border-b border-gray-200",children:[d.jsx(em,{label:"A",selectedId:c,designs:u,onChange:p}),d.jsx(Kc,{className:"w-4 h-4 text-gray-400"}),d.jsx(em,{label:"B",selectedId:h,designs:u,onChange:g})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-5",children:c===h?d.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"Select two different designs to compare."}):S?d.jsxs(d.Fragment,{children:[d.jsx("div",{children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-gray-200 text-xs text-gray-500 uppercase",children:[d.jsx("th",{className:"py-2 text-left font-medium",children:"Metric"}),d.jsx("th",{className:"py-2 text-right font-medium",children:(x==null?void 0:x.name)??"A"}),d.jsx("th",{className:"py-2 text-right font-medium",children:(k==null?void 0:k.name)??"B"}),d.jsx("th",{className:"py-2 text-center font-medium w-20",children:"Diff"})]})}),d.jsx("tbody",{children:S.metrics.map(_=>d.jsxs("tr",{className:"border-b border-gray-100",children:[d.jsx("td",{className:"py-2 text-gray-700 font-medium",children:_.label}),d.jsxs("td",{className:"py-2 text-right tabular-nums",children:[d.jsxs("span",{className:_.winner==="A"?"text-green-700 font-semibold":"text-gray-700",children:[Sa(_.valueA,_.unit),d.jsx("span",{className:"text-gray-400 ml-0.5 text-xs",children:_.unit})]}),_.winner==="A"&&d.jsx(Er,{className:"w-3.5 h-3.5 text-green-500 inline ml-1"})]}),d.jsxs("td",{className:"py-2 text-right tabular-nums",children:[d.jsxs("span",{className:_.winner==="B"?"text-green-700 font-semibold":"text-gray-700",children:[Sa(_.valueB,_.unit),d.jsx("span",{className:"text-gray-400 ml-0.5 text-xs",children:_.unit})]}),_.winner==="B"&&d.jsx(Er,{className:"w-3.5 h-3.5 text-green-500 inline ml-1"})]}),d.jsx("td",{className:"py-2 text-center",children:_.winner!=="tie"?d.jsx("span",{className:`text-xs font-mono px-1.5 py-0.5 rounded ${_.winner==="B"?_.lowerIsBetter||_.diffPct>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700":_.lowerIsBetter?"bg-red-100 text-red-700":_.diffPct<0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:HE(_.diffPct)}):d.jsx("span",{className:"text-xs text-gray-400",children:"tie"})})]},_.label))})]})}),S.summaries.length>0&&d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-1",children:[d.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wider mb-2",children:"Summary"}),S.summaries.map((_,A)=>d.jsxs("p",{className:"text-sm text-gray-700",children:[" ",_]},A)),d.jsx("p",{className:"text-sm text-gray-900 font-medium mt-3",children:S.recommendation})]})]}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No results available for the selected designs."})}),d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("button",{onClick:C,className:"flex items-center gap-1 px-3 py-1.5 text-xs text-gray-600 hover:text-gray-800 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:[v?d.jsx(Er,{className:"w-3.5 h-3.5 text-green-500"}):d.jsx(ed,{className:"w-3.5 h-3.5"}),v?"Copied!":"Copy Report"]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[S&&c!==h&&d.jsxs(d.Fragment,{children:[d.jsxs(Ie,{variant:"secondary",size:"sm",onClick:()=>E(c),children:["Choose ",(x==null?void 0:x.name)??"A"]}),d.jsxs(Ie,{variant:"secondary",size:"sm",onClick:()=>E(h),children:["Choose ",(k==null?void 0:k.name)??"B"]})]}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:r,children:"Close"})]})]})]})}):null}let E0=0;function Ze(t,r,s,i){const a=ld(t);if(!a)throw new Error(`Unknown block type: ${t}`);const u={};for(const p of a.parameters)u[p.name]=p.default;return i&&Object.assign(u,i),{id:`tpl-${t}-${++E0}`,type:"blockNode",position:{x:r,y:s},data:{blockType:t,label:a.name,category:a.category,icon:a.icon,color:ws[a.category],inputs:a.inputs,outputs:a.outputs,parameters:u,state:"idle"}}}function wt(t,r,s,i){return{id:`e-${t.id}-${s.id}`,source:t.id,target:s.id,sourceHandle:r,targetHandle:i,type:"smoothstep",style:{strokeWidth:2,stroke:"#94A3B8"}}}function UE(){const t=Ze("schema_definition",50,80,{tableName:"users",columns:"id:int,name:varchar,email:varchar,created_at:timestamp"}),r=Ze("heap_storage",320,80,{pageSize:8192,fillFactor:90}),s=Ze("btree_index",320,260,{keyColumn:"id",fanout:128,unique:!0}),i=Ze("lru_buffer",600,80,{size:128,pageSize:8192}),a=Ze("sequential_scan",600,260,{prefetchPages:32}),u=[wt(t,"schema",r,"records"),wt(r,"stored",s,"records"),wt(r,"stored",i,"requests"),wt(i,"pages",a,"storage")];return{id:"tpl-oltp",name:"OLTP Balanced",description:"A balanced design for mixed read/write transactional workloads. Uses heap storage with a B-tree index and LRU buffer pool.",category:"oltp",tags:["transactions","balanced","B-tree","buffer pool"],nodes:[t,r,s,i,a],edges:u,workload:{name:"OLTP Mixed",operations:[{id:"w1",type:"SELECT",weight:50,template:"SELECT * FROM {table} WHERE id = ?"},{id:"w2",type:"UPDATE",weight:30,template:"UPDATE {table} SET col = ? WHERE id = ?"},{id:"w3",type:"INSERT",weight:20,template:"INSERT INTO {table} VALUES (?)"}],distribution:"zipfian",concurrency:100,totalOperations:1e4}}}function WE(){const t=Ze("schema_definition",50,120,{tableName:"events",columns:"id:int,timestamp:bigint,type:varchar,payload:text"}),r=Ze("lsm_tree",320,50,{memtableSize:128,levelMultiplier:10,bloomFilterBits:10}),s=Ze("wal",320,260,{bufferSize:32,syncMode:"fdatasync"}),i=Ze("filter",600,50,{predicate:'type = "error"'}),a=[wt(t,"schema",r,"records"),wt(t,"schema",s,"writes"),wt(r,"stored",i,"records")];return{id:"tpl-write-heavy",name:"Write-Heavy (Logging)",description:"Optimized for high insert throughput. Uses an LSM tree for fast writes with a WAL for durability. Ideal for logging and event streaming.",category:"write-heavy",tags:["LSM tree","WAL","logging","insert-heavy"],nodes:[t,r,s,i],edges:a,workload:{name:"Write-Heavy",operations:[{id:"w1",type:"INSERT",weight:80,template:"INSERT INTO {table} VALUES (?)"},{id:"w2",type:"SELECT",weight:20,template:"SELECT * FROM {table} WHERE id = ?"}],distribution:"latest",concurrency:200,totalOperations:5e4}}}function qE(){const t=Ze("schema_definition",50,120,{tableName:"orders",columns:"id:int,customer_id:int,amount:decimal,status:varchar,created_at:timestamp"}),r=Ze("clustered_storage",320,50,{clusterKey:"created_at",pageSize:16384}),s=Ze("covering_index",320,260,{keyColumns:"customer_id",includeColumns:"amount,status"}),i=Ze("lru_buffer",600,50,{size:512,pageSize:16384}),a=Ze("sort",600,260,{sortColumns:"created_at DESC",memoryLimit:512}),u=[wt(t,"schema",r,"records"),wt(r,"stored",s,"records"),wt(r,"stored",i,"requests"),wt(i,"pages",a,"records")];return{id:"tpl-read-heavy",name:"Read-Heavy (Analytics)",description:"Optimized for query performance. Uses clustered storage with a covering index and a large buffer pool. Great for analytics and reporting.",category:"read-heavy",tags:["analytics","covering index","clustered","large buffer"],nodes:[t,r,s,i,a],edges:u,workload:{name:"Read-Heavy Analytics",operations:[{id:"w1",type:"SELECT",weight:70,template:"SELECT * FROM {table} WHERE customer_id = ?"},{id:"w2",type:"SCAN",weight:25,template:"SELECT * FROM {table} WHERE created_at BETWEEN ? AND ?"},{id:"w3",type:"UPDATE",weight:5,template:"UPDATE {table} SET status = ? WHERE id = ?"}],distribution:"zipfian",concurrency:50,totalOperations:2e4}}}function YE(){const t=Ze("schema_definition",50,120,{tableName:"accounts",columns:"id:int,balance:decimal,updated_at:timestamp"}),r=Ze("heap_storage",320,50,{pageSize:8192,fillFactor:85}),s=Ze("mvcc",320,260,{isolationLevel:"snapshot",gcInterval:2e3}),i=Ze("btree_index",600,50,{keyColumn:"id",fanout:256,unique:!0}),a=Ze("wal",600,260,{bufferSize:16,syncMode:"fsync"}),u=[wt(t,"schema",r,"records"),wt(r,"stored",i,"records"),wt(t,"schema",a,"writes")];return{id:"tpl-concurrent",name:"Concurrent (MVCC)",description:"Designed for high-concurrency transactional workloads. Uses MVCC for snapshot isolation, a B-tree index, and WAL for crash recovery.",category:"oltp",tags:["MVCC","concurrency","snapshot isolation","WAL"],nodes:[t,r,s,i,a],edges:u,workload:{name:"Concurrent OLTP",operations:[{id:"w1",type:"SELECT",weight:40,template:"SELECT * FROM {table} WHERE id = ?"},{id:"w2",type:"UPDATE",weight:40,template:"UPDATE {table} SET balance = ? WHERE id = ?"},{id:"w3",type:"INSERT",weight:20,template:"INSERT INTO {table} VALUES (?)"}],distribution:"zipfian",concurrency:200,totalOperations:2e4}}}function XE(){return E0=0,[UE(),WE(),qE(),YE()]}const GE={oltp:"OLTP",olap:"OLAP","write-heavy":"Write-Heavy","read-heavy":"Read-Heavy"},QE={oltp:"#3B82F6",olap:"#06B6D4","write-heavy":"#10B981","read-heavy":"#8B5CF6"},KE={oltp:d.jsx(p0,{className:"w-4 h-4"}),olap:d.jsx(Gg,{className:"w-4 h-4"}),"write-heavy":d.jsx(rd,{className:"w-4 h-4"}),"read-heavy":d.jsx(ks,{className:"w-4 h-4"})};function ZE({template:t,onSelect:r}){const s=QE[t.category],i=GE[t.category],a=KE[t.category];return d.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden hover:shadow-md hover:border-gray-300 transition-all group",children:[d.jsxs("div",{className:"h-28 px-4 py-3 flex flex-col justify-between",style:{backgroundColor:`${s}08`},children:[d.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:t.nodes.map((u,c)=>d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"inline-block w-14 h-6 rounded text-[9px] font-medium text-white text-center leading-6 truncate px-1",style:{backgroundColor:u.data.color},children:u.data.label.split(" ")[0]}),c<t.nodes.length-1&&d.jsx(Kc,{className:"w-3 h-3 text-gray-300"})]},u.id))}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-semibold px-1.5 py-0.5 rounded",style:{backgroundColor:`${s}20`,color:s},children:[a,i]}),d.jsxs("span",{className:"text-[10px] text-gray-400",children:[t.nodes.length," blocks  ",t.edges.length," connections"]})]})]}),d.jsxs("div",{className:"px-4 py-3",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:t.name}),d.jsx("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2 mb-3",children:t.description}),d.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:t.tags.slice(0,4).map(u=>d.jsx("span",{className:"text-[10px] text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:u},u))}),d.jsxs("div",{className:"text-[10px] text-gray-400 mb-3",children:["Workload: ",t.workload.operations.map(u=>`${u.weight}% ${u.type}`).join(", ")]}),d.jsx(Ie,{variant:"primary",size:"sm",className:"w-full",onClick:()=>r(t),children:"Use Template"})]})]})}function JE({open:t,onClose:r}){const s=F.useMemo(()=>XE(),[]),{createDesign:i,saveCurrentCanvas:a}=Mt(),u=rt,c=an,p=g=>{a(),i(g.name);const v=JSON.parse(JSON.stringify(g.nodes)),y=JSON.parse(JSON.stringify(g.edges));u.getState().loadDesign(g.name,v,y);const x=c.getState();x.setWorkloadName(g.workload.name),x.setDistribution(g.workload.distribution),x.setConcurrency(g.workload.concurrency),x.setTotalOperations(g.workload.totalOperations),c.setState({workload:JSON.parse(JSON.stringify(g.workload))}),r()},h=()=>{a(),i(),r()};return t?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:r,children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(nl,{className:"w-5 h-5 text-primary-500"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Start from Template"})]}),d.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600",children:d.jsx(un,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-5",children:d.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map(g=>d.jsx(ZE,{template:g,onSelect:p},g.id))})}),d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[d.jsx("p",{className:"text-xs text-gray-500",children:"Templates include pre-configured blocks, connections, and a matching workload."}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ie,{variant:"secondary",size:"sm",onClick:h,children:"Start from Scratch"}),d.jsx(Ie,{variant:"ghost",size:"sm",onClick:r,children:"Cancel"})]})]})]})}):null}const C0="db-sim-onboarding-complete";function eC(){try{return localStorage.getItem(C0)==="true"}catch{return!1}}function mc(){try{localStorage.setItem(C0,"true")}catch{}}const is=[{title:"Welcome to DB Simulator!",description:"Design databases visually, run workloads, and compare performance instantly. This quick tour will show you the basics.",icon:d.jsx(sd,{className:"w-6 h-6"})},{title:"Block Palette",description:"On the left you'll find building blocks  storage engines, indexes, buffers, and more. Each represents a real database component.",icon:d.jsx(nl,{className:"w-6 h-6"}),highlight:"left-palette"},{title:"Drag & Drop",description:"Drag blocks from the palette onto the canvas. Position them to build your database architecture.",icon:d.jsx(a0,{className:"w-6 h-6"}),highlight:"canvas"},{title:"Connect Blocks",description:"Click an output port (right side) and drag to an input port (left side) to create data flow connections between blocks.",icon:d.jsx(wN,{className:"w-6 h-6"}),highlight:"canvas"},{title:"Configure Parameters",description:"Click any block to select it. The right panel shows its configuration  page size, fanout, buffer size, and more.",icon:d.jsx(Ro,{className:"w-6 h-6"}),highlight:"right-panel"},{title:"Run a Workload",description:"Define a workload (mix of reads, writes, scans) then click Run. The simulator will execute your design and generate performance metrics.",icon:d.jsx(c0,{className:"w-6 h-6"}),highlight:"top-bar"},{title:"Analyze & Compare",description:"After running, the metrics dashboard shows throughput, latency, and per-block breakdown. Create multiple designs and compare them side-by-side!",icon:d.jsx(Gg,{className:"w-6 h-6"}),highlight:"bottom"}];function tC({onOpenTemplates:t}){const[r,s]=F.useState(!1),[i,a]=F.useState(0);F.useEffect(()=>{if(!eC()){const y=setTimeout(()=>s(!0),500);return()=>clearTimeout(y)}},[]);const u=F.useCallback(()=>{i<is.length-1?a(i+1):(mc(),s(!1))},[i]),c=F.useCallback(()=>{mc(),s(!1)},[]),p=F.useCallback(()=>{mc(),s(!1),t()},[t]);if(!r)return null;const h=is[i],g=i===is.length-1,v=i===0;return d.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),d.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[d.jsx("div",{className:"h-1 bg-gray-100",children:d.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${(i+1)/is.length*100}%`}})}),d.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-1 text-gray-400 hover:text-gray-600 z-10",title:"Skip tutorial",children:d.jsx(un,{className:"w-4 h-4"})}),d.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[d.jsx("div",{className:"w-14 h-14 mx-auto mb-4 rounded-2xl bg-primary-50 text-primary-500 flex items-center justify-center",children:h.icon}),d.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[i+1," of ",is.length]}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:h.title}),d.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:h.description})]}),d.jsx("div",{className:"flex items-center justify-center gap-1.5 pb-4",children:is.map((y,x)=>d.jsx("button",{onClick:()=>a(x),className:`w-2 h-2 rounded-full transition-colors ${x===i?"bg-primary-500":"bg-gray-200 hover:bg-gray-300"}`},x))}),d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100 bg-gray-50",children:[v?d.jsx("button",{onClick:c,className:"text-xs text-gray-500 hover:text-gray-700",children:"Skip tutorial"}):d.jsx("button",{onClick:()=>a(i-1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Back"}),d.jsx("div",{className:"flex items-center gap-2",children:g?d.jsxs(d.Fragment,{children:[d.jsxs(Ie,{variant:"secondary",size:"sm",onClick:p,children:[d.jsx(nl,{className:"w-4 h-4"}),"Try a Template"]}),d.jsx(Ie,{variant:"primary",size:"sm",onClick:u,children:"Start Building"})]}):d.jsxs(Ie,{variant:"primary",size:"sm",onClick:u,children:["Next",d.jsx(Kc,{className:"w-4 h-4"})]})})]})]})]})}const nC={success:{bg:"bg-green-50",border:"border-green-200",icon:d.jsx(Er,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),text:"text-green-800"},error:{bg:"bg-red-50",border:"border-red-200",icon:d.jsx(Jc,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),text:"text-red-800"},warning:{bg:"bg-amber-50",border:"border-amber-200",icon:d.jsx(id,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),text:"text-amber-800"},info:{bg:"bg-blue-50",border:"border-blue-200",icon:d.jsx(r0,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),text:"text-blue-800"}};function rC({toast:t,onRemove:r}){const[s,i]=F.useState(!1),a=nC[t.type];F.useEffect(()=>{const c=requestAnimationFrame(()=>i(!0));return()=>cancelAnimationFrame(c)},[]);const u=()=>{i(!1),setTimeout(()=>r(t.id),150)};return d.jsxs("div",{className:`
        flex items-start gap-2 px-4 py-3 rounded-lg border shadow-lg
        transition-all duration-150
        ${a.bg} ${a.border}
        ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}
      `,children:[a.icon,d.jsx("p",{className:`text-sm flex-1 ${a.text}`,children:t.message}),t.action&&d.jsx("button",{onClick:()=>{t.action.onClick(),u()},className:`text-xs font-semibold underline ${a.text} hover:opacity-70`,children:t.action.label}),d.jsx("button",{onClick:u,className:"p-0.5 text-gray-400 hover:text-gray-600",children:d.jsx(un,{className:"w-3.5 h-3.5"})})]})}function sC(){const{toasts:t,removeToast:r}=No();return t.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-[70] flex flex-col gap-2 w-80",children:t.map(s=>d.jsx(rC,{toast:s,onRemove:r},s.id))})}function oC(){const[t,r]=F.useState(!1),[s,i]=F.useState(!1),a=F.useCallback(()=>i(!0),[]);return F.useEffect(()=>{Mt.getState().hydrate(),qN().then(()=>{Ss.getState().refreshEngineType()})},[]),d.jsxs(Fg,{children:[d.jsxs("div",{className:"h-screen w-screen flex flex-col overflow-hidden",children:[d.jsx(tE,{onOpenComparison:()=>r(!0),onOpenTemplates:a}),d.jsx(rE,{}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsx(uE,{}),d.jsx(hE,{}),d.jsx(NE,{})]}),d.jsx(BE,{})]}),d.jsx(bE,{}),d.jsx(DE,{}),d.jsx(VE,{open:t,onClose:()=>r(!1)}),d.jsx(JE,{open:s,onClose:()=>i(!1)}),d.jsx(tC,{onOpenTemplates:a}),d.jsx(sC,{})]})}px.createRoot(document.getElementById("root")).render(d.jsx(F.StrictMode,{children:d.jsx(oC,{})}));export{aC as g};
